(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon",2,3,4,5,43,170,265,"PinRepEditButtonCommon"],{"+lzj":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h}));var i=n("fyR6"),o=n("vzKb");const r={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{r.longTaskDurations=[]},s=Object(i.a)(()=>r.elementTimings),c=()=>s.get(),l=e=>{e&&s.save(),r.elementTimings=[]},d=()=>r;let u=0;const p=()=>u,h=()=>{Object(o.a)({type:"element",buffered:!0},e=>{r.elementTimings=r.elementTimings.concat(e.getEntries().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]))}),Object(o.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>r.longTaskDurations.push(e.duration))},()=>a()),Object(o.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(r.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{r.firstInputDelay=null}),Object(o.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,r.largestContentfulPaint=i.renderTime||i.loadTime||null)}),Object(o.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(r.cumulativeLayoutShiftScore+=e.value)})})}},"/WHw":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("/MKj"),r=n("JW66"),a=n("Ye/N"),s=n("5FNA"),c=n("Wer7"),l=n("vvax"),d=n("ANjH"),u=n("oN2T"),p=n("c50B"),h=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),b(this,"state",{createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(p.o)({message:a.a._("Don't forget to name your board!")}),Object(p.j)({max:r.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(l.b)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:r.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?r.a.BoardPrivacy.PUBLIC:r.a.BoardPrivacy.PROTECTED,saving:!1}),b(this,"invalidateResource",e=>{const{dispatch:t,viewer:n}=this.props;t(Object(c.f)("BoardsResource",Object(s.a)(n.isAuth?n.username:"",e===r.a.BoardPrivacy.SECRET)))}),b(this,"createBoard",e=>{const{dispatch:t,viewer:n}=this.props;return t(Object(u.g)(e,{isFBC:n.isAuth&&0===n.boardCount}))}),b(this,"handleChangeName",(e,t)=>{const n=Object(p.r)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),b(this,"handleChangePrivacy",()=>{const e=this.state.privacy===r.a.BoardPrivacy.SECRET?r.a.BoardPrivacy.PUBLIC:r.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),b(this,"handleCreate",()=>{const{inputName:e,privacy:t}=this.state,{isAdAccountOwner:n,onCreate:i,advertiser_id:o}=this.props,r={privacy:t,name:e,...!n&&o?{advertiser_id:o}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(r).then(e=>{this.setState({saving:!1}),i(e)}).catch(e=>{let t=a.a._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}this.setState({saving:!1,createBoardError:t})}),this.invalidateResource(t)})}render(){return Object(h.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}},b(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function f({advertiser:e,viewer:t}){const n=!e||t.isAuth&&e.owner_user_id===t.id,i=e&&e.id;return{isAdAccountOwner:n,...i?{advertiser_id:i}:{},viewer:t}}function g(e){return{dispatch:e}}function j(e){return Object(d.compose)(Object(o.connect)(f,g),m)(e)}},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=n("NwjN").a;function r({children:e}){return e(Object(i.useContext)(o))}function a(){return Object(i.useContext)(o)}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("VBRM"),o=n("YWqT"),r=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(r.a)(-t,n),a=new Date;return!Object(o.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,r=new Date,a=n?new Date(n):r,s=Object(i.a)(a,t);return Object(o.a)(s,r)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"0nTG":function(e,t,n){n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return m}));var i=n("mwIZ"),o=n.n(i),r=n("ZbwW"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},p=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function h(e,t={}){var n,i,o,s,c,l;const d=p(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=Object(r.a)(e);var h;if(t)u.image_count=null===(h=t.carousel_slots)||void 0===h?void 0:h.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const b=e.aggregated_pin_data||{};return null!=b&&b.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function b(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const m=(e,t={})=>{if(e){return b(h(e,t))}return null}},"1+5i":function(e,t,n){var i=n("w/wX"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isSet,s=a?o(a):i;e.exports=s},"15Oi":function(e,t,n){n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var i=n("q1tI"),o=n("GI6b"),r=n("XhR6"),a=n("QAzJ"),s=n("EC67"),c=n("RNo4");const l=["filters","category","domains","price_min","price_max"],d={query:"",queryParamStrings:{}};function u(e){const[t,n]=Object(i.useState)(d),{action:r}=Object(s.h)();return Object(i.useEffect)(()=>{["PUSH","POP"].includes(r)&&n(d)},[r]),{getFullUrlForTab:Object(i.useCallback)(({currentQueryParamString:i,currentTabIndex:r,incomingTabIndex:a,baseUrl:s})=>{n(t=>({query:t.query||e,queryParamStrings:{...t.queryParamStrings,[r]:i}}));const d=t.queryParamStrings[a];return Object(o.a)(s,Object(c.k)(d||Object(c.l)(i,l)))},[e,t])}}function p({displayShopTab:e,tabs:t,scope:n}){return Object(a.b)("mweb_web_search_ia_tabs")().anyEnabled?Boolean(t&&t.length>0):Boolean(e&&n===r.a.PINS||n===r.a.PINS_BUYABLE)}const h={explore:{href:"/search/pins/",loggingData:{element:11733},name:"explore"},shop:{href:"/search/buyable_pins/",loggingData:{element:11734},name:"shop"}}},"1inl":function(e,t,n){var i=n("Te9D"),o=n.n(i);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,n){const i=o()(e);return r.showHtmlError(i,t,n)},r.showHtmlError=function(e,t,n){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,n)},t.a=r},"1unC":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("nKUr");function o({children:e,fullWidth:t}){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto",...t?{width:"100%"}:{}},children:e})}function r({children:e,enabled:t}){return t?Object(i.jsx)(o,{children:e}):e}},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},"2qKt":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("Y+p1"),a=n.n(r),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),d=n("ANjH"),u=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>r=>{const b=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...h,...n};const m=function(e,t,n=!0,o=!0,r=!1,l){var d,h;return h=d=class extends i.Component{constructor(e){super(e),p(this,"state",{extraContext:void 0}),p(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:o,experience:r}=this.props;let c=i.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&!a()(c,l)&&o(Object(s.c)(e,l)),!r||n.experience&&r.id===n.experience.id||o(Object(s.k)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=r&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,o))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(l,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},p(d,"displayName",`withPlacement(${l.displayName||l.name||"Component"})`),h}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return Object(d.compose)(l.e,Object(o.connect)(b))(m)}},"3Qy3":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;default:return i.OTHER}}},"3R0Q":function(e,t,n){t.a=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{const o=i?`${e}_${i+1}`:e;n={...n,[o]:t}})}),n}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("4Utz"),o=n("n6mq"),r=n("nKUr");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(r.jsx)(o.e,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{var s,c,l,d;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},p=Object(r.jsx)(o.w,{alt:"",fit:"cover",naturalHeight:null!==(c=u.height)&&void 0!==c?c:1,naturalWidth:null!==(l=u.width)&&void 0!==l?l:1,src:null!==(d=u.url)&&void 0!==d?d:""});return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(r.jsx)(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(r.jsx)(o.B,{height:"100%",wash:!0,width:"100%",children:t?Object(r.jsx)(i.a,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("q1tI"),o=n("TSYQ"),r=n.n(o),a=n("Ye/N"),s=n("juJw"),c=n("qD10"),l=n("n6mq"),d=n("nKUr");class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:u,url:p}=this.props;if(o&&t)return null;const h="boardless"===u?a.a._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let b,m;if(!n||e||o){const e=o?Object(d.jsx)(l.Y,{color:"white",size:"lg",weight:"bold",children:h.length<=30?h:Object(s.a)(h,30)}):Object(d.jsx)(l.t,{color:"white",size:"sm",truncate:!0,children:h});b=p?Object(d.jsx)(c.a,{to:p,children:e}):e}else b=Object(d.jsx)(l.Y,{color:"white",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:a.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(m=e?"board":"saved"),Object(d.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",m):r()("SavedAnimation",m),children:b})}}t.a=u},"44Ds":function(e,t,n){var i=n("e4Nc");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},"4Utz":function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("gqRH"),o=n("0nTG"),r=n("Y8Sn"),a=n("ECHl"),s=n("QLqj"),c=n("n6mq"),l=n("U4JR"),d=n("QAzJ"),u=n("gD/Z"),p=n("nKUr");function h({sizing:e="default",children:t,collageChipId:n,componentType:h,contextLogData:b,elementType:m,pin:f,viewParameter:g,viewType:j}){const y=Object(u.b)(),{group:O}=Object(d.c)("web_search_share_skin_tone_filter"),{carousel_data:v,id:_}=f;let x,S=`/pin/${n||_}/`;if(v){const{carousel_slots:e=[],id:t,index:n=0}=v;S=`/pin/${_}/`,x={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}x={...x||{},...Object(o.f)(f,b)||{}};const w=Object(i.b)({href:S,externalData:{auxData:x,pin:f}});return Object(p.jsx)(c.X,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,disableOnNavigation:t})=>{t(),(()=>{if(Object(l.b)(101,{...b,component:h||y.componentType,element:m,objectId:_,view:j||y.viewType,viewParameter:g||y.viewParameter,...Object(o.f)(f,b)||{}}),Object(r.e)()&&Object(l.b)(8948,{closeup_navigation_type:"click",view:j||y.viewType,viewParameter:g||y.viewParameter,component:h||y.componentType,element:m,objectId:_,...b,...Object(o.f)(f,b)||{}}),O){const e=Number(s.d.getItem(a.a)||0);s.d.setItem(a.a,e+1)}})(),w({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:S,role:"link",children:t})}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var i=n("q1tI"),o=n("dKiF");const r=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})),a={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(a)},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),o=n("Jr++");let r;void 0===r&&(r=e),r._gaq=r._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},l=2,d=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):o&&o.id?s(["_setCustomVar",1,"viewingUser",o.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const p=function(e,t){let n=e;const r=Object(o.a)(t).q;return r&&(n+="?"+Object(i.a)({q:r})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",p(r.location.pathname,r.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){s(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4sDh":function(e,t,n){var i=n("4uTw"),o=n("03A+"),r=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var p=c(t[l]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(p,d)&&(r(e)||o(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),o=n("9ggG"),r=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(a(e))}},"51gp":function(e,t,n){n.d(t,"a",(function(){return v}));var i=n("q1tI"),o=n("sEfC"),r=n.n(o),a=n("qrav");var s=n("BEAQ"),c=n("jgRP"),l=n("9pre"),d=n("U4JR"),u=n("n6mq"),p=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,1],f={threshold:m},g={rootMargin:"-64px 0px 0px 0px",threshold:l.c},j=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function y(){return(new Date).getTime()}function O(e){return!!e.volume&&e.volume>0}class v extends i.Component{constructor(e){super(e),h(this,"videoWrapperRef",Object(i.createRef)()),h(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),h(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),h(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),h(this,"handleLoop",()=>{this.videoTime=0}),h(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,o=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const o of i){const i=o*n;if(e<=i&&t>i)return o}return null}(this.videoTime,i,this.currentInterval.videoDuration,b);if("number"==typeof o&&this.props.playing&&!t&&n){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),h(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),h(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),h(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),h(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],o=t[n+1];if(null==o)return i;if(i<=e&&e<o)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),m);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:j.PAUSED}):this.startNewInterval({viewability:i}))}),h(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),h(this,"handleClose",()=>{this.startNewInterval()}),h(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=y();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:O(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};O(e)&&!O(this.props)?n.isAudible=!1:!O(e)&&O(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?j.PLAYING:j.PAUSED:j.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:o,windowHeight:r,windowWidth:a,viewability:s,...c}=t;if(null!=i&&null!=o&&null!=r&&null!=a&&null!=s){const t={...c,height:i,width:o,windowHeight:r,windowWidth:a,viewability:s};Object(d.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:o,videoEndTime:r,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:b}},...m}=e;return{...m,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:o,endVideoTime:r,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:b}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=y();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:u,controls:h,cropHeight:b,hlsConfig:m,inAdsDesktopVideoExperiment:j,loop:y,objectFit:O,onLoadedChange:v,onPause:_,onPlay:x,onSeek:S,onVolumeChange:w,playbackRate:T,playing:I,playsInline:E,poster:P,preload:C,rootMargin:R,src:A,surface:D,videoStartTime:k,volume:N}=this.props,{seeking:L}=this.state,B=j?g:f;return void 0!==R&&(B.rootMargin=D?Object(c.a)(D):R),Object(p.jsx)(a.a,{options:B,onVisibilityChange:this.handleVisibilityChange,children:Object(p.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:b?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(p.jsx)(s.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:u,controls:h,hlsConfig:m,loop:y,objectFit:O,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:v,onLoop:this.handleLoop,onPause:_,onPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:S,onTimeChange:this.handleTimeChange,onVolumeChange:w,playbackRate:T,playing:!L&&I,playsInline:E,poster:P,preload:C,src:A,videoStartTime:k,visible:"boolean"==typeof this.visible?this.visible:!!I,volume:N})})})}}h(v,"defaultProps",u.fb.defaultProps)},5871:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("EC51"),a=n("4cpq"),s=n("n6mq"),c=n("nKUr");function l({iconAccessibilityLabel:e,href:t,icon:n,linkAccessibilityLabel:i,text:o}){return Object(c.jsxs)(s.e,{display:"flex",marginBottom:3,marginTop:3,children:[Object(c.jsx)(a.a,{id:"ad-reason-icon",children:Object(c.jsx)(s.H,{accessibilityLabel:e,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),Object(c.jsx)(s.e,{"data-test-id":"ad-location-targeting-reason",direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:Object(c.jsx)(s.Y,{children:o})}),t&&i&&Object(c.jsx)(r.a,{href:t,target:"blank",children:Object(c.jsx)(s.u,{accessibilityLabel:i,color:"darkGray",icon:"arrow-forward"})})]})}var d=n("Ye/N"),u=n("TgLd"),p=n("kmwA"),h=n("vvax");const{ACCOUNT_SETTINGS:b,CANONICAL_MAIN_URL:m,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:g}=p.a.settings;function j({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:p,isCustomerListMatched:j,isGeoPostalCodeMatched:y,isGeoRegionMatched:O,isShoppingTargetingRematched:v}){return Object(c.jsx)(u.b,{accessibilityModalLabel:d.a._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:Object(c.jsxs)(s.e,{paddingX:8,paddingY:6,children:[Object(c.jsxs)(s.e,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[Object(c.jsx)(s.e,{position:"absolute",left:!0,children:Object(c.jsx)(s.v,{accessibilityLabel:d.a._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),Object(c.jsx)(s.t,{align:"center",size:"md",children:d.a._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),Object(c.jsxs)(s.e,{paddingX:2,children:[Object(c.jsx)(s.e,{display:"flex",marginBottom:2,marginTop:2,children:Object(c.jsx)(s.Y,{children:Object(h.b)(d.a._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:Object(c.jsx)(s.Y,{inline:!0,children:Object(c.jsx)(r.a,{target:"blank",inline:!0,href:g,children:d.a._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:2,children:Object(c.jsx)(s.Y,{children:Object(h.b)(d.a._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})}),Object(c.jsxs)(a.a,{id:"ad-reasons",children:[y||O?Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",href:`${m}${b}`,linkAccessibilityLabel:d.a._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),text:Object(h.b)(d.a._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})}):null,o&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:d.a._("Your age is between age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range")}),p&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:d.a._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),v&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:Object(h.b)(d.a._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),j&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:Object(h.b)(d.a._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:1,children:Object(c.jsx)(s.Y,{children:d.a._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:3,children:Object(c.jsx)(s.o,{})}),Object(c.jsxs)(s.e,{marginBottom:3,marginTop:3,children:[Object(c.jsx)(s.t,{size:"sm",children:d.a._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")}),Object(c.jsx)(s.e,{children:Object(c.jsx)(s.Y,{children:Object(h.b)(d.a._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:Object(c.jsx)(s.Y,{inline:!0,children:Object(c.jsx)(r.a,{target:"blank",inline:!0,href:f,children:d.a._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var y=n("w70y"),O=n("v/Q4"),v=n("pLLR");function _({pinId:e,onDismiss:t}){var n,i,r,a;const{language:s}=Object(v.d)(),{country:l=""}=Object(O.a)(),d=Object(y.a)({name:"CountriesResource",options:{hasEmptyState:!0}}),u=Object(y.a)({name:"LocalesResource"}),p=Object(o.useSelector)(({pins:t})=>t[e]),{ad_targeting_attribution:h,promoter:b}=null!=p?p:{},{is_age_matched:m=!1,is_behavior_targeting_matched:f=!1,is_customer_list_matched:g=!1,is_geo_postal_code_matched:_=!1,is_geo_region_matched:x=!1,is_shopping_retargeting_matched:S=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]).slice(0,t).reduce((t,n)=>({...t,[n]:e[n]}),{})}(h))&&void 0!==n?n:{},w=null!==(i=null==b?void 0:b.full_name)&&void 0!==i?i:"",T=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(r=d.data)&&void 0!==r?r:[],l),I=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(a=u.data)&&void 0!==a?a:[],s);return Object(c.jsx)(j,{brandName:w,country:T,language:I,isAgeMatched:m,isBehaviorTargetingMatched:f,isCustomerListMatched:g,isGeoPostalCodeMatched:_,isGeoRegionMatched:x,isShoppingTargetingRematched:S,onDismiss:t})}var x=n("Nle8"),S=n("E/VT"),w=n("R6wO"),T=n("qD10"),I=n("gSZa"),E=n("hFNL"),P=n("ANjH"),C=n("pSsd"),R=n("0bYG"),A=n("U4JR"),D=n("1Fta"),k=n("DJoW"),N=n("QAzJ"),L=n("eqXv"),B=n("EC67");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={color:"white",textDecorationColor:"white"};class F extends i.Component{constructor(e){super(e),M(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),M(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,a;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",a="/"+n.username):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",a=i&&i.board&&i.board.url||e.url),o?Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:Object(c.jsx)(s.X,{onTap:()=>{var e;return this.props.history.push(null!==(e=a)&&void 0!==e?e:"")},children:Object(c.jsx)(s.B,{height:40,wash:!0,width:40,children:Object(c.jsx)(s.w,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null}),M(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),M(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),M(this,"feedbackHelpers",Object(D.a)({i18n:d.a,interpolateNamedTemplate:h.b})),M(this,"makeNavigateLink",(e,t,n,i)=>{const o={display:"inline",...i?U:{}};return Object(c.jsx)(T.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:o},children:n})},e)}),M(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),M(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&R.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&Object(D.d)(o),throughProperties:o&&Object(D.e)(o),clientTrackingParams:Object(x.a)(i)}),c=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),M(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&R.ReasonToChoose[r],s=i&&Object(D.d)(i),c=i&&Object(D.e)(i),l="pfyBoard"===t,{action:u,actionOptions:p}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:l?2:4,throughId:s,throughProperties:c,clientTrackingParams:Object(x.a)(n)}),b=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:u,actionOptions:p,feedbackText:{subTitle:l&&o?Object(h.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:b}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:l&&o?Object(h.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),M(this,"unfollowBoardOption",()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=Object(h.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=Object(h.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:Object(h.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}}),M(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(h.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(h.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:C.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(h.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),M(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(h.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(h.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),M(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),M(this,"_pinFeedbackText",()=>{const{adTargetingAttribution:e,location:t,feedbackType:n,hideDownload:i,whyAmISeeingThisAdExp:o,pinner:r}=this.props,a="followed"===this.props.feedbackType,s=t.pathname.includes("following"),c=(a||"topic"===n)&&!s,l=this.hidePinOption(c),u=this.reportPinOption(),p="promoted"!==n&&!i;let h=!1;switch(n){case"followed":const t=s,i=!t&&this.getRecommendationDescription(),a=null!=r&&r.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[l,...c||t?[a]:[],..."promoted"!==n?[this.downloadPinOption()]:[],u]};case"promoted":const{ad_match_reason:b}=this.props,m={link:this.feedbackHelpers.getLearnMoreUrl(b),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},f={dataTestId:"why-am-i-seeing-this-ad-exp",action:"showAdReasons",text:d.a._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{this.setState({showAdReasons:!0})}};h=e&&o&&o().anyEnabled;const g=[l,h?f:m,u];return{description:this.getRecommendationDescription(),options:g};case"topic":const j=this.unfollowTopicOption(),y=[l,...c&&j?[j]:[],...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:y};case"pfy":case"pfyBoard":const O=[l,..."pfyBoard"===n?[this.stopRecommendationOption()]:[],...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:O};default:const v=[l,...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:v}}}),M(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1,showAdReasons:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(L.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:c,showPinFeedbackUndo:l,viewParameter:d,viewType:u}=this.props;t&&n&&i?l(a,e,Object(D.b)(n,i,a,u,d,o,A.b),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),c(a))}makeStrongText(e,t){return Object(c.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;Object(A.b)(101,{...t,view:o,viewParameter:i,element:e,component:Object(D.c)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:l}=r,u=[],p=l.length;for(let h=0;h<p;h+=1){const r=l[h],p=L.b.includes(r.action),b=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,p,r.actionOptions,r.action);if("downloadPin"!==r.action)u.push(Object(c.jsx)(s.e,{children:r.link?Object(c.jsx)(a.a,{id:r.dataTestId||"",children:Object(c.jsx)(T.a,{external:!0,to:r.link,children:Object(c.jsx)(w.a,{compact:!0,text:r.text})})}):Object(c.jsx)(s.X,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,b),children:Object(c.jsx)(w.a,{compact:!0,text:r.text})})},h));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(E.b)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:a,pinCategory:l}=this.props;u.push(Object(c.jsx)(s.e,{children:Object(c.jsx)(S.a,{category:l,filename:r||a,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i,children:e=>Object(c.jsx)(s.X,{fullWidth:!1,onTap:e,children:Object(c.jsx)(w.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})})})},h))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:t,showAdReasons:n}=this.state,{feedbackData:i,feedbackType:o,pinId:r,onHide:a,recommendationReason:l,viewParameter:d,viewType:u}=this.props,{description:p}=e,h=this.getRecommendationDescriptionImage();return Object(c.jsxs)(s.e,{overflow:"hidden",width:"100%",children:[t?Object(c.jsx)(I.a,{feedbackData:i,feedbackType:o,pinId:r,onHide:a,recommendationReason:l,viewParameter:d,viewType:u}):Object(c.jsxs)(s.e,{children:[p&&Object(c.jsxs)(s.e,{children:[Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",padding:4,children:[Object(c.jsx)(s.e,{"data-pin-recommendation-reason":null==l?void 0:l.reason,maxHeight:56,overflow:"hidden",children:Object(c.jsx)(s.Y,{color:"darkGray",overflow:"normal",size:"md",children:p})}),h]}),Object(c.jsx)(s.o,{})]}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:2,children:this.renderButtons()})]}),n&&Object(c.jsx)(_,{onDismiss:()=>this.setState({showAdReasons:!1}),pinId:r})]})}}t.a=Object(P.compose)(Object(o.connect)(null,e=>({hidePinFeedback:t=>e(Object(k.b)(t)),showPinFeedback:(t,n)=>e(Object(k.a)(t,n)),showPinFeedbackOverlay:t=>e(Object(k.d)(t)),showPinFeedbackUndo:(t,n,i,o)=>e(Object(k.e)(t,n,i,o))})),B.l)((function(e){const t=Object(N.b)("web_waista"),{ad_targeting_attribution:n}=Object(o.useSelector)(({pins:t})=>t[e.pinId]);return Object(c.jsx)(F,{...e,adTargetingAttribution:n,whyAmISeeingThisAdExp:t})}))},"5f3z":function(e,t,n){function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:r,user:a}){const s=[o,n,e,a,r,i].map(e=>null!=e?e:"").join(":");return t?"auto-correction-disabled:"+s:s}function o({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:o=null,rs:r="direct_navigation",scope:a="pins",selectedPinImgSig:s=null,sourceId:c=null,user:l}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:a,source_id:c,user:l}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:r,query:a,rs:s,scope:c,bubbleId:l,user:d}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:a,rs:s,scope:c,selectedPinImgSig:r,bubbleId:l,user:d})}}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"63p3":function(e,t,n){function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return i}))},"6A0I":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("JW66"),a=n("Sihc"),s=n("Ye/N"),c=n("GBVV"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(e){super(e),u(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:i}=this.props;return this.setState({isSaving:!0}),t(Object(a.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:i})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),u(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:i}=this.state;[r.a.KeyCode.ENTER,r.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&i.trim()&&this.onCreateSection()}),u(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),u(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:i}=this.state;!i||t.inputRef&&!n||i.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:n,inputName:i,isSaving:o}=this.state,r=!!i.trim()&&!n;return Object(d.jsxs)(l.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&Object(d.jsx)(l.e,{marginTop:3,paddingX:6,paddingY:3,children:Object(d.jsx)(l.t,{size:"sm",children:s.a._("Add section","Title in the add section modal","Title in the add section modal")})}),Object(d.jsxs)(l.e,{padding:4,children:[Object(d.jsx)(l.e,{marginBottom:2,children:Object(d.jsx)(l.x,{htmlFor:"sectionEditName",children:Object(d.jsx)(l.Y,{size:"md",color:n?"red":"gray",children:s.a._("Name","Board section name","Board section name")})})}),Object(d.jsx)(l.e,{children:Object(d.jsx)(l.e,{ref:this.handleInputRef,children:Object(d.jsx)(l.ab,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:s.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),Object(d.jsx)(l.e,{display:"flex",flex:"grow"}),Object(d.jsx)(l.e,{padding:4,children:Object(d.jsx)(l.e,{display:"flex",justifyContent:"end",children:Object(d.jsx)(c.b,{disabled:!r||o,onClick:this.onCreateSection,submitting:o,text:s.a._("Add","add a new section","add a new section")})})})]})}}t.a=Object(o.connect)()(p)},"6G9P":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=(n("JW66"),n("yaUg")),r=n("Ye/N"),a=n("n6mq"),s=n("nKUr");const c=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e},l=(e,t)=>t?Object(o.a)(r.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:null!=e?e:""}):Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(a.Y,{children:r.a._("Saved to")}),Object(s.jsx)(a.Y,{weight:"bold",children:e})]})},"7Ve8":function(e,t,n){n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m}));var i=n("h4v/"),o=n("Ye/N"),r=n("x12c"),a=n("XhR6"),s=n("15Oi"),c=n("U4JR");const l=["search_articles_story","style_pivot","structured_search_bubble"];function d({query:e,scope:t}){return`${e}-${t}`}function u({category:e,domains:t,minPrice:n,maxPrice:i}){return[e,t,i,n].map(e=>null!=e?e:"").join("-")}function p({query:e,rs:t,scope:n}){const o=i.a.getInstance().getPreviousViewFromContext();if(!(!o.view_type&&!o.view_parameter)){const{view_type:i,view_parameter:r}=o;Object(c.b)(Object(a.b)(n),{view:i,viewParameter:r,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?Object(c.b)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&Object(c.b)(101,{component:0,element:10349,view:142})}function h({data:e,scope:t,showSensitiveContentNotice:n}){const i=!!e.typo,o=!(!e.nag||!e.nag.messages);i?(r.b.publish("searchHeaderMessage","searchHeaderMessageNag",{nag:null}),r.b.publish("searchHeaderMessage","searchHeaderMessageAutoCorrect",{typo:e.typo,scope:t})):o&&!n?(r.b.publish("searchHeaderMessage","searchHeaderMessageAutoCorrect",{typo:null,scope:t}),r.b.publish("searchHeaderMessage","searchHeaderMessageNag",{nag:{messages:e.nag.messages,sensitivity:e.sensitivity}})):(r.b.publish("searchHeaderMessage","searchHeaderMessageAutoCorrect",{typo:null,scope:t}),r.b.publish("searchHeaderMessage","searchHeaderMessageNag",{nag:null}))}const b=(e=[])=>{let t=!0;return e.reduce((e,n)=>{var i;return t&&n.story_type&&l.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchCarouselStories.push(n):(t=!1,e.filteredResults.push(n)),e},{searchCarouselStories:[],filteredResults:[]})};function m(e){return e&&e.length>0?e.map(e=>({...s.a[e.tab_type],text:e.name})):[{...s.a.explore,text:o.a._("Explore","searchResults.tabs.explore","label for default tab in search results")},{...s.a.shop,text:o.a._("Shop","searchResults.tabs.shop","label for shop tab in search results")}]}},"7wXf":function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("ynlw"),o=n("rsy7"),r=n("Ye/N"),a=n("EDqd"),s=n("US8k"),c=n("QAzJ"),l=n("n6mq"),d=n("nKUr");const u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function p({backgroundColor:e,identifier:t}){const n="pine"===e?"#0FA573":"#fff";return Object(d.jsx)(l.e,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...u,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function h({pin:e,allowProductCarousel:t,allowShoppingPriceIndicator:n,shoppingLabelColor:u}){const h=Object(i.a)(e),{anyEnabled:b,customActivate:m}=Object(c.c)("web_sp2s");if(h.isGif)return p({identifier:"GIF"});if(h.isStoryPin){const{page_count:t=0}=e.story_pin_data||{},n=Object(d.jsxs)(l.e,{display:"flex",alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(l.e,{marginEnd:1,display:"flex",alignItems:"center",children:Object(d.jsx)(l.u,{accessibilityLabel:b?r.a._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"):r.a._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:12})}),Object(d.jsx)(l.Y,{inline:!0,size:"sm",weight:"bold",children:t.toString()})]});return m(),p({identifier:n})}if(h.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return p({identifier:Object(s.a)(n)})}if(h.isProduct){if(n){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,n=t&&(t.price||t.max_price);return n?p({identifier:n}):null}if(u){const t=Object(o.a)(e)[0];return t?p({identifier:t,backgroundColor:u}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&Object(a.a)(e.images,t,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:i=[],index:o=0}=n;return p({identifier:`${o+1}/${i.length}`})}if(h.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:i=0}=t;return p({identifier:`${i+1}/${n.length}`})}return null}},"82UD":function(e,t,n){n.d(t,"a",(function(){return O}));var i=n("q1tI"),o=n("/MKj"),r=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),l=n("qD10"),d=n("yKES"),u=n("5uyJ"),p=n("n6mq"),h=n("nKUr");const b={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t;const{pin:{id:n,images:o,title:r,videos:a,video_status_message:s}}=e,c=s||{},m=o&&o["236x"],f=a&&(null===(t=a.video_list)||void 0===t?void 0:t[u.a.V_HLSV4]),{duration:g}=f||{};return Object(h.jsx)(i.Fragment,{children:Object(h.jsx)(p.i,{children:Object(h.jsxs)(l.a,{to:"/pin/"+n,children:[Object(h.jsxs)(p.e,{overflow:"hidden",position:"relative",rounding:2,children:[m&&Object(h.jsx)(p.w,{alt:r||"",color:"lightGray",naturalHeight:m.height,naturalWidth:m.width,src:m.url}),!!g&&Object(h.jsx)(p.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(h.jsx)(d.a,{duration:g})}),Object(h.jsx)(p.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:b.overlay}),Object(h.jsxs)(p.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(h.jsx)(p.t,{color:"white",overflow:"normal",size:"sm",children:c.title}),Object(h.jsx)(p.e,{marginTop:4,children:Object(h.jsx)(p.Y,{color:"white",size:"md",overflow:"normal",children:c.subtitle})})]})]}),Object(h.jsx)(p.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(h.jsx)(p.e,{flex:"grow",children:r&&Object(h.jsx)(p.e,{paddingY:1,children:Object(h.jsx)(p.Y,{inline:!0,size:"md",weight:"bold",children:r})})})})]})})})}var f=n("Y8Sn"),g=n("EC67"),j=n("vpxy"),y=n("0nTG");function O({trackingParameters:e,pin:t,pinId:n,...l}){var d;const u=Object(g.i)(),p=Object(o.useSelector)(({pins:e})=>e[n])||t,b=Object(a.a)(p,u),O=Object(s.a)(p),v=!!(O&&O.url&&O.height&&O.width)||void 0,_=O&&p.videos?p.videos.id:void 0,[x,S]=Object(i.useState)(!1),w=Object(i.useCallback)(()=>S(!0),[]),T=Object(i.useCallback)(()=>S(!1),[]),{componentType:I,contextLogData:E,impressionAuxFields:P,slotIndex:C,viewData:R,viewParameter:A,viewType:D}=e;return Object(h.jsx)(r.a,{componentType:I,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...E,...Object(y.f)(p,E)},impressionAuxFields:{...P||{},isNativeVideoAndWatchable:v,videoIdStr:_,clientTrackingParams:b||(p.tracking_params||"")+"-0",imageURL:p.images&&(null===(d=p.images["236x"])||void 0===d?void 0:d.url),richTypes:Object(y.e)(p)},impressionType:"Pin",isPaused:!x,loggingId:p.id,slotIndex:C,viewData:R,viewParameter:A,viewType:D,children:Object(f.h)(p)?Object(h.jsx)(m,{pin:p}):Object(h.jsx)(j.a,{...l,debugImpressionState:x?"started":"paused",onError:T,onLoad:w,pin:p,pinId:n,trackingParameters:{componentType:I,contextLogData:E,slotIndex:C,viewParameter:A,viewType:D}})})}},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"8kKu":function(e,t,n){var i=n("Ye/N"),o=n("CgR/"),r=n("Sp3T"),a=n("n6mq"),s=n("nKUr");t.a=o.a.makeSendShareButton((function({handleSendShareFlyoutButtonClick:e}){const t=Object(r.a)();return Object(s.jsx)("div",{"data-test-id":"share-icon-button",children:Object(s.jsx)(a.v,{accessibilityLabel:i.a._("Send","Accessible label to send a pin","Accessible label to send a pin"),bgColor:"white",icon:"share",iconColor:"darkGray",onClick:({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),t(()=>{e()})},size:"sm"})})}))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),o=n("7w6Q"),r=n("eOdZ"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l(e){const{identifier:t,onHide:n}=e,l=()=>{r.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(c.jsx)(a.v,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),l()},accessibilityLabel:i.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!(null===(n=t.collaborator_permissions)||void 0===n||!n.includes(e))}},"9ggG":function(e,t,n){var i=n("Z0cm"),o=n("/9aa"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},"9pre":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i=5,o="V_HLSV3_MOBILE",r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},AAEI:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("ANjH"),r=n("vh5K"),a=n("Vzit");function s(e){const t=Object(i.useDispatch)(),n=Object(i.useSelector)(e=>e.experiences.eligibleExperiences),s=Object(i.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(r.c)(n,s,e):null,...Object(o.bindActionCreators)({completeExperience:a.a,dismissExperience:a.b,fetchAllExperiences:a.d,fetchExperienceForPlacement:a.c,triggerExperimentsForPlacement:a.k,viewExperience:a.j},t)}}},"B/lV":function(e,t,n){const i=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&i(r),isExternal:o(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return me}));var i=n("q1tI"),o=n("b/K5"),r=n("/MKj"),a=n("JW66"),s=n("Ye/N"),c=n("GBVV"),l=n("/WHw"),d=n("pLLR"),u=n("fZbY"),p=n("oRM1"),h=n("FDmi"),b=n("yaUg"),m=n("n6mq"),f=n("nKUr");function g(e){const{body:t,img:n,onClick:i,selected:o,title:r,username:a,valid:c}=e,l=a||t;return Object(f.jsx)(m.e,{marginBottom:4,children:Object(f.jsx)(m.X,{onTap:i,children:Object(f.jsxs)(m.e,{alignItems:"center",direction:"row",display:"flex",width:"100%",children:[n,Object(f.jsxs)(m.e,{flex:"grow",marginEnd:2,marginStart:3,children:[Object(f.jsx)(m.e,{marginBottom:1,children:Object(f.jsx)(m.Y,{truncate:!0,weight:"bold",children:r})}),Object(f.jsx)(m.Y,{size:"sm",truncate:!0,children:l})]}),Object(f.jsx)(m.e,{marginStart:2,children:(d=o,u=c,a?d?Object(f.jsx)(m.u,{accessibilityLabel:s.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):Object(f.jsx)(m.f,{color:"gray",disabled:!!d||Boolean(!u),inline:!0,size:"sm",text:d?s.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):s.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var d,u}var j=n("ZE2w"),y=n("w70y");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){const{id:i}=e;return t===n.findIndex(e=>e.id===i)}class _ extends i.Component{constructor(...e){super(...e),O(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),O(this,"isIdSelected",{}),O(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),O(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:i}=this.state,o=i.concat([e]),r="email"===n?j.c:j.d;this.props.onSelectedCollaboratorsChange({id:t,resource:r}),this.setState({selectedCollaborators:o})}),O(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const i="email"===n?j.c:j.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:i}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(v):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(u.a)(e)}).concat(n).filter(v)).map(e=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const i=Object(f.jsx)(h.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return Object(f.jsx)(g,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:i,valid:o}=e,r=Object(f.jsx)(m.e,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:Object(f.jsx)(m.u,{accessibilityLabel:s.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),a=Object(b.a)(s.a._("Email {{ email }}"),{email:i});let c,l;return t?(c=s.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),l=()=>{}):(c=o?s.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):s.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),l=()=>o?n(e):void 0),Object(f.jsx)(g,{body:c,img:r,onClick:l,selected:t,title:a,valid:o})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>Object(f.jsx)("li",{children:e},t));return Object(f.jsxs)(m.e,{direction:"column",display:"flex",height:"100%",children:[Object(f.jsx)(m.e,{paddingX:3,paddingY:2,children:Object(f.jsx)(m.Y,{size:"sm",children:s.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),Object(f.jsx)(m.e,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:Object(f.jsx)(m.e,{flex:"grow",children:Object(f.jsx)(p.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:Object(f.jsx)(m.N,{accessibilityLabel:s.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:s.a._("Search by name or email"),size:"lg",value:e})})})}),Object(f.jsx)(m.e,{overflow:"scrollY",paddingX:3,children:Object(f.jsx)("ul",{children:i})})]})}}var x=Object(y.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",allowStale:!1})(_);var S=Object(l.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:o,onCancel:r,onChangeBoardName:l,onChangeBoardPrivacy:u,onInvite:p,privacy:h,preselectedCollaborators:b,saving:g,showTitle:j,isAdAccountOwner:y}){const{isRTL:O}=Object(d.d)(),v=0===n.length,_=h===a.a.BoardPrivacy.SECRET;return Object(f.jsx)(m.e,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:Object(f.jsx)("form",{onSubmit:e=>{e.preventDefault(),o()},style:{height:"100%"},children:Object(f.jsxs)(m.e,{direction:"column",display:"flex",height:"100%",children:[j&&Object(f.jsx)(m.e,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:Object(f.jsx)(m.t,{size:"sm",children:s.a._("Create board")})}),Object(f.jsxs)(m.e,{padding:3,children:[Object(f.jsx)(m.e,{marginBottom:2,children:Object(f.jsx)(m.x,{htmlFor:"boardEditName",children:Object(f.jsx)(m.Y,{size:"sm",children:s.a._("Name")})})}),Object(f.jsx)(m.e,{children:Object(f.jsx)(m.ab,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>l(e),placeholder:s.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),y&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.e,{padding:3,children:[Object(f.jsx)(m.e,{marginBottom:2,children:Object(f.jsx)(m.x,{htmlFor:"secret",children:Object(f.jsx)(m.Y,{size:"sm",children:s.a._("Secret","secret board","secret board")})})}),Object(f.jsx)(m.e,{children:Object(f.jsx)(m.T,{id:"secret",onChange:u,switched:_})})]}),Object(f.jsx)(m.e,{display:"flex",flex:"grow",overflow:"hidden",children:Object(f.jsx)(m.e,{width:"100%",children:Object(f.jsx)(x,{onSelectedCollaboratorsChange:p,preselectedCollaborators:b})})})]}),!y&&Object(f.jsx)(i.Fragment,{children:Object(f.jsxs)(m.e,{padding:3,children:[Object(f.jsx)(m.e,{marginBottom:2,children:Object(f.jsx)(m.x,{htmlFor:"protected",children:Object(f.jsx)(m.Y,{size:"sm",children:s.a._("Protected board (not listed on user's profile)","protected board","protected board")})})}),Object(f.jsx)(m.e,{children:Object(f.jsx)(m.T,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),Object(f.jsxs)(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:O,paddingX:4,paddingY:2,position:"absolute",right:!O,width:720,children:[Object(f.jsx)(m.f,{inline:!0,onClick:r,text:s.a._("Cancel","cancel board create","cancel board create")}),Object(f.jsxs)(m.e,{display:"flex",justifyContent:"end",children:[!!e&&Object(f.jsx)(m.e,{paddingX:2,children:Object(f.jsx)(m.Y,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),Object(f.jsx)(c.b,{disabled:!t.trim()||!v||!!e||g,submitting:g,text:s.a._("Create","create a new board","create a new board")})]})]})]})})})})),w=n("6A0I"),T=n("qyR9"),I=n("0BOE");class E extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=2?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:o,onSectionSelected:r,pinId:a}=this.props;return Object(f.jsx)(T.a,{isSelectMode:i,boardSavedTo:n,createButtonLabel:s.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:o,onSelected:r,pinId:a})}}var P=Object(y.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(E),C=n("Wer7"),R=n("U4JR"),A=n("ANjH");function D(e,t,n){return{...e?{pin_id:e}:{},...t?{username:t}:{},...n?{advertiser_id:n,filter:"protected"}:{},field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class k extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:i}=t,o=(e=>{const t=[],n=[];return e.forEach(e=>{var i;null!==(i=e.name)&&void 0!==i&&i.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return o.length<=3?[{items:o}]:e.length>=2?[{items:Object(I.a)(o,e)}]:[i.length?{items:i,title:s.a._("Top choices")}:{items:[]},{items:o,title:s.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:o,onBoardCreate:r,onBoardSelected:a,pinId:s}=this.props,c=n&&!!e&&e.all_boards.length<=3;return Object(f.jsx)(T.a,{isSelectMode:o,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:c,isLoaded:n,getSections:this.getSections,onCreate:r,onSelected:a,pinId:s})}}var N=Object(A.compose)(Object(r.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(y.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>D(e.pinId,e.username,e.advertiser_id)}))(k);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends i.Component{constructor(...e){super(...e),L(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),L(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),L(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),L(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),L(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),L(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:i,invalidatePinBetterSaveResource:o,invalidateResource:r}=this.props;if(r(),o(),n&&"board_section"===e.type){return i(n,e,t)}const a=e,{section_count:s=0}=a;!n&&"number"==typeof s&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),i(a,void 0,t))}),L(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,i=e?10306:249;Object(R.b)(101,{component:n,element:i})}),L(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?s.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?s.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?s.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):s.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:o,preselectedCollaborators:r,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:c,selectedSectionBoard:l,showCreate:d}=this.state,u=!!l,p=!a;return Object(f.jsxs)(m.e,{display:"flex",position:"relative",width:"100%",children:[!d&&Object(f.jsx)(m.e,{direction:"column",display:"flex",marginTop:4,width:"100%",children:l?Object(f.jsx)(P,{board:l,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):Object(f.jsx)(N,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:o})}),d&&!l&&Object(f.jsx)(S,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:o,prefilledName:c||s,preselectedCollaborators:r,showTitle:p}),d&&l&&Object(f.jsx)(w.a,{board:l,completeCreateSectionAction:this.handleBoardSave,initialName:c,isRepin:t,onClearModal:this.close,showTitle:p})]})}}var M=Object(r.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(C.f)("BoardPickerBoardsResource",D(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(C.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(B),U=n("TgLd"),F=n("v+PR"),H=n("1inl"),V=n("K316"),G=n("TvzZ");const z="publish_actions",Y={checkFbTimelinePermission:function(e){Object(G.default)((function(t){t.api("/me/permissions",t=>{const n=t.data;let i=!1;if(n){i=!!n.find(e=>e.permission===z&&"granted"===e.status)}i?e.success&&e.success():e.error&&e.error()})}),V.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){Object(G.default)(n=>{if(!Y.fbConnectedAccountMatchesLoggedInAccount(n,t))return H.a.showError(s.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());Y.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){Y.fbLogin(e)}})},V.a)},fbLogin:function(e){Object(G.default)(t=>{t.login(t=>{t.authResponse?Y.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:z})},V.a)}};var q=Y,W=n("G35+"),K=n("mBfy");var X=Object(A.compose)(Object(r.connect)(({viewer:e})=>({viewer:e}),()=>({})),Object(y.b)({name:"UserResource",key:"userSocialResource",options:e=>({user_id:e.viewer&&e.viewer.isAuth?e.viewer.id:"",field_set_key:"social_connect"})}))((function({onSocialConnect:e,userSocialResource:{data:t,isLoaded:n}}){const[o,r]=Object(i.useState)(!!(n&&t&&t.facebook_publish_stream_enabled)),[a,c]=Object(i.useState)(!!(n&&t&&t.twitter_publish_enabled));if(Object(i.useEffect)(()=>{n&&t&&(r(!!t.facebook_publish_stream_enabled),c(!!t.twitter_publish_enabled))},[t,n]),!t)return null;const{connected_to_facebook:l,twitter_url:d}=t,u=t=>{r(t),K.default.set("facebook_publish_stream_enabled",t),e(W.a.FACEBOOK,t)};return!(!l&&!d)&&Object(f.jsxs)(m.e,{display:"flex",padding:2,children:[l&&Object(f.jsxs)(m.e,{display:"flex",alignItems:"center",marginStart:2,children:[Object(f.jsx)(m.j,{checked:o,id:"share_facebook",onChange:()=>{o?u(!1):q.maybeRequestFbTimelinePermission({success:()=>u(!0),error:()=>u(!1)})},size:"sm"}),Object(f.jsx)(m.x,{htmlFor:"share_facebook",children:Object(f.jsx)(m.e,{marginStart:2,children:Object(f.jsx)(m.Y,{children:s.a._("Post to Facebook")})})})]}),d&&Object(f.jsxs)(m.e,{display:"flex",alignItems:"center",marginStart:5,children:[Object(f.jsx)(m.j,{checked:a,id:"share_twitter",onChange:()=>{const t=!a;c(t),e(W.a.TWITTER,t)},size:"sm"}),Object(f.jsx)(m.x,{htmlFor:"share_twitter",children:Object(f.jsx)(m.e,{marginStart:2,children:Object(f.jsx)(m.Y,{children:s.a._("Post to Twitter")})})})]})]})})),$=n("Sihc");var J=({board:e,completeCreateSectionAction:t,height:n,onClose:o,pinImport:a,url:c,width:l})=>{const d=Object(r.useDispatch)(),[u,p]=Object(i.useState)(""),[h,b]=Object(i.useState)(!1),[g,j]=Object(i.useState)(null);return Object(f.jsx)(U.b,{accessibilityModalLabel:s.a._("Repin modal","save.pinToBoard.modal.label","Accessibility label on modal"),heading:Object(f.jsx)(m.e,{padding:8,children:Object(f.jsx)(m.r,{alignItems:"center",children:Object(f.jsx)(m.e,{width:"66%",marginStart:"auto",children:Object(f.jsxs)(m.r,{justifyContent:"between",children:[Object(f.jsx)(m.t,{size:"md",children:s.a._("Add section","sectionCreateModal.title","Title in the add section modal")}),Object(f.jsx)(m.v,{icon:"cancel",accessibilityLabel:s.a._("Close","sectionCreateModal.closeButton","close section create modal button"),size:"md",iconColor:"darkGray",onClick:o})]})})})}),footer:Object(f.jsx)(m.r,{children:Object(f.jsx)(m.e,{marginStart:"auto",children:Object(f.jsx)(m.f,{text:s.a._("Add","sectionCreateModal.add.button","add a new section"),color:"red",onClick:()=>{e&&(b(!0),d(Object($.a)({boardId:e.id,name:u.trim(),pinImport:a})).then(n=>{t(e,n,!1)}).catch(e=>{j(e.message||e.message_detail)}).finally(()=>{b(!1)}))},disabled:h||!u.trim()||!!g,size:"lg"})})}),onDismiss:o,size:"sm",children:Object(f.jsx)(m.e,{padding:8,children:Object(f.jsxs)(m.r,{children:[Object(f.jsx)(m.B,{rounding:4,height:n,width:l,children:Object(f.jsx)(m.w,{alt:"",fit:"cover",src:c||"",naturalHeight:n,naturalWidth:l})}),Object(f.jsx)(m.e,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:`calc(100% - ${l}px)`}},children:Object(f.jsx)(m.ab,{id:"sectionEditName",onChange:e=>{p(e.value)},placeholder:s.a._('Like "Lighting"',"sectionCreateModal.boardSection.name","Placeholder for board section name"),label:s.a._("Name","section.create.label","label text for section input"),size:"lg",type:"text",value:u})})]})})})};function Z(){return Object(f.jsxs)(m.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[Object(f.jsx)(m.R,{accessibilityLabel:s.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),Object(f.jsx)(m.e,{paddingY:2,children:Object(f.jsx)(m.t,{children:s.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),Object(f.jsx)(m.Y,{children:s.a._("We're grouping the ideas you picked into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var Q=n("82UD");function ee({index:e,pin:t,sectionName:n}){const o=t.id,r=Object(i.useContext)(ce),[a,s]=Object(i.useState)(!1),c=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),r({type:a?"unselect":"select",payload:{sectionName:n,pinId:o}}),s(!a)},[o,a]);return Object(f.jsx)(m.X,{onTap:c,rounding:4,children:Object(f.jsx)(Q.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:a?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}var te=Object(i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(i.useRef)(),o=Object(y.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.e,{display:"flex",justifyContent:"center",width:"100%",children:Object(f.jsx)(m.R,{accessibilityLabel:s.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&o.isFetching})}),o.data&&Object(f.jsx)(m.e,{paddingY:4,paddingX:8,children:Object(f.jsx)(m.t,{align:"left",size:"sm",children:e.name})}),Object(f.jsx)(m.e,{ref:n,children:o.data&&n&&n.current&&Object(f.jsx)(m.C,{columnWidth:152,comp:({data:t,itemIdx:n})=>Object(f.jsx)(ee,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:o.data||[],loadItems:()=>{},scrollContainer:()=>n.current})})]})}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function ne({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:o}){Object(i.useEffect)(()=>{const e=[];o.forEach(t=>e.push(t.name)),Object(R.b)(13,{suggested_section_names_viewed:e,view:1,viewParameter:3461})},[o]);return Object(f.jsx)(i.Fragment,{children:Object(f.jsxs)(m.e,{width:"100%",children:[Object(f.jsx)(m.e,{minHeight:"100%",marginBottom:12,width:"100%",children:o.map((e,t)=>Object(f.jsx)(m.e,{marginBottom:4,children:Object(f.jsx)(te,{sectionSuggestion:e,showSpinner:0===t})},e.name))}),Object(f.jsx)(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720,children:Object(f.jsx)(m.f,{color:e?"red":"gray",inline:!0,size:"lg",text:e?s.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):s.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function ie({handleClose:e,handleSubmit:t,suggestions:n}){const[o,r]=Object(i.useState)({}),a=!!Object.keys(o).length;return Object(f.jsxs)(m.e,{children:[Object(f.jsx)(m.e,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:Object(f.jsx)(m.e,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map(e=>Object(f.jsx)(m.e,{paddingX:1,height:160,children:Object(f.jsx)(m.X,{onTap:()=>{const t={...o};t[e.name]?delete t[e.name]:t[e.name]=e,r(t)},rounding:6,children:Object(f.jsx)(m.e,{rounding:7,dangerouslySetInlineStyle:{__style:{border:o[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:Object(f.jsxs)(m.e,{height:160,width:152,position:"relative",rounding:6,children:[Object(f.jsx)(m.B,{rounding:6,height:160,width:152,children:Object(f.jsx)(m.w,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),Object(f.jsx)(m.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:Object(f.jsx)(m.t,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name))})}),Object(f.jsx)(m.e,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:Object(f.jsx)(m.f,{color:a?"red":"gray",inline:!0,size:"lg",text:a?s.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):s.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{a?t(Object.values(o)):e()}})})]})}var oe=n("M1Uz"),re=n("6G9P"),ae=n("EC67"),se=n("nGHF");const ce=Object(i.createContext)();function le(e,t){const{sectionName:n,pinId:i}=t.payload,o=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...o,i]};case"unselect":const t=o.indexOf(i);if(o.splice(t,1),!o.length){const t={...e};return delete t[n],t}return{...e,[n]:o};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function de({board:e,handleClose:t,setModalTitle:n,suggestions:o}){const[a,c]=Object(i.useState)("sections"),[l,d]=Object(i.useState)([]),[u,p]=Object(i.useState)([]),[h,b]=Object(i.useReducer)(le,{}),{showOneToast:m}=Object(se.b)(),g=Object(r.useDispatch)(),j=Object(ae.h)(),y=Object(i.useRef)(null);Object(i.useEffect)(()=>()=>{y.current&&clearTimeout(y.current)},[]),Object(i.useEffect)(()=>{const e=[];o.forEach(t=>e.push(t.name)),p(e)},[o]);const O=()=>{Object(R.b)(101,{component:20,view:52})},v=()=>{t(),m(({onHide:t})=>{var n;return Object(f.jsx)(oe.a,{duration:be,onHide:t,text:Object(re.a)(e.name),href:e.url,imageUrl:null!==(n=e.image_cover_url)&&void 0!==n?n:"",onClick:O})}),Object(R.b)(101,{element:1150,view:1,viewParameter:3460,suggested_section_names:u})};return{sections:Object(f.jsx)(ie,{handleClose:v,handleSubmit:e=>{d(e),c("pins"),n&&n(s.a._("Great! Now pick some ideas to start off with.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"));const t=[];e.forEach(e=>t.push(e.name)),Object(R.b)(101,{element:96,suggested_section_names_selected:t,suggested_section_names_viewed:u,view:1,viewParameter:3460})},suggestions:o}),pins:Object(f.jsx)(ce.Provider,{value:b,children:Object(f.jsx)(ne,{canSubmit:!!Object.keys(h).length,handleClose:v,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const i=l.reduce((e,t)=>(e[t.name]=null,e),{});let o=0;const r=[];Object.entries({...i,...h}).forEach(([n,i])=>{o+=Array.isArray(i)&&i.length,r.push({[n]:i}),g(Object($.a)({boardId:e.id,initialPinIds:i,name:n})).then(()=>{t+=1,t===l.length&&(y.current=setTimeout(()=>{var t;j.push(null!==(t=e.url)&&void 0!==t?t:"")},1500),Object(R.b)(101,{element:76,number_pins_selected:o,number_sections_selected:l.length,selected_pin_ids:JSON.stringify(r),suggested_section_names:u,view:1,viewParameter:3460}))})})},sectionSuggestions:l})}),saving:Object(f.jsx)(Z,{})}[a]}var ue=n("Yo6N"),pe=n("QAzJ");function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be=4e3,me={LOADING:"loading",SUCCESS:"success"};class fe extends i.PureComponent{constructor(...e){super(...e),he(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),he(this,"pinImageRef",Object(i.createRef)()),he(this,"unmounted",!1),he(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:i,sectionSuggestions:o,setModalTitle:r}=this.props;i(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),o&&o.length>0&&r&&r(s.a._("Let's build out your new board! What topics will it include?","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),he(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),he(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),he(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),he(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{activateRemoveBoardSectionUpsell:e,boardSavedTo:t,boardWithSection:n,color:r,displaySuccessAnimation:a,handleNewBoardAnimationCompletion:c,handleSocialConnectSet:l,isInModal:d,newPin:u,pin:p,preselectedCollaborators:h,onBoardCreated:b,sectionSuggestions:g,sensitiveContentNotice:j,setModalTitle:y,showCreate:O,shouldRenderContent:v,suggestedBoardTitle:_,updateDescription:x}=this.props;if(!p||!p&&!p.resourceLoaded||!v)return null;const{isSavingPin:S,newBoard:w}=this.state;if(O&&n){var T;const{url:e,width:t,height:i}=(null===(T=p.images)||void 0===T?void 0:T["236x"])||{};return Object(f.jsx)(J,{board:n,url:e,height:i,width:t,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let I=null;u&&u.board&&(I=u.board.name);const E=j&&j.title||this.props.modalTitle,P=j?Object(f.jsx)(ue.a,{inModal:!0,notices:[j]}):Object(f.jsx)(m.e,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:S&&w&&g&&g.length>0&&!e().group.startsWith("enabled")?Object(f.jsx)(de,{board:w,handleClose:this.close,setModalTitle:y,suggestions:g}):Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.e,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[Object(f.jsxs)(m.e,{direction:"column",display:"flex",justifyContent:"between",width:"40%",children:[Object(f.jsx)(m.e,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:Object(f.jsx)(F.a,{color:r,pin:p,pinImageRef:this.pinImageRef,updateDescription:x})}),Object(f.jsx)(X,{onSocialConnect:l})]}),Object(f.jsx)(m.e,{display:"flex",width:"60%",children:Object(f.jsx)(M,{boardSavedTo:t,boardWithSection:n,isRepin:!0,onBoardCreated:b,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:p.id,preselectedCollaborators:h,setModalTitle:d?y:void 0,showCreate:O,suggestedBoardTitle:_})})]}),a&&Object(f.jsx)(o.a,{onDismiss:()=>{c(),this.dismissModal()},pin:p,pinImageRef:this.pinImageRef,selectedBoardName:I})]})});return d?Object(f.jsx)(U.b,{accessibilityModalLabel:E||s.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:E,onDismiss:this.close,size:"md",children:P}):P}}he(fe,"defaultProps",{pwtAuxData:{}});t.c=function(e){const t=Object(pe.b)("web_remove_board_section_upsell");return Object(f.jsx)(fe,{...e,activateRemoveBoardSectionUpsell:t})}},BEAQ:function(e,t,n){n.r(t),n.d(t,"getPlaylistSourceSrc",(function(){return l})),n.d(t,"default",(function(){return d}));var i=n("q1tI"),o=n("PioT"),r=n("TqFJ"),a=n("aFfM"),s=(n("n6mq"),n("nKUr"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class d extends i.PureComponent{constructor(e){super(e),c(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),c(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),c(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=l(e.src);this.state={useHlsVideo:!e.preferMp4&&!o.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:p,controls:h,hlsConfig:b,loop:m,objectFit:f,onDurationChange:g,onEnded:j,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:I,onVolumeChange:E,playbackRate:P,playing:C,playsInline:R,poster:A,preferMp4:D,preload:k,src:N,videoStartTime:L,visible:B,volume:M}=this.props,{useHlsVideo:U}=this.state,F=l(N),H={...b,startPosition:L||-1},V=!j&&m;return U&&F?Object(s.jsx)(a.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:p,controls:h,hlsConfig:H,loop:m,loopOveride:V,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:I,onVolumeChange:E,playbackRate:P,playing:C,playsInline:R,poster:A,preload:k,setVideoRef:this.setVideoPlayerRef,src:F,visible:B,volume:M}):Object(s.jsx)(r.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:p,controls:h,loop:m,loopOveride:V,objectFit:f,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:I,onVolumeChange:E,playbackRate:P,playing:C,playsInline:R,poster:A,preload:k,setVideoRef:this.setVideoPlayerRef,src:D?N:F||N,videoStartTime:L,visible:B,volume:M})}}},BUdX:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("sErn"),o=n("+NLT"),r=n("jZXB");let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,isRetina:t.is_retina,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,isRetina:e.is_retina,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:o.a.instance,...Object(i.a)(o.a.instance)});var t;return t=o.a.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,isRetina:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.a,advertiser:null,legacyAdvertiser:null})}},BcvT:function(e,t,n){var i=n("q1tI"),o=n("nKUr");function r({anchor:e,children:t,zIndex:n}){const r=Object(i.useRef)(null),[a,s]=Object(i.useState)(0),[c,l]=Object(i.useState)(0),{height:d,width:u}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=r;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(d,u,e,n);s(i),l(o)}},[d,u,r.current]),Object(o.jsx)("div",{ref:r,style:{left:a,position:"absolute",top:c,zIndex:n},children:t})}var a=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,paused:i,size:s,zIndex:c}=e;return t?Object(o.jsx)(r,{anchor:t,zIndex:c,children:Object(o.jsx)(a.X,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle",children:Object(o.jsx)(a.J,{paused:i,size:s})})}):null}},BiGR:function(e,t,n){var i=n("nmnc"),o=n("03A+"),r=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(a&&e&&e[a])}},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},C2V2:function(e,t,n){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return j}));var i=n("nj6m"),o=n("yweb"),r=n("vvax"),a=n("nKUr");function s({dot:e}){const t=Object(o.c)();return Object(r.b)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function c({dot:e,freeShippingPrice:t}){const n=Object(o.c)();return Object(r.b)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function l({freeShippingPrice:e,freeShippingValue:t,dot:n}){let i=null;return 0===t?i=Object(a.jsx)(s,{dot:n}):e&&(i=Object(a.jsx)(c,{dot:n,freeShippingPrice:e})),i}var d=n("4cpq"),u=n("XRfM"),p=n("pLLR"),h=n("n6mq");function b({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function m({count:e,countFormat:t,textSize:n}){const{locale:i}=Object(p.d)(),s=Object(o.c)();return Object(a.jsx)(h.Y,{size:n,children:Object(a.jsx)(d.a,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?Object(r.b)(s.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):Object(u.g)(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function f({count:e,countFormat:t,ratingTextSize:n,ratingValue:o,shippingInfo:r,showDot:s}){const c=b({count:e,ratingValue:o}),{free_shipping_price:d,free_shipping_value:u}=r||{},p=c&&!!o&&Object(a.jsx)(i.a,{rating:o,width:12});return{rating:p&&c&&!!e&&Object(a.jsx)(m,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(u)&&Object(a.jsx)(l,{freeShippingPrice:d,freeShippingValue:u,dot:s?" ":""}),stars:p}}function g({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:s}=f({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return Object(a.jsxs)(h.e,{display:"flex",direction:"column",marginTop:1,children:[Object(a.jsxs)(h.e,{display:"flex",direction:"row",alignItems:"center",children:[s,o&&Object(a.jsx)(h.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&Object(a.jsx)(h.e,{marginTop:s?1:0,children:Object(a.jsx)(h.Y,{color:"gray",size:"md",children:r})})]})}function j({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=b({count:e,ratingValue:n}),{rating:r,shipping:s,stars:c}=f({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return Object(a.jsxs)(h.e,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[c,r,s&&Object(a.jsx)(h.e,{marginStart:c?1:0,children:Object(a.jsx)(h.Y,{color:"darkGray",size:"lg",children:s})})]})}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("geGc"),r=n("Sp3T"),a=n("TqAR"),s=n("TgLd"),c=n("oVol"),l=n("U4JR"),d=n("n6mq"),u=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=({children:e})=>e(Object(r.a)());class b extends i.Component{constructor(...e){super(...e),p(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),p(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),p(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:r,board:s,sendType:l,url:d,fullName:p,profileUrl:h,viewParameter:b,viewType:m,onExternalSend:f,showCaret:g,todayArticle:j}=this.props;let y={description:e,id:i,imageUrl:n,name:"",type:c.a.PIN,url:`/pin/${i}/`},O=c.a.PIN;switch(l){case"user":y={description:e,id:r,imageUrl:n,name:p,type:c.a.PINNER,url:h},O=c.a.USER;break;case"board":y=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:c.a.BOARD,url:s.url},O=c.a.BOARD;break;case"today_article":y=j&&{description:j.subtitle||"",id:j.id,imageUrl:n,name:j.title,type:c.a.TODAY_ARTICLE,url:Object(a.i)(j)},O=c.a.TODAY_ARTICLE;break;case"search":y={...y,type:c.a.SEARCH,url:d},O=c.a.SEARCH}const v={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:O,sharedObject:y,viewParameter:b,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:Object(u.jsx)(o.default,{...v})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(l.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,children:l}=this.flyoutProps();return Object(u.jsxs)("div",{style:{pointerEvents:"auto"},children:[Object(u.jsx)(d.e,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(h,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>t(()=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.y,{children:Object(u.jsx)(d.e,{zIndex:t?s.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.I,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,size:"xl",positionRelativeToAnchor:!1,children:l})})}):Object(u.jsx)(d.I,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,size:"xl",children:l}))]})}}p(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},DBaX:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}))},"Dw+G":function(e,t,n){var i=n("juv8"),o=n("mTTR");e.exports=function(e,t){return e&&i(t,o(t),e)}},DzJC:function(e,t,n){var i=n("sEfC"),o=n("GoyQ");e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:r,maxWait:t,trailing:a})}},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("28DW"),r=n("n6mq"),a=n("U4JR"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:r,viewParameter:s,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(o.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(a.b)(82,{objectId:r,view:c||3,viewParameter:s||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,o=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(s.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&Object(s.jsx)(r.e,{display:"none",children:Object(s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,"a",(function(){return i}))},ECHl:function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O}));var i=n("q1tI"),o=n("c0rk"),r=n("a5kZ"),a=n("Ye/N"),s=n("D2p8"),c=n("8kKu"),l=n("ujsJ"),d=n("QAzJ"),u=n("EC67"),p=n("pLLR"),h=n("n6mq"),b=n("QLqj"),m=n("nKUr");const f="numSearchCloseups",g="webSearchShareEligible",j="webSearchShareUpsellFlyoutLastViewed",y="webSearchShareUpsellFlyoutTimesViewed";function O({activeTabIndex:e,onChange:t,tabs:n,showFilterButton:O,onFilterButtonClick:v,filterButtonText:_,showSkinToneFilters:x}){const{isRTL:S}=Object(p.d)(),w=Object(i.useRef)(null),[T,I]=Object(i.useState)(!1),[E,P]=Object(i.useState)(Boolean(b.c.getItem(g))),[C,R]=Object(i.useState)(),[A,D]=Object(i.useState)(!1),k=Object(d.b)("web_search_share_skin_tone_filter"),N=Object(u.h)(),L=Number(b.d.getItem(f)||0);L>0&&(0===N.length&&0!==L||"PUSH"===N.action)&&b.d.setItem(f,0),Object(i.useEffect)(()=>{L>=2&&x&&!b.c.getItem(g)&&k().anyEnabled&&(b.c.setItem(g,!0),P(!0))},[k,L,x]),Object(i.useEffect)(()=>{if(E&&x){const e=b.c.getItem(j),t=Number(b.c.getItem(y))||0,n=!!(e&&Date.now()-Number(e)<864e5),i=t>=3;A||!C||n||i||(D(!0),b.c.setItem(y,t+1),b.c.setItem(j,Date.now()))}},[C,A,E,x]),Object(i.useEffect)(()=>{const e=w.current;return e?(s.c.addObstruction("top",e),()=>{s.c.removeObstruction("top",e)}):void 0},[]);const B=()=>{D(!1)};return Object(m.jsx)(o.a,{position:"sticky",shouldShowShadow:!0,style:{zIndex:3},children:Object(m.jsxs)(h.e,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"12px"}},display:"flex",justifyContent:"center",padding:1,ref:w,"data-test-id":"search-tab-bar",children:[Object(m.jsx)(l.a,{tabs:n.map(({href:e,text:t})=>({href:e,text:t})),activeTabIndex:e,onChange:t,size:"lg"}),(O||E)&&Object(m.jsxs)(h.e,{marginEnd:12,position:"absolute",left:S,right:!S,display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"16px"}},children:[E&&Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(h.e,{ref:e=>R(e),display:"inlineBlock",children:Object(m.jsx)(c.a,{inModal:!1,isFlyoutOpen:T,onToggleFlyout:()=>{I(!T)},onFlyoutDismiss:()=>{I(!1)},sendType:"search",url:"undefined"!=typeof window?window.location.href:null,showTransparentButton:!1,handleSendShareFlyoutButtonClick:()=>{I(e=>!e),B()}})}),A&&Object(m.jsx)(h.I,{anchor:C,idealDirection:"left",onDismiss:B,size:"xl",showCaret:!0,positionRelativeToAnchor:!0,color:"blue",children:Object(m.jsx)(h.e,{padding:3,children:Object(m.jsx)(h.Y,{color:"white",children:a.a._("Share this result with your friends!","discover.searchpage.searchtabbar.promptshare","A message to prompt sharing of search results")})})})]}),O&&Object(m.jsx)(r.a,{isDrawerOpen:!1,handleDrawerClose:()=>{},onClick:v,buttonText:_})]})]})})}},EDqd:function(e,t,n){n.d(t,"a",(function(){return a}));const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function r(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function a(e,t,n){const i=[{images:e}],a=t&&t.additional_images;return{carousel_slots:o((null!=a?a:[]).reduce(r,i)),index:n||0,id:t.id}}},EEGq:function(e,t,n){var i=n("juv8"),o=n("oCl/");e.exports=function(e,t){return i(e,o(e),t)}},EHyI:function(e,t,n){n.d(t,"a",(function(){return a}));var i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)},o=n("XtwW"),r=n("gg0E");function a(e){return!("desktop"===e&&!i())&&(!!o.a&&Object(r.a)())}},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.f)(e),l=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return j}));var i=n("JW66"),o=n("BcL7"),r=n("pWkb"),a=n("ynlw"),s=n("Ye/N"),c=n("eBDd"),l=n("vvax"),d=n("VpfY"),u=n("n6mq"),p=n("nKUr");const h=()=>["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function b(e,t){var n,r,s;if(!t.isAuth)return!1;const c=Object(d.c)(e)||Object(d.d)(e),l=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.a.BoardPrivacy.PUBLIC,u=(null===(r=e.board)||void 0===r?void 0:r.privacy)===i.a.BoardPrivacy.PROTECTED,p=(h()&&u||l)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,{isStoryPin:b}=Object(a.a)(e);return c&&(!u||h())||t.isPartner&&p||["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("web_ps4p"))&&b&&p}function m(e,t){return e?[{align:"start",displayText:s.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:s.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:s.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function f(e,t){const{isStoryPin:n,isVideo:i}=Object(a.a)(e),o=Object(d.c)(e),c=Object(d.d)(e)&&(n||!o)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),b=(new Date).getTime()-h.getTime(),m=Math.floor(b/36e5),f=c?c["24h_realtime"].is_realtime:null,g=c?c["24h_realtime"].timestamp:null;let j=null;c&&(j=n||i?c.all_time_realtime.timestamp:c["30d_realtime"].timestamp);const y=j!==g,O=e=>Object(l.b)(s.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),v={timeframe:"",lastUpdated:""};if(c)if(f){const e=c["24h_realtime"].impression>=(n||i?c.all_time_realtime.impression:c["30d_realtime"].impression);v.timeframe=e?s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||i?s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=s.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||m>48)if(n||i){const e=Object(r.a)(c.all_time_realtime.timestamp);v.timeframe=s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),v.lastUpdated=O(e)}else{const e=Object(r.a)(c["30d_realtime"].timestamp);v.timeframe=s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=O(e)}else{const e=Object(r.a)(c["24h_realtime"].timestamp);v.timeframe=s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),v.lastUpdated=O(e)}else v.lastUpdated=s.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(p.jsxs)(u.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(p.jsx)(u.Y,{align:"right",color:"gray",size:"sm",children:v.lastUpdated}),(n||["md","sm"].includes(t))&&!!c&&Object(p.jsx)(u.Y,{color:"gray",inline:!0,size:"sm",children:" "}),Object(p.jsx)(u.Y,{align:"right",color:"gray",size:"sm",children:v.timeframe})]})}function g(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function j(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),o=n("pLLR"),r=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(r.jsx)(o.b,{children:o=>Object(r.jsx)(i.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));const i=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],r=["US","CA"],a=e=>i.includes(e.toUpperCase()),s=e=>o.includes(e.toUpperCase()),c=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach(e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},l=e=>!!e&&r.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},F4HH:function(e,t,n){var i=n("q1tI"),o=n("3R0Q"),r=n("o9su"),a=n("B/lV"),s=n("vzKb"),c=n("FylZ"),l=n("mRg4"),d=n("LvPn"),u=n("XtwW"),p=n("LrH5"),h=n("fZG9"),b=n("xfna"),m=n("gz6+"),f=n("3/Bf");const g=Object(p.a)("PwtStopwatch"),j=(e,t)=>{if(u.a){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:o}=t;return Object(f.c)("TIMING."+n),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof i?i:u.a.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if("annotate"===t.type){const n=u.a.now();return g(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return g(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return g(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){g(`adding subspan {${t.name}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:g(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){g(`starting subspan {${t.name}}`);return e.spans.findIndex(e=>e.name===t.name)&&g(`WARNING: adding duplicate subspan name {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),parentId:t.parentId||null,startTime:u.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(g(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce((e,n)=>(n.name===t.name&&e.push(n),e),[]).length>1&&Object(f.b)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=u.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):Object(f.b)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:s,annotations:p,binaryAnnotations:b,isSampled:f,spans:g,traceId:j}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),f){const e=t.stopTime||u.a.now(),f=[...g.map(t=>(t.endTime===1/0&&(t.endTime=e),t))];if(t.manualAndResourceSpans||0===g.length){const i=Object(c.a)();f.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(e=>Object(d.a)(Object(a.a)(e,[]),i)).filter(Boolean))}const y="initial_app_load"===i.navigationType&&Object(r.a)(),O={type:"COMPLETE",traceId:j,startTime:n,endTime:e,spans:f,annotationMap:{...Object(o.a)(p),...Object(m.a)("browser_",y?Object(m.b)(y):{})},binaryAnnotationMap:Object(h.a)({metricId:i,pwtStaticContext:s,binaryAnnotations:b,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(l.a)({metricId:i,pwtStaticContext:s,result:O})}return{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(f.b)(e),n&&n.disconnect(),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,o=t.reason||"";return Object(l.a)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:o}}),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}}return e};var y=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:o=!1})=>{const r=Object(b.c)(),a=Object(i.useRef)([]),l=Object(i.useRef)(null),[d,u]=Object(i.useReducer)(j,{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()});return r?{isTiming:d.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;a.current=[],l.current=Object(s.a)({entryTypes:["resource"]},t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))})}const o={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:r,isSampled:!t||Math.random()<t};return u(o)},stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:a.current,manualAndResourceSpans:o}),error:e=>{u({type:"error",stopwatchPerformanceObserver:l.current,error:e})},abort:e=>u({type:"abort",stopwatchPerformanceObserver:l.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t)=>u({type:"annotate",label:e,parentId:t}),binaryAnnotate:(e,t,n,i)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i}),binaryAnnotateOperation:(e,t,n,i)=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:o={},parentId:r=null,id:a=null})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,id:o=null})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,id:o}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null},O=n("1dBE"),v=n("nKUr");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:o=!0,navigationType:r,manualAndResourceSpans:a=!1})=>{const{Provider:s,useHook:c}=Object(O.b)("Stopwatch_"+e);return{Provider:function({children:t}){const c=y({name:e,sampleRate:n,navigationType:r,manualAndResourceSpans:a}),l=Object(b.b)(),d=l?l.time:0,u=Object(i.useRef)(!1),p=null==c?void 0:c.isTiming,h=e=>{u.current&&(u.current=!1,null==c||c.abort(e))};return Object(i.useEffect)(()=>()=>{o&&h("unloadOrClientNavigation")},[d]),Object(v.jsx)(s,{value:{isTiming:p,abort:h,addAnnotation:(e,t)=>{null==c||c.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:(e,t,n,i)=>{null==c||c.binaryAnnotateOperation(e,t,n,i)},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:a})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r,id:a})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:o})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:o})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:o})},getSpans:(e,t)=>c?c.getSpans(e,t):[],getTraceId:()=>c?c.getTraceId():"",error:e=>{u.current&&(u.current=!1,null==c||c.error(e))},start:e=>{u.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),u.current=!0,null==c||c.start(e)},stop:e=>{u.current&&(u.current=!1,null==c||c.stop(e))}},children:t})},useHook:c}}},FZ8N:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i=window.location.search.includes("debug_tracing"),o=window.location.search.includes("debug_lab_tracing"),r=i||o},FylZ:function(e,t,n){function i(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return i}))},G6z8:function(e,t,n){var i=n("fR/l"),o=n("oCl/"),r=n("mTTR");e.exports=function(e){return i(e,r,o)}},GNiM:function(e,t,n){var i=n("I01J"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=a},Gi0A:function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,o=60*i,r=60*o,a=24*r,s=30*a,c=365*a},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i=-1,o=5,r=6},"HOY+":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("jmst"),a=n("BUdX"),s=n("Ye/N"),c=n("qhFy"),l=n("n6mq"),d=n("nKUr");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},h={overlay:{__style:{backgroundColor:"#000"}}};function b({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o,pin:r}){const{id:a}=r;return Object(d.jsxs)(l.w,{alt:o||s.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(d.jsx)(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(d.jsxs)(l.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+a,children:[Object(d.jsx)(l.X,{rounding:2,children:Object(d.jsxs)(l.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.u,{accessibilityLabel:s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:p,size:25}),Object(d.jsx)(l.e,{margin:1}),Object(d.jsx)(l.Y,{color:"white",truncate:!0,weight:"bold",children:s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(d.jsx)(l.e,{margin:3}),Object(d.jsx)(l.X,{onTap:i,rounding:2,children:Object(d.jsxs)(l.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.u,{accessibilityLabel:s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(d.jsx)(l.e,{margin:1}),Object(d.jsx)(l.Y,{color:"white",truncate:!0,weight:"bold",children:s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var m=n("51gp"),f=n("Y8Sn");const g=new Map;let j=null;const y=e=>{e.forEach(e=>{const t=g.get(e.target);t&&t(e)})};function O({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:o}){const r=Object(i.useRef)(null);let a=!1;const s=()=>{var t;r.current instanceof HTMLElement&&(t=r.current,g.has(t))&&(a&&(e(!1),a=!1))},c=Object(i.useCallback)(i=>{r.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};j=j||new window.IntersectionObserver(y,i),g.set(e,n),j.observe(e)})(r.current,i,i=>{if(!g.has(r.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,c=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!c;!a&&c?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;a=n,a&&e(!0)})(i):a&&l&&s()})},[r.current]);return Object(i.useEffect)(()=>(c(o),()=>{var e;r.current instanceof HTMLElement&&(s(),e=r.current,j.unobserve(e),g.delete(e))}),[c]),r}var v=n("vZlu");const _=new Set(["ConversationView","TodayTabFeed"]);var x=Object(o.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(v.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:o,lowResOnly:r,highResOnly:a,onLoad:u,onError:p,saved:h,onTimeChange:g,isExperimentalPinRep:j,pin:y,surface:v,playing:x,rootMargin:S,setCurrentVideo:w,viewType:T,viewParameter:I,onVisibilityChanged:E,trackFullVisible:P,inVisibilityChangedHookExperiment:C}){var R,A;const[D,k]=Object(i.useState)(!1),[N,L]=Object(i.useState)(!0),B=Object(f.g)(y),M=B&&!y.is_eligible_for_web_closeup,U=j&&B&&y.is_eligible_for_web_closeup&&!_.has(v),F=M||!j||!B,H=O({onVisibilityChanged:E,inAdsDesktopVideoExperiment:e,trackFullVisible:P,rootMargin:S});let V=!x;e&&(V=N,t&&x&&N&&L(!1));const{url:G}=(null===(R=y.images)||void 0===R?void 0:R["236x"])||{},{id:z,is_promoted:Y}=y,q=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),w({pinId:z,isPromoted:Boolean(Y),currentTime:0}),k(!1)},[Y,z,w]),W=Object(i.useCallback)(()=>{Y&&k(U)},[U,Y]);if(!y.videos||null===(A=y.videos.video_list)||void 0===A||!A.V_HLSV4)return null;const{height:K,thumbnail:X,width:$,url:J}=y.videos.video_list.V_HLSV4||{},Z=y.videos.id,Q=[{type:"video/m3u8",src:J}];return D&&B?Object(d.jsx)(l.e,{ref:C?H:null,children:Object(d.jsx)(b,{backgroundImage:G,naturalHeight:null!=K?K:1,naturalWidth:null!=$?$:1,pin:y,onRestartVideo:q})}):V?Object(d.jsx)(l.e,{ref:C?H:null,children:Object(d.jsx)(c.b,{lowResOnly:r,highResOnly:a,onLoad:u,onError:p,pin:y,saved:h})}):Object(d.jsx)(l.e,{ref:C?H:null,children:Object(d.jsx)(m.a,{cropHeight:n,rootMargin:S,surface:v,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:I,component:0,objectId:y.id,video_id:Z,view:T},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=$?$:1)/(null!=K?K:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:F,onTimeChange:g,playing:x,poster:G||X,src:null!=Q?Q:[],videoStartTime:o,volume:0,onEnded:W})})}));function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(r.a)(x);class T extends i.Component{constructor(...e){super(...e),S(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,o=Object(f.b)(i,n);return this.currentVideoCurrentTime||o||e}),S(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:a,is_promoted:s}=n,c=Object(f.k)(a,r),l=Object(f.a)(a,r);e?s?i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):l&&i({pinId:a,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:a,isPromoted:Boolean(s),currentTime:t||this.currentVideoCurrentTime})}),S(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:o}=t;Object(f.k)(o,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:o,pin:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=r,d=Object(f.k)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:Boolean(l),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:o,is_promoted:r}=n;Object(f.k)(o,i)&&t({pinId:o,isPromoted:Boolean(r),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:i,videosAutoplaying:o,viewParameter:r,viewType:s,highResOnly:c,lowResOnly:l,onError:u,onLoad:p,saved:h,inAdsDesktopVideoExperiment:b,isExperimentalPinRep:m,rootMargin:g}=this.props,{id:j}=n,y=Object(f.b)(j,o),O=Object(f.k)(j,o)&&t,v=a.a.fromGlobalContext(),{anyEnabled:_}=v.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return _?Object(d.jsx)(x,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:O,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:p,saved:h,isExperimentalPinRep:m,inVisibilityChangedHookExperiment:_}):Object(d.jsx)(w,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:O,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:p,saved:h,isExperimentalPinRep:m})}}t.a=Object(o.connect)(e=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),e=>({pauseAutoplay:t=>e(Object(v.a)(t)),setCurrentVideo:t=>e(Object(v.c)(t))}))(T)},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e,additionalStyles:t={}}){return Object(o.jsx)(i.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},JRj3:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},KFEb:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l}));var i=n("7Ve8"),o=n("5f3z"),r=n("qtKf");const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},s={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:Object(r.c)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:s,query:c,user:l},data:d})=>({type:a.SEARCH_PINS,id:Object(o.b)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:c,selectedPinImgSig:s,scope:n,user:l}),items:null!=d&&d.results?Object(i.a)(d.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({data:e})=>({type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:e&&e.tabs||[]}),RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({data:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e||[]})},c={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function l(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}t.b=(e=c,t)=>{switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":{const{payload:n}=t;if(!n.options.redux_normalize_feed)return e;const{type:i,id:o,items:r,reversed:c}=s[n.name](n);let l=(r||n.data||[]).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i));c&&(l=l.reverse());const d=e[i][o];if(d||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){const n=d||[];let r=l;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(r=c?l.concat(n):n.concat(l)),{...e,[i]:{...e[i],[o]:r}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:s}}=t,c=e[n]||{},d=c[i]||[];let u=-1,p=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex(e=>e.type===o&&e.id===s),p=d.findIndex(e=>e.type===o&&e.id===r)),-1!==u&&-1!==p)return{...e,[n]:{...c,[i]:l(d,u,p)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:r,itemIds:s=[]}}=t,c=e[n]||{},l=c[i];if(l&&l.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))}),a=!!t.find(e=>"pin"===e.type);return{...e,[n]:{...c,[i]:a?t:[]}}}if(l&&l.length>0&&n===a.BOARD_SECTIONS){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&t)});return{...e,[n]:{...c,[i]:t}}}if(l&&l.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&t)});return{...e,[n]:{...c,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:r=[],prepend:s}}=t,c=e[n]||{},l=c[i];if(l&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=r.map(e=>({id:e,type:o}));let a=0;"story"===(l[0]||{}).type&&(a=1),"story"===(l[1]||{}).type&&(a=2);const s=[...l.slice(0,a),...t,...l.slice(a)];return{...e,[n]:{...c,[i]:s}}}if(l&&n===a.BOARD_SECTIONS){const t=[...r].reverse().map(e=>({id:e,type:"board_section"})),o=l?[...t,...l]:[...t];return{...e,[n]:{...c,[i]:o}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=r.map(e=>({id:e,type:o})),a=l?[...s?t:l,...s?l:t]:t;return{...e,[n]:{...c,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=r.map(e=>({id:e,type:o})),a=l?[...t,...l]:t;return{...e,[n]:{...e[n],[i]:a}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=e[n]||{};if(o[i])return{...e,[n]:{...o,[i]:null}};break}}return e}},L2iP:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u}));const i=64,o=80,r=22,a="HeaderContent",s=4,c=24,l=671,d={marginBottom:s},u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},Lic6:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("7w6Q"),o=n("Xy1J");const r=["isCellular","videoUrl","sessionMark"],a=["fatalError"];let s={},c="";const l=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:o,isBot:r,isSocialBot:a,view:l="unknown",viewParameter:d="unknown"}=e;c=(a?"socialBot":r&&"bot")||"nonbot";const u=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(i);s={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,region:u,view:l,viewParameter:d}};function d(e,t,n={}){const o=t?"hls":"nonHls",r={...n,...s},a=`web.video.${o}.${c}.${e}`;i.a.increment(a,1,r)}function u(e,t,n={}){const l=t?"hls":"nonHls",d=e.sessionMark===o.e?"sessionStart":"sessionEnd",u={...n,...s};if(Object.entries(e).forEach(([e,t])=>{const n=`web.video.${l}.${c}.${d}.${e}`,o=parseInt(t,10),s="number"==typeof o?o:-1;var p;if(!r.includes(e))if(a.includes(e)&&t)i.a.increment(n,1,u);else if(e.includes("Width")||e.includes("Height")){const e=(p=s)<0?"negative":0===p?"zero":p<200?"xs":p<400?"s":p<600?"m":p<800?"l":p<1e3?"xl":p<1200?"xxl":"over1200";i.a.increment(n,1,{dimensionBucket:e,...u})}else if("numberOfStalls"===e){let e=t;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),i.a.increment(n,1,{numberOfStalls:e,...u})}else"screenPixelRatio"===e?i.a.increment(n,1,{screenPixelRatio:t||-1,...u}):s>=0?(0===s&&i.a.increment(n+".zero",1,u),i.a.timing(n,s,1),i.a.timing(n+"_with_tags",s,1,u)):s<0&&i.a.increment(n+".negative",1,u)}),e.sessionMark!==o.e){const{rebufferRate:t,startupLatencyMs:n,startupVariantWidth:o,startupPlayerWidth:r}=e,a=`web.video.${l}.${c}.${d}`;if(o&&r){const e=1.5*o>2*r;i.a.increment(`${a}.upscaled.${e?"good":"bad"}`,1,u)}"number"==typeof n&&i.a.increment(`${a}.startupLatency.${n<500?"good":"bad"}`,1,u),"number"==typeof t&&i.a.increment(`${a}.rebufferRate.${t<.01?"good":"bad"}`,1,u)}}},LvPn:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("FylZ"),o=n("pody"),r=n("nEAA");const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:c,isExternal:l,isVisuallyCompleteRequired:d}=e;return s.responseEnd&&("image"!==n||d)?{name:a(e),id:Object(i.a)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:Object(o.a)(s),binaryAnnotationMap:{category:Object(r.d)(n),decodedBodySize:Object(r.b)(s.decodedBodySize||0),initiatorType:Object(r.d)(s.initiatorType),isDeferred:Object(r.a)(c),isExternal:Object(r.a)(l),name:Object(r.d)(s.name),nextHopProtocol:Object(r.d)(s.nextHopProtocol),transferSize:Object(r.b)(s.transferSize||0)}}:null}},MKeS:function(e,t,n){n.d(t,"b",(function(){return I}));var i=n("q1tI"),o=n.n(i);function r(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n("TOwV"),l=n("2mql"),d=n.n(l);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var h=o.a.createContext();function b(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},f="PENDING",g="REJECTED";var j=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?j:t,i=e.render,l=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),b={};function j(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function y(e,i,o){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!Object(c.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(o,r,{preload:!0}),r}var O,v=function(e){var n,o;function c(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:j(n)},u(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),s(i)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&m.initialChunks[p.chunkName(n)])&&i.loadSync(),i)}o=e,(n=c).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o,c.getDerivedStateFromProps=function(e,t){var n=j(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=c.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return j(this.props)},d.getCache=function(){return b[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),b[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;l&&setTimeout((function(){l(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=y(p.requireSync(this.props),this.props,x);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=y(t,e.props,{Loadable:x});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,r(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=p.requireAsync(n)).status=f,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e.props),chunkName:p.chunkName(e.props),error:t?t.message:t}),i.status=g}))),i},d.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,r(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,d=c.loading,u=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var p=o||t.fallback||null;return d?p:i({fallback:p,result:u,options:t,props:a({},s,{ref:n})})},c}(o.a.Component),_=(O=v,function(e){return o.a.createElement(h.Consumer,null,(function(t){return o.a.createElement(O,Object.assign({__chunkExtractor:t},e))}))}),x=o.a.forwardRef((function(e,t){return o.a.createElement(_,Object.assign({forwardedRef:t},e))}));return x.preload=function(e){p.requireAsync(e)},x.load=function(e){return p.requireAsync(e)},x}return{loadable:p,lazy:function(e,t){return p(e,a({},t,{suspense:!0}))}}}var O=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.a.createElement(t,n)}}),v=O.loadable,_=O.lazy,x=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=x.loadable,w=x.lazy,T="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!T)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(T){var r=b(i),a=document.getElementById(r);if(a){o=JSON.parse(a.textContent);var s=document.getElementById(r+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!o)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){o.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(c||(c=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=v;E.lib=S,_.lib=w;t.a=E},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(o.c)(e)||""}},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},NwjN:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(0)},OBhP:function(e,t,n){var i=n("fmRc"),o=n("gFfm"),r=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),d=n("VOtZ"),u=n("EEGq"),p=n("qZTm"),h=n("G6z8"),b=n("QqLw"),m=n("yHx3"),f=n("wrZu"),g=n("+iFO"),j=n("Z0cm"),y=n("DSRE"),O=n("zEVN"),v=n("GoyQ"),_=n("1+5i"),x=n("7GkX"),S=n("mTTR"),w="[object Arguments]",T="[object Function]",I="[object Object]",E={};E[w]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[I]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[T]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,P,C,R,A){var D,k=1&n,N=2&n,L=4&n;if(P&&(D=R?P(t,C,R,A):P(t)),void 0!==D)return D;if(!v(t))return t;var B=j(t);if(B){if(D=m(t),!k)return l(t,D)}else{var M=b(t),U=M==T||"[object GeneratorFunction]"==M;if(y(t))return c(t,k);if(M==I||M==w||U&&!R){if(D=N||U?{}:g(t),!k)return N?u(t,s(D,t)):d(t,a(D,t))}else{if(!E[M])return R?t:{};D=f(t,M,k)}}A||(A=new i);var F=A.get(t);if(F)return F;A.set(t,D),_(t)?t.forEach((function(i){D.add(e(i,n,P,i,t,A))})):O(t)&&t.forEach((function(i,o){D.set(o,e(i,n,P,o,t,A))}));var H=B?void 0:(L?N?h:p:N?S:x)(t);return o(H||t,(function(i,o){H&&(i=t[o=i]),r(D,o,e(i,n,P,o,t,A))})),D}},OSge:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));const i="0.8.0",o=9/16,r=6;function a(e,t=1){return{x:e/5,y:e*(t-1)}}const s={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",MENTION_STICKER:"story_pin_mention_sticker_block",PRODUCT_STICKER:"story_pin_product_sticker_block"},c={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},l={...c,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},Og0o:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i="closeupImage",o=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},P6kd:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("q1tI"),o=n("Ye/N"),r=n("oRao"),a=n("eOdZ"),s=n("Sbkd"),c=n("vvax"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(a.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:a}=this.props,s=e.filter(e=>e.query),u=a||"down",p="flyout_"+s.length;return t&&s.length>0?Object(d.jsx)("div",{className:"HashtagFlyout",children:Object(d.jsx)(l.I,{anchor:i,idealDirection:u,onDismiss:this.onDismiss,size:"sm",children:Object(d.jsx)("div",{className:"HashtagRecommendations",children:s.length>0?s.map((e,t)=>Object(d.jsx)("div",{className:"HashtagItem",children:Object(d.jsx)(l.X,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:Object(d.jsxs)(l.e,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[Object(d.jsx)(l.e,{flex:"grow",children:Object(d.jsx)(l.Y,{inline:!0,size:"md",weight:"bold",children:e.query})}),Object(d.jsx)(l.e,{flex:"none",children:Object(d.jsx)(l.Y,{inline:!0,size:"sm",children:Object(c.b)(o.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:Object(d.jsx)(r.a,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query)):null})},p)}):null}}function h(e){const t=Object(s.a)();return Object(d.jsx)(p,{...e,makeCancelablePromise:t})}},PNKV:function(e,t,n){},PioT:function(e,t,n){var i=n("+NLT"),o=n("3Qy3");n.d(t,"a",(function(){return o.a}));const r={getBrowser:()=>Object(o.b)(i.a.instance.browser_name||""),isSafari(){return this.getBrowser()===o.a.SAFARI},isChrome(){return this.getBrowser()===o.a.CHROME},isFirefox(){return this.getBrowser()===o.a.FIREFOX}};t.b=r},R6wO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(r.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(r.jsxs)(o.e,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(r.jsx)(o.e,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(r.jsx)(o.u,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(r.jsx)(o.u,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(r.jsxs)(o.e,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(r.jsx)(o.Y,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(r.jsx)(o.e,{alignItems:"center",display:"flex",children:!c&&i&&Object(r.jsx)(o.e,{marginBottom:2,marginTop:1,children:Object(r.jsx)(o.Y,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),o=n("Ep0g"),r=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(o.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(r.d)({user:e})&&!Object(r.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},Rfw2:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function l(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>o.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return l(t).map(t=>({index:n,term:t,type:e}));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return l(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},Sbkd:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n("mvLR");function r(){const e=Object(i.useRef)([]),t=Object(i.useRef)({});return Object(i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:r,promise:a}=Object(o.a)(n);return i?t.current[i]=r:e.current.push(r),a}}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(i.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},"T+9/":function(e,t,n){var i=n("q1tI"),o=n("i8i4"),r=n("/MKj"),a=n("ZbwW"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:p,slotIndex:h,trackCarousel:b,viewData:m,viewParameter:f,viewType:g}=this.props,j=d[l],y=j.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,v={endTime:e.endTime,[y]:u,slotIndex:h,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:O};if(b||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:o,element:a,eventData:{[j.impressionType]:[v]},objectIdStr:p,view:g,viewData:m||{},viewParameter:f,...r}),t&&b){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...v,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:p,view:g,viewData:m||{},viewParameter:f,...r})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}))},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te6n:function(e,t,n){n.r(t),n.d(t,"default",(function(){return g}));var i=n("q1tI"),o=n("/MKj"),r=n("ENn1"),a=n("jCsw"),s=n("Ye/N"),c=n("5871"),l=n("Zxas"),d=n("kVqD"),u=n("YxyV"),p=n("DJoW"),h=n("Y8Sn"),b=n("gD/Z"),m=n("n6mq"),f=n("nKUr");function g({feedbackData:e,feedbackType:t,pin:n,pinTitle:g,setForcePrimary:j,transparentBackground:y}){const O=Object(o.useDispatch)(),{viewParameter:v,viewType:_}=Object(b.b)(),[x,S]=Object(i.useState)(!1),[w,T]=Object(i.useState)(),{ad_match_reason:I,board:E,category:P,description:C,id:R="",images:A,is_promoted:D,pinner:k,promoter:N,recommendation_reason:L,source_interest:B,videos:M}=n;var U;const F=(U=D?60:50,function(e){return Object(l.a)((e||"").trim(),U)})(null!=C?C:""),H=Object(a.a)(A,"236x"),V=Object(h.j)(M),G=Object(d.a)(101,{component:0,element:981,feedback_type:t,objectId:R}),z=()=>{j(!1),O(Object(p.c)(R)),S(!1)};return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.e,{"data-test-id":"feedback-button",ref:T,children:Object(f.jsx)(m.v,{accessibilityLabel:s.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{x?z():(j(!0),S(!0)),G()},size:"sm"})}),x&&Object(f.jsx)(m.y,{children:Object(f.jsx)(m.I,{anchor:w,idealDirection:"right",onDismiss:z,positionRelativeToAnchor:!1,size:"md",children:Object(f.jsx)(c.a,{ad_match_reason:I,bestPinImgSrc:Object(u.d)(n),board:E,feedbackData:e,feedbackType:t,hideDownload:V,onLinkClick:()=>{x&&z()},onHide:z,onDownloadHideFlyout:()=>{j(!1),S(!1)},pinCategory:P,pinDescription:F,pinId:R,pinImgSrc:H,pinner:k,pinTitle:g,promoter:N,recommendationReason:L,reportPin:Object(r.a)({pin:n,viewParameter:v,viewType:_}),sourceInterest:B,viewParameter:v,viewType:_})})})]})}},Te9D:function(e,t,n){var i=n("/kAC"),o=n("dt0z"),r=/[&<>"']/g,a=RegExp(r.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(r,i):e}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("D2p8"),r=n("LT60"),a=n("n6mq"),s=n("nKUr");const c=new a.q(1e3),l=Object(i.forwardRef)(({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:l,allowMediaPlay:d,allowScroll:u,children:p,closeOnOutsideClick:h,footer:b,heading:m,onDismiss:f,role:g,size:j,subHeading:y},O)=>{Object(i.useEffect)(()=>(o.c.pause(),function(){o.c.resume()}),[]);return Object(s.jsx)(a.y,{zIndex:c,children:Object(s.jsx)(r.a,{allowClickAndDrag:l,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:Object(s.jsx)(a.F,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:m,footer:b,onDismiss:()=>{o.c.resume(),f()},ref:O,role:g,size:j,subHeading:y,children:p})})})});l.displayName="Modal",t.b=l},TqAR:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g}));var i=n("F2ZA");n("n6mq");const o=408,r=16,a=2*(o+r),s=766,c=1.532,l=45,d=e=>{const{article_creator_user:t,display_type:n,feed_source:o,header_pin_id:r,id:a,title:s,video_pin:c}=e;switch(n){case 0:case 1:return s?Object(i.e)(o,s,a):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return r?`/pin/${r}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}},u=e=>"todayarticle"===e.type,p=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),h=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),b=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),m=e=>e.height/e.width,f=["736x","236x","170x"],g=e=>{for(const n of f){var t;if(null!==(t=e.images)&&void 0!==t&&t[n])return e.images[n]}return null}},TqFJ:function(e,t,n){var i=n("q1tI"),o=n("v/Q4"),r=n("U4JR"),a=n("pLLR"),s=n("n6mq"),c=n("Lic6"),l=n("Xy1J"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{canPlayVideo:!1,playbackState:l.f.LOADING}),u(this,"componentDidMount",()=>{const{playing:e}=this.props;Object(c.c)("videoMounted",!1),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(l.e,{initiator:"mount"}))}),u(this,"componentDidUpdate",e=>{const{playing:t,visible:n}=this.props;e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(l.d,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(l.e,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(l.e,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),u(this,"hasSegmentStarted",!1),u(this,"hasPlaybackStarted",!1),u(this,"hasVideoSessionStarted",!1),u(this,"hasVideoSessionEnded",!1),u(this,"lastStartPlayTime",null),u(this,"lastStallTime",null),u(this,"logSessionStartOnNextPlay",!1),u(this,"playerId",""),u(this,"videoRefSetTime",null),u(this,"videoSessionId",""),u(this,"videoVisibleTime",null),u(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0}),u(this,"addSegment",()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let o=-1;e&&t&&0===n.length&&(o=e>t?e-t:0);const r=this.videoPlayerRef&&this.videoPlayerRef.video,a={indicatedKbps:-1,duration:r&&r.duration*l.c||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:o,switchBitrateKbps:-1,uri:i,viewportWidth:r&&r.clientWidth||-1,viewportHeight:r&&r.clientHeight||-1,watchedDurationMs:0};n.push(a)}),u(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*l.c:0),u(this,"getVideoResourceTiming",()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),u(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n,videoStartTime:i}=this.props,{canPlayVideo:o}=this.state;Object(c.c)("handleCanPlayVideo",!1,{firstCanPlayEvent:!o,playing:n}),o||(this.playbackPerformance.canPlayTime=new Date,null!=i&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=i)),this.setState({canPlayVideo:!0}),t&&t(e)}),u(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,o=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(l.d,{initiator:"videoEnded",loop:t}),this.setState({playbackState:l.f.ENDED}),n&&n(e)}),u(this,"handleError",()=>{const e=this.videoPlayerRef&&this.videoPlayerRef.video;this.playbackPerformance.hasFatalError=!0,e&&e.error&&(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${e.error.message||""}`,this.playbackPerformance.errorCode=e.error.code||0,this.playbackPerformance.errorName=e.error.message||"",this.playbackPerformance.errorReason=e.error.message||""),this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:l.f.FAILED})}),u(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),u(this,"handlePlaying",()=>{this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:l.f.PLAYING})}),u(this,"handlePause",()=>{this.state.playbackState!==l.f.STALLING&&this.state.playbackState!==l.f.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:l.f.PAUSED})}),u(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance;(e&&e[e.length-1]).lastStartPlayTime=null,this.state.playbackState!==l.f.ENDED&&this.setState({playbackState:l.f.SEEKING})}),u(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==l.f.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:l.f.STALLING}))}),u(this,"handleTimeUpdate",()=>{this.state.playbackState===l.f.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),u(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),u(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),u(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),u(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),u(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("error",this.handleError),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),u(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),u(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),u(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n,userId:i}=this.props,{canPlayTime:o,detailedErrors:a,errorCode:s,errorName:d,errorReason:u,hasFatalError:p,loadStartTime:h,numStalls:b,playbackStartTimestamp:m,srcString:f}=this.playbackPerformance,g=this.videoPlayerRef&&this.videoPlayerRef.video,j=e===l.e,y=j&&!this.hasVideoSessionStarted,O=!j&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(g&&(y||O)){var v;let y=-1;o&&h&&(y=o>h?o-h:0);let O=-1;o&&this.videoVisibleTime&&(O=o>this.videoVisibleTime?o-this.videoVisibleTime:0);const _=this.getVideoResourceTiming(),x={averageVideoKbps:-1,detailedErrors:a,downloadedKiloBytes:"number"==typeof(null==_?void 0:_.decodedBodySize)&&_.decodedBodySize/l.b||0,errorCode:s,errorName:d,errorReason:u,fatalError:p,isCellular:!1,nativeVideoDurationMs:g.duration*l.c||-1,numberOfStalls:b,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:m||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(v=window)&&void 0!==v&&v.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:g.clientWidth,startupPlayerHeight:g.clientHeight,startupTimeMs:y,startupLatencyMs:O,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:g.videoWidth,startupVariantHeight:g.videoHeight,videoUrl:f};if(j)this.videoSessionId=Object(l.h)(i),this.playerId=this.playerId||Object(l.g)();else{this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=this.playbackPerformance.segments.reduce((e,t)=>e+(t.watchedDurationMs||0),0);x.rebufferRate=this.playbackPerformance.totalStallDurationMs/e,x.overallWatchedDurationMs=e,x.startupVariantWatchedDurationMs=e,x.segments=this.playbackPerformance.segments}Object(c.a)(x,!1),Object(r.b)(3606,{...n,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:x}}),j?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(c.c)(j?"sessionStart":"sessionEnd",!1,t)}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(l.d,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:c,controls:l,loop:u,loopOveride:p,objectFit:h,onDurationChange:b,onFullscreenChange:m,onLoadedChange:f,onPause:g,onPlay:j,onPlayheadDown:y,onPlayheadUp:O,onSeek:v,onTimeChange:_,onVolumeChange:x,playbackRate:S,playing:w,playsInline:T,poster:I,preload:E,src:P,volume:C}=this.props,{canPlayVideo:R}=this.state;return Object(d.jsx)(s.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:c,controls:l,loop:void 0===p?u:p,objectFit:h,onDurationChange:b,onEnded:this.handleEnded,onFullscreenChange:m,onLoadedChange:f,onPause:g,onPlay:j,onPlayheadDown:y,onPlayheadUp:O,onReady:this.handleCanPlayVideo,onSeek:v,onTimeChange:_,onVolumeChange:x,playbackRate:S,playing:R&&w,playsInline:T,poster:I,preload:E,ref:this.setVideoPlayerRef,src:P,volume:C})}}t.a=Object(i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:r,unauthId:s,userAgent:l}=Object(a.d)(),{browserName:u,browserVersion:h}=l,{contextLogData:b={}}=e,{view:m,viewParameter:f}=b,g=Object(o.a)(),j={browserName:u,browserVersion:h,country:t,isAuthenticated:n,isBot:i,isSocialBot:r,view:m,viewParameter:f};return Object(c.b)(j),Object(d.jsx)(p,{...e,userId:g.id||s})}))},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},UAdG:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("/MKj"),r=n("fOIk"),a=n("Ye/N"),s=n("eOdZ");var c=n("n6mq"),l=n("nKUr");function d({favorited:e,favoriteCount:t,onFavorite:n,onUnfavorite:d,pinId:u,size:p}){const h=Object(o.useDispatch)(),[b,m]=Object(i.useState)(!1),[f,g]=Object(i.useState)(e),[j,y]=Object(i.useState)(null!=t?t:0),O=async()=>{var e;g(!f),m(!0),f?(y(j-1),await h((e=u,async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),d(),m(!1)):(y(j+1),await h(function(e){return async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),n(),m(!1))},v=j<10?j:a.a._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return Object(l.jsxs)(c.r,{alignItems:"center",gap:1,children:[void 0!==t&&j>0&&Object(l.jsx)(c.Y,{size:"md",weight:"bold",children:v}),Object(l.jsx)(r.b,{isDisabled:b,isFavorited:f,onTap:()=>{O()},size:p})]})}},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VJm5:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("T+9/"),a=n("ZbwW"),s=n("Ye/N"),c=n("qhFy"),l=n("n6mq"),d=n("yjg8"),u=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),p(this,"state",{showBadge:!0}),p(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:o,index:r}=e,a=i?.8:0;return!t&&n?Object(u.jsx)(l.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:a,transition:"opacity .3s"}},children:Object(u.jsx)(l.Y,{color:"white",children:`${(null!=r?r:0)+1}/${(null!=o?o:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:o}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,cropHeight:o,cropWidth:a,carouselData:p,highResOnly:h,lowResOnly:b,onError:m,onLoad:f,pinId:g,isEditMode:j,isDenseView:y}=this.props;if(!p)return null;const{carousel_slots:O=[],index:v=0}=p,_=void 0!==t?t:v,x=!e&&a,{images:S}=O[_];let w;w=e?i:x||(h?474:y?d.f:d.e);const T=(null==S?void 0:S["236x"])||{},I=o||T.height||0,E=a||T.width||236,P=n||I/E*w,C=(e=>{const t=e.reduce((e,t)=>{var n;const{images:i}=t,{height:o=1,width:r=1}=(null==i?void 0:i["736x"])||(null==i?void 0:i["236x"])||{},a=`${r}x${o}`,s=(null===(n=e[a])||void 0===n?void 0:n.times)||0;return{...e,[a]:{imageHeight:o,imageWidth:r,times:s+1}}},{}),n=Object.keys(t).reduce((e,n)=>t[n].times>e.times?t[n]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null})(O);return Object(u.jsxs)(l.e,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a,children:[!j&&this.renderBadge(),Object(u.jsx)(r.a,{trackCarousel:!0,impressionType:"Pin",loggingId:g,slotIndex:v,viewParameter:72,viewType:1,children:Object(u.jsx)(l.e,{position:"absolute",height:P,width:w,overflow:"hidden"})},"carousel-impression-key-"+_),Object(u.jsx)(l.e,{width:w*O.length,dangerouslySetInlineStyle:{__style:{left:_*w*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:O.map((t,r)=>((e,t,n,i,o,r,a,c,d,p,h,b,m,f,g)=>{var j,y,O;const{images:v,details:_=""}=e;let x,S=236,w=236,T="";if(c)S=d||0,w=p||0,T=v&&(v["564x"]&&v["564x"].url||v["736x"]&&v["736x"].url||v["236x"]&&v["236x"].url);else if(i){var I,E;S=474,w=v&&Math.min(S/.8,S/((null!==(I=v["564x"].width)&&void 0!==I?I:1)/(null!==(E=v["564x"].height)&&void 0!==E?E:1))),T=v&&v["564x"].url}else v&&v["736x"]?(w=v&&v["736x"]&&v["736x"].height,S=v&&v["736x"]&&v["736x"].width,T=v&&v["736x"]&&v["736x"].url):v&&v["236x"]&&(w=v&&v["236x"]&&v["236x"].height,S=v&&v["236x"]&&v["236x"].width,T=v&&v["236x"]&&v["236x"].url);var P,C;if(m&&f&&(w=Math.min(m*f,null!==(P=w)&&void 0!==P?P:1)),o)x=(null!==(C=null==v?void 0:v["236x"].url)&&void 0!==C?C:"")+" 1x";else if(i){var R;x=(null!==(R=null==v?void 0:v["564x"].url)&&void 0!==R?R:"")+" 1x"}else{var A,D,k;x=[(null==v?void 0:v["474x"])&&(null!==(A=v["474x"].url)&&void 0!==A?A:"")+" 2x",(null==v?void 0:v["736x"])&&(null!==(D=v["736x"].url)&&void 0!==D?D:"")+" 3x",(null==v?void 0:v.orig)&&(null!==(k=v.orig.url)&&void 0!==k?k:"")+" 4x"].filter(Boolean).join(", ")}const N=_||`${s.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`,L=b?void 0:w,B=b?void 0:S,M=!!g,{boxHeight:U,boxWidth:F}=M?{boxHeight:null==g?void 0:g.imageHeight,boxWidth:null==g?void 0:g.imageWidth}:{boxHeight:L,boxWidth:B};return Object(u.jsx)(l.e,{"data-test-id":"carousel-slot-container",height:U,width:F,children:Object(u.jsx)(l.e,{height:b?h:void 0,width:b||void 0,children:Object(u.jsx)(l.w,{alt:N,fit:b?"cover":"none",naturalHeight:null!==(j=w)&&void 0!==j?j:1,naturalWidth:null!==(y=S)&&void 0!==y?y:1,onError:r,onLoad:a,src:null!==(O=T)&&void 0!==O?O:"",srcSet:x})})},`carousel-slot-${t}-${n}`)})(t,g,r,h,b,m,f,e,i,n,o,a,P,w,C))})]})}}p(h,"defaultProps",{showCarouselBadge:!0});t.a=Object(o.connect)(({pins:e},{pinId:t,pin:n})=>{const i=e[t]||n;return{carouselData:Object(a.a)(i)}},()=>({}))(h)},VOtZ:function(e,t,n){var i=n("juv8"),o=n("MvSz");e.exports=function(e,t){return i(e,o(e),t)}},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("RHD0"),o=(n("7jH2"),n("Y8Sn"));function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(o.j)(e.videos)&&!Object(o.i)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const p=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function h(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function c(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function l(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,o={},r=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:a}}}function p(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function h(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function b(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function m(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function f(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f}))},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Jr++"),o=n("n6mq"),r=n("nKUr");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(i.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(r.jsx)(o.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(r.jsx)(o.Y,{color:"white",children:Object(r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},WnNx:function(e,t,n){function i(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function o(){return{type:"HIDE_REPIN_ANIMATION"}}function r(){return{type:"SHOW_ACCOUNT_MENU_FLYOUT"}}function a(){return{type:"HIDE_ACCOUNT_MENU_FLYOUT"}}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}))},WwFo:function(e,t,n){var i=n("juv8"),o=n("7GkX");e.exports=function(e,t){return e&&i(t,o(t),e)}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},XGnz:function(e,t,n){var i=n("CH3K"),o=n("BiGR");e.exports=function e(t,n,r,a,s){var c=-1,l=t.length;for(r||(r=o),s||(s=[]);++c<l;){var d=t[c];n>0&&r(d)?n>1?e(d,n-1,r,a,s):i(s,d):a||(s[s.length]=d)}return s}},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=120;function r(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=o){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),r(a,t,()=>{l("active")})):"ending"===c&&(l("active"),r(a)):"active"===c?(l("ending"),r(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),r(a))),Object(i.useEffect)(()=>()=>r(a),[]),s.current=e,c}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,o=800,r=508,a=424,s=278,c=640,l=508,d=1016,u=508},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XhR6:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",STORY_PINS:"story_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},r=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},Xuu2:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("1Fta"),o=n("Ye/N"),r=n("vvax");function a({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:s}=t,{getFeedbackType:c}=Object(i.a)({i18n:o.a,interpolateNamedTemplate:r.b});return c({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},Xy1J:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u}));var i=n("7Cbv");const o=1,r=2,a=1e3,s=1e3,c=1e3,l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5,ENDED:6});function d(e){return e+"-"+Object(i.a)()}function u(){return Object(i.a)()}},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("c4Fo"),r=n("BcvT"),a=n("n6mq"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return Object(s.jsx)(a.I,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(a.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(a.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(a.Y,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(a.e,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>Object(s.jsx)(a.e,{height:60,width:50,paddingX:1,children:Object(s.jsx)(a.B,{rounding:2,height:60,children:Object(s.jsx)(a.w,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:c,flyoutSize:d,fontSize:u,idealDirection:p,useMasonryFlyout:h,noClickToDismiss:b,onClickComplete:m,onClickDismiss:f,placementId:g,positionRelativeToAnchor:j,shouldTimeoutDismiss:y,showCaret:O,textAlign:v,textOverflow:_,textOverrideFn:x,textWeight:S,customizedComplete:w,pulsarZIndex:T}=this.props,I=t||(({children:e})=>h?Object(s.jsx)(a.y,{children:e}):e),E="blue";return Object(s.jsx)(o.a,{experienceIds:n,placementId:g,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(y&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),o.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[o.has_pulsar&&Object(s.jsx)(r.a,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:T&&T.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?Object(s.jsx)(l,{anchor:e,dismiss:n,idealDirection:p||"down",text:o.text,thumbnails:o.thumbnail_urls}):Object(s.jsx)(I,{children:Object(s.jsx)(a.I,{anchor:e,color:E,idealDirection:p||"down",onDismiss:b?()=>{}:n,positionRelativeToAnchor:!h&&j,shouldFocus:!1,showCaret:O,size:d,children:Object(s.jsxs)(a.e,{column:12,padding:3,children:[Object(s.jsx)(a.Y,{align:v,color:"white",overflow:_,size:u,weight:S||"bold",children:this.getText(o,c,x)}),o.sub_text&&Object(s.jsx)(a.e,{paddingY:2,children:Object(s.jsx)(a.Y,{color:"white",size:u,children:o.sub_text})}),(o.dismiss_button_text||o.complete_button_text)&&Object(s.jsxs)(a.e,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&Object(s.jsx)(a.e,{marginEnd:1,column:6,children:Object(s.jsx)(a.f,{color:E,onClick:()=>{f&&f(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&Object(s.jsx)(a.e,{column:o.dismiss_button_text?6:12,children:w?Object(s.jsx)(a.X,{fullHeight:!0,onTap:()=>{t(),m&&m()},rounding:2,children:Object(s.jsx)(a.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(a.Y,{color:"blue",weight:"bold",children:o.complete_button_text})})}):Object(s.jsx)(a.f,{color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),m&&m()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},Yo6N:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var i=n("q1tI"),o=n("qD10"),r=n("n6mq"),a=n("nKUr");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,l=i&&i.text,d=s&&s.text||"",u=s&&s.link||"",p=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&d&&u.startsWith("http")?Object(a.jsxs)(r.e,{children:[Object(a.jsx)(r.e,{marginBottom:1,children:Object(a.jsx)(r.Y,{align:t?"center":"left",weight:"bold",children:""!==d?d:"Visit"})}),Object(a.jsx)(r.e,{marginBottom:1,children:Object(a.jsx)(o.a,{className:"underlineLink",to:u,children:Object(a.jsx)("span",{style:{textDecoration:"underline"},children:Object(a.jsx)(r.Y,{align:t?"center":"left",truncate:!0,children:p})})})})]}):Object(a.jsxs)(r.e,{children:[!!c&&Object(a.jsx)(r.e,{marginBottom:1,children:Object(a.jsx)(r.Y,{align:t?"center":"left",weight:"bold",children:c})}),!!l&&Object(a.jsx)(r.e,{marginBottom:1,children:Object(a.jsx)(r.Y,{align:t?"center":"left",children:l})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:o=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],p=1===o.length,h=m(d,u);return Object(a.jsxs)(r.e,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c},children:[!!n&&!e&&Object(a.jsx)(r.e,{marginBottom:2,display:"flex",children:Object(a.jsx)(r.t,{size:"md",children:n})}),!!d&&Object(a.jsx)(r.e,{marginBottom:4,children:Object(a.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(a.jsx)(r.Y,{overflow:"normal",align:e?"center":"left",children:h})})}),!!o.length&&Object(a.jsx)(r.e,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:o.map(t=>Object(a.jsx)(r.e,{column:e||p?12:6,paddingY:1,paddingX:2,children:Object(a.jsx)(s,{action:t,alignCenter:e||p})},JSON.stringify(t)))})]})}var u=n("EC51");function p({notice:e}){const{actions:t=[],description:n,footer:i}=e,o=m(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(a.jsxs)(r.e,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(a.jsx)(r.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(a.jsxs)(r.e,{height:"100%",width:"100%",padding:10,children:[Object(a.jsx)("span",{style:s,children:o}),Object(a.jsx)(r.e,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,o,c;return n&&n.startsWith("tel")?Object(a.jsxs)(r.e,{children:[Object(a.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(a.jsx)("span",{style:s,children:null===(o=e.description)||void 0===o?void 0:o.text})]}):Object(a.jsx)(u.a,{href:n||"",children:Object(a.jsx)(r.e,{display:"inlineBlock",children:Object(a.jsx)(r.e,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",width:117,children:Object(a.jsx)(r.Y,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(a.jsx)(r.e,{paddingY:2,width:540,children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(a.jsx)(r.Y,{align:"center",color:"gray",size:"sm",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var h=n("hZxF"),b=n("U4JR");function m(e,t){const n=[];let i=0;for(let o=0;o<t.length;o+=1){const s=t[o];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),o=Object(a.jsx)(r.Y,{inline:!0,weight:"bold",children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(a.jsx)("span",{children:e.substring(i,s.offset)})),n.push(o),i=s.offset+s.length}}return i>0&&n.push(Object(a.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(a.jsx)("span",{children:e})]:n}function f({inModal:e,notices:t,viewType:n,query:o,sensitivity:r}){return Object(h.a)(()=>{n&&Object(b.b)(120,{component:13367,view:n,entered_query:o,advisory_details:null==r?void 0:r.advisory_details,advisory_level:null==r?void 0:r.advisory,severity_level:null==r?void 0:r.severity})}),Object(a.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(a.jsx)(p,{notice:t}):Object(a.jsx)(d,{notice:t,inModal:e}))})}},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),o=n("yjg8"),r=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),p=(e,t=!1)=>e&&e.length>0&&!t,h=(e,t,n,i)=>{let o=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!p(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=l.seeMoreButtonHeight,o+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=l.productSiteTitle,o+=l.productSiteTitleTopMargin),p(s,i)&&(o+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);o+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},b=(e,t,n,i=!1,o,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:h(e,0,0,o);return s||c?c+s+10:0},m=(e,t="orig")=>Object(i.a)(e.images,t);function f(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const a=m(e,"orig");if(a){const e=Math.floor(a.height*o.e/a.width);i=e>r?r:e}return i}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("4dcN"),o=n("eOdZ");const r="collaborator_approve_invite";function a(e,t){return o.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return o.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>o.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{i.a.trackEvent(r,"success")}).catch(()=>i.a.trackEvent(r,"error"))}function l(e,t,n){return t=>{const{invited_user:i,status:r,board:{id:a}}=e;return o.a.create("accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}},ZWtO:function(e,t,n){var i=n("4uTw"),o=n("9Nap");e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},ZbwW:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("EDqd");function o(e){const t=(((e||{}).rich_metadata||{}).products||[])[0]||{};return t&&t.additional_images&&t.additional_images.length>0?Object(i.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function o(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function r(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function a(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n){let o;const r=new Promise((a,c)=>{o=(o,r)=>{const{text:d,pinId:u,boardId:p,userId:h,didItId:b}=t,m=r();function f(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:d,pin:u,board:p,user:h,user_did_it_data:b,source:n}),r=""+l();o(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:d,sender:m.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:r,board:null,event_type:null,pin:u?m.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,s;o((n=e,i=r,s=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:s}})),a()}).catch(c)}m.conversations.data[e]?f():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;o(s(t)),f()})},o.getPromise=()=>r});return o}const u=(e,t,n)=>o=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;o(r(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},a5kZ:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Ye/N"),o=n("n6mq"),r=n("nKUr");function a({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:a}){return Object(r.jsx)(o.X,{onTap:()=>{n?t():a()},rounding:"pill",accessibilityLabel:i.a._("Filter","productsFilterButton","Button to filter products results"),children:Object(r.jsx)(o.e,{display:"flex",justifyContent:"center",alignContent:"center",color:"lightGray",rounding:"pill",minHeight:40,children:Object(r.jsxs)(o.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:40,paddingX:4,children:[Object(r.jsx)(o.e,{marginEnd:3,children:Object(r.jsx)(o.u,{accessibilityLabel:"",icon:"filter",color:"darkGray"})}),Object(r.jsx)(o.Y,{align:"center",color:"darkGray",weight:"bold",children:e})]})})})}},aFfM:function(e,t,n){var i=n("q1tI"),o=n("ulZh"),r=n.n(o),a=n("v/Q4"),s=n("U4JR"),c=n("pLLR"),l=n("n6mq"),d=n("Lic6"),u=n("Xy1J"),p=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.PureComponent{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:u.f.LOADING}),h(this,"firstFragBuffered",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"hls",null),h(this,"fragStartupTime",{}),h(this,"lastLevelSwitchKbps",null),h(this,"lastStallTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0,videoCreatedTime:null}),h(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new r.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(r.a.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(r.a.Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(r.a.Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(r.a.Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(r.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),n.on(r.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(r.a.Events.ERROR,this.handleHlsError),this.hls=n}),h(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),h(this,"addSegment",e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},o=this.hls&&"number"==typeof this.hls.currentLevel?i[this.hls.currentLevel]:{},r=this.fragStartupTime[e.url];let a=-1;r&&r.startLoadTime&&r.endLoadTime&&(a=r.endLoadTime-r.startLoadTime);const s={indicatedKbps:o.bitrate/u.a,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/u.a||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:o.width,sourceHeight:o.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}}),h(this,"initializeSegments",e=>{const{segments:t}=this.playbackPerformance;if(!t.length)if(this.hls&&"number"==typeof this.hls.currentLevel&&this.videoPlayerRef&&this.videoPlayerRef.video){if(!t.length){const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls.levels[this.hls.currentLevel]||{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/u.a;const a={indicatedKbps:i.bitrate/u.a,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/u.a||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:i.width,sourceHeight:i.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n.clientWidth,viewportHeight:n.clientHeight,watchedDurationMs:0};t.push(a)}}else Object(d.c)("initializeSegmentsFailed",!0)}),h(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*u.c:null),h(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n}=this.props,{canPlayVideo:i}=this.state;Object(d.c)("handleCanPlayVideo",!0,{firstCanPlayEvent:!i,playing:n}),i||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),h(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,o=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(u.d,{initiator:"videoEnded",loop:t}),this.setState({playbackState:u.f.ENDED}),n&&n(e)}),h(this,"handleHlsError",(e,t)=>{this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0),this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:u.f.FAILED})}),h(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),h(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),h(this,"handleHlsFragLoading",(e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})}),h(this,"handleHlsFragLoaded",(e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/u.b);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)}),h(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/u.a)}),h(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),h(this,"handlePlaying",()=>{this.setPlaybackStartTime(),this.initializeSegments(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:u.f.PLAYING})}),h(this,"handlePause",()=>{this.state.playbackState!==u.f.STALLING&&this.state.playbackState!==u.f.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:u.f.PAUSED})}),h(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==u.f.ENDED&&this.setState({playbackState:u.f.SEEKING})}),h(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==u.f.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:u.f.STALLING})}),h(this,"handleTimeUpdate",()=>{this.state.playbackState===u.f.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),h(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),h(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),h(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),h(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),h(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),h(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),h(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),h(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n,userId:i}=this.props,{canPlayTime:o,detailedErrors:r,downloadedKiloBytes:a,errorCode:c,errorName:l,errorReason:p,hasFatalError:h,playbackStartTimestamp:b,segments:m,srcString:f,loadStartTime:g,numStalls:j}=this.playbackPerformance,y=this.videoPlayerRef&&this.videoPlayerRef.video,O=e===u.e,v=O&&!this.hasVideoSessionStarted,_=!O&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&y&&(v||_)){var x;let v=-1;o&&g&&(v=o>g?o-g:0);let _=-1;o&&this.videoVisibleTime&&(_=o>this.videoVisibleTime?o-this.videoVisibleTime:0);const S={averageVideoKbps:-1,detailedErrors:r,downloadedKiloBytes:a,isCellular:!1,errorCode:c,errorName:l,errorReason:p,fatalError:h,nativeVideoDurationMs:y.duration*u.c||-1,numberOfStalls:j,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(x=window)&&void 0!==x&&x.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:y.clientWidth,startupPlayerHeight:y.clientHeight,startupTimeMs:v,startupLatencyMs:_,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:y.videoWidth,startupVariantHeight:y.videoHeight,videoUrl:f};if(O)this.videoSessionId=Object(u.h)(i),this.playerId=this.playerId||Object(u.g)();else if(m.length>0){const e=this.hls.levels,t=m[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=m.reduce((t,n)=>t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/u.c,0),i=m.reduce((e,t)=>e+(t.watchedDurationMs||0),0);let o=null,r=0,a=0;do{r+=m[a].watchedDurationMs,o=o||m[a].level,a+=1}while(a<m.length&&m[a].level===o);S.startupVariantKbps=t.indicatedKbps,S.startupVariantWatchedDurationMs=r,S.startupVariantWidth=t.sourceWidth,S.startupVariantHeight=t.sourceHeight,S.overallWatchedDurationMs=i,i>0?(S.averageVideoKbps=n/(i/u.c),S.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(S.averageVideoKbps=0,S.rebufferRate=0),S.segments=m}Object(d.a)(S,!0),Object(s.b)(3606,{...n,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:S}}),O?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(d.c)(O?"sessionStart":"sessionEnd",!0,t)}})}componentDidMount(){const{playing:e}=this.props;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(d.c)("videoMounted",!0),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(u.e,{initiator:"mount"}))}componentDidUpdate(e){const{playing:t,src:n,visible:i}=this.props;var o,r;(typeof(o=e.src)!=typeof(r=n)||(Array.isArray(r)?o.length!==r.length||r.some((e,t)=>!Array.isArray(o)||e.type!==o[t].type||e.src!==o[t].src):r!==o))&&this.initializeHls(),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(u.d,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.e,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.e,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(u.d,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:c,loop:d,loopOveride:u,onDurationChange:h,onFullscreenChange:b,onLoadedChange:m,onPause:f,onPlay:g,onPlayheadDown:j,onPlayheadUp:y,onSeek:O,onTimeChange:v,onVolumeChange:_,playbackRate:x,playing:S,playsInline:w,poster:T,preload:I,src:E,volume:P}=this.props,{canPlayVideo:C,isManifestParsed:R}=this.state;return Object(p.jsx)(l.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:c,loop:void 0===u?d:u,onDurationChange:h,onEnded:this.handleEnded,onFullscreenChange:b,onLoadedChange:m,onPause:f,onPlay:g,onPlayheadDown:j,onPlayheadUp:y,onReady:this.handleCanPlayVideo,onSeek:O,onTimeChange:v,onVolumeChange:_,playbackRate:x,playing:R&&C&&S,playsInline:w,poster:T,preload:I,ref:this.setVideoPlayerRef,src:E,volume:P})}}t.a=Object(i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:o,unauthId:r,userAgent:s}=Object(c.d)(),{browserName:l,browserVersion:u}=s,{contextLogData:h={}}=e,{view:m,viewParameter:f}=h,g=Object(a.a)(),j={browserName:l,browserVersion:u,country:t,isAuthenticated:n,isBot:i,isSocialBot:o,view:m,viewParameter:f};return Object(d.b)(j),Object(p.jsx)(b,{...e,userId:g.id||r})}))},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),o=n("1dBE");const r=Object(i.createContext)(null),a=()=>Object(i.useContext)(r),s=r.Provider,{Provider:c,useHook:l}=Object(o.c)("DesktopCoreLogin"),d=()=>{const{loginForMore:e}=l();return()=>{e&&e.setVisible(!0)}}},"b/K5":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),l=e=>e*(Math.PI/180);class d extends i.PureComponent{constructor(...e){super(...e),a(this,"animationTimer",null),a(this,"canvasRemovalTimer",null),a(this,"containerRef",Object(i.createRef)()),a(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,i=document.createElement("canvas");return i.style.position="absolute",i.style.left=0-(n-t)/2+"px",i.style.top=0-(n-e)/2+"px",i.style.pointerEvents="none",i.style.width=n+"px",i.style.height=n+"px",i.style.overflow="visible",i.width=n,i.height=n,i}),a(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const i=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),o=(e,t,n,i)=>{window.requestAnimationFrame(()=>o(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(l(e.degree)),e.y+=e.speed*Math.sin(l(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};o(i,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(r.jsx)(o.e,{ref:this.containerRef,position:"relative",children:this.props.children})}}a(d,"defaultProps",{delay:0});var u=d,p=n("Ye/N"),h=n("vvax");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),f=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class g extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{isInitialized:!1}),b(this,"containerRef",Object(i.createRef)()),b(this,"pinDestinationRef",Object(i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:i}=this.props;n&&i&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(i,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:a}=this.props,{description:s="",images:c}=t,{height:l=0,width:d=0,url:b=""}=(null==c?void 0:c["236x"])||{},{isInitialized:g}=this.state,{mask:j,imageContainer:y}=((e,t,n,i)=>{var o,r,a;let s,c,l={};const d=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),u=null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),p=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect();if(u&&d&&p){l={left:d.left-u.left,top:d.top-u.top};const e={x:p.left-d.left,y:p.top-d.top},t={x:(p.width-d.width)/2,y:(p.height-d.height)/2};s=`translate(${e.x}px, ${e.y}px)`,c=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:l.left,top:l.top,width:e?null==p?void 0:p.width:null==d?void 0:d.width,height:e?null==p?void 0:p.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(g,this.containerRef,n,this.pinDestinationRef);return Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(o.e,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[Object(r.jsx)(o.e,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:j},children:Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:y},children:Object(r.jsx)(o.w,{alt:null!=s?s:"",src:b||"",naturalHeight:l||1,naturalWidth:d||1})})}),Object(r.jsx)(o.e,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(O=g,{pointerEvents:"none",opacity:O?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:Object(r.jsxs)(o.e,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:m(g)},children:[Object(r.jsx)(u,{delay:1250,startAnimation:g,children:Object(r.jsx)(o.B,{rounding:2,width:270,height:180,children:Object(r.jsxs)(o.e,{display:"flex",height:"100%",width:"100%",children:[Object(r.jsx)(o.e,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),Object(r.jsxs)(o.e,{display:"flex",width:80,direction:"column",children:[Object(r.jsx)(o.e,{color:"lightGray",flex:"grow",marginBottom:1}),Object(r.jsx)(o.e,{color:"lightGray",flex:"grow"})]})]})})}),Object(r.jsx)(o.e,{paddingX:2,dangerouslySetInlineStyle:{__style:f(g)},children:Object(r.jsx)(o.t,{align:"center",children:e?Object(h.b)(p.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=a?a:""}):Object(h.b)(p.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=a?a:""})})})]})})]})});var O}}b(g,"defaultProps",{firstRepin:!1})},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b9Z9:function(e,t,n){n.d(t,"a",(function(){return L}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a({isHorizontalDesign:e}){return e?Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(r.jsx)(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("Ye/N");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url}),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&Object(r.jsx)(o.w,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(r.jsx)(o.e,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(r.jsxs)(o.e,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(r.jsx)(o.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(r.jsx)(o.e,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(r.jsx)(o.e,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(r.jsx)(o.e,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.e,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(r.jsx)(o.e,{height:136,display:"flex",direction:"column",children:Object(r.jsxs)(o.e,{width:"100%",position:"relative",flex:"grow",children:[Object(r.jsx)(a,{isHorizontalDesign:e}),n,Object(r.jsx)(o.e,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=n("FDmi"),p=n("gqRH"),h=n("U4JR");var b=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=i?80:86,b=Object(p.b)({href:a});return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(r.jsx)(o.e,{flex:"none",height:d,width:d,children:Object(r.jsx)(o.X,{onTap:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),function(e,t){Object(h.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}(l,c),b({event:e})},href:a,rounding:"circle",role:"link",children:Object(r.jsx)(u.a,{name:s,src:t,verified:n})})})})},m=n("Zxas");function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:a}){const s=a*t,c=Object(m.a)(e,s);return n?Object(r.jsx)(o.Y,{align:i?"left":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(r.jsx)(o.Y,{align:i?"left":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:c})}function g({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(r.jsxs)(o.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(r.jsx)(o.e,{height:18,width:"100%",children:Object(r.jsx)(o.Y,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:i})}),Object(r.jsxs)(o.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(r.jsxs)(o.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(r.jsx)(o.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(r.jsx)(o.e,{height:6,flex:"none"}),Object(r.jsx)(o.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(r.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(r.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var j=n("/MKj"),y=n("oRao"),O=n("vvax");function v({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:a}){return i?Object(O.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:Object(r.jsx)(o.e,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(r.jsx)(o.Y,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(r.jsx)(y.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(r.jsx)(o.e,{"data-test-id":"followText",display:"inlineBlock",children:Object(r.jsx)(o.Y,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(r.jsx)(o.e,{"data-test-id":"followText",children:Object(r.jsx)(o.Y,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var _=n("M1Uz"),x=n("nGHF"),S=n("ZVOf");var w=Object(j.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.c)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:p,imageUrl:b,profileUrl:m}){const{showOneToast:f}=Object(x.b)(),g=a?s.a._("Following","User follow button","User follow button"):s.a._("Follow","User follow button","User follow button"),j=e=>Object(h.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(r.jsx)(o.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(r.jsx)(o.X,{onTap:()=>{a?(Object(S.c)(l),j(46)):(c(l),j(45),f(({onHide:e})=>Object(r.jsx)(_.a,{onHide:e,text:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(o.Y,{children:s.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(r.jsx)(o.Y,{weight:"bold",children:p})]}),href:m,imageUrl:b})))},rounding:"pill",children:Object(r.jsx)(o.e,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(r.jsx)(v,{followerCount:e,followText:g,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function T({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:p,viewType:h}){const m=function(e){return"/"+e}(u);return Object(r.jsxs)(o.e,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(r.jsx)(b,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:m,userFullName:d,viewType:h,viewParameter:p}),c&&Object(r.jsxs)(o.e,{position:"relative",width:"100%",children:[Object(r.jsx)(o.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(r.jsx)(w,{fullName:d,followerCount:i,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:m,showFollowerCount:s})}),Object(r.jsx)(o.e,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(r.jsx)(g,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(r.jsxs)(o.e,{width:"100%",children:[Object(r.jsx)(g,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(r.jsx)(o.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(w,{followerCount:i,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:m,showFollowerCount:s})})]})]})}var I=n("TgLd");const E=24;function P({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,p=d+c+i+12>window.innerWidth,h={left:p?d:d+c,top:u+l/2},b={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-i:12,top:-i/2-44},m={top:-12,left:-12,fill:"white"},f=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(r.jsxs)(o.e,{position:"absolute",zIndex:I.a,dangerouslySetInlineStyle:{__style:h},children:[Object(r.jsx)(o.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:b},width:i,overflow:"hidden",children:t}),Object(r.jsx)(o.e,{position:"absolute",dangerouslySetInlineStyle:{__style:m},children:Object(r.jsx)("svg",{width:E,height:E,children:Object(r.jsx)("path",{d:f})})})]})}var C=n("eOdZ"),R=n("LT60"),A=n("v/Q4"),D=n("pLLR");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.PureComponent{constructor(e){super(e),k(this,"anchorRef",Object(i.createRef)()),k(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(C.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),C.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),C.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),k(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),k(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),k(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),k(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:u,user:p,userPins:h}=this.state,{about:b,domain_url:m,follower_count:f,full_name:g,id:j,image_medium_url:y,show_creator_profile:O,verified_identity:v}=p||{},_=a.isAuth&&a.id===j,x=Boolean(null==v?void 0:v.verified),{group:S}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),w="enabled2_horizontal"===S;return Object(r.jsxs)(o.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(r.jsxs)(o.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(r.jsx)(o.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!_&&!!p&&!!i&&l&&Object(r.jsx)(o.e,{children:Object(r.jsx)(R.a,{children:Object(r.jsx)(o.y,{children:Object(r.jsx)(P,{anchor:this.anchorRef.current,isHorizontalDesign:w,children:Object(r.jsx)(o.e,{color:"white",zIndex:I.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(r.jsxs)(o.e,{width:"100%",children:[Object(r.jsx)(d,{isHorizontalDesign:w,userPins:h,showcase:u}),Object(r.jsx)(T,{avatarUrl:null!=y?y:"",description:null!=b?b:"",domainUrl:m,followerCount:null!=f?f:0,id:null!=j?j:"",isCreator:O,isHorizontalDesign:w,isVerified:null!=x&&x,userFullName:null!=g?g:"",username:i,viewParameter:s,viewType:c})]})})})})})})]})}}function L(e){const t=Object(D.d)(),n=Object(A.a)();return Object(r.jsx)(N,{...e,requestContext:t,viewer:n})}},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("L2iP"),r=n("n6mq"),a=n("qYux"),s=n("0Rm8"),c=n("pIlY"),l=n("nKUr");function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:p=!1,style:h={},top:b}){const{setIsContentHeaderPresent:m}=Object(a.b)();Object(i.useEffect)(()=>(m(!0),function(){m(!1)}),[]);const{currentScrollPosition:f,isScrolled:g,setSubheaderShadow:j}=Object(c.c)();Object(i.useEffect)(()=>(p&&j("contentHeader"),()=>{p&&j(null)}),[p]);let y=!1;"pending"!==b&&(y=null!=b?f>=b:g);const O=Object(s.b)(),v="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,_=Object(l.jsx)("div",{className:t,ref:n,style:{...h,top:O+d,...y&&p?{...o.f,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?Object(l.jsx)(r.S,{top:v?0:O+d,children:_}):_}},c4Fo:function(e,t,n){var i=n("q1tI"),o=n("clxp"),r=n("zXAL"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return Object(a.jsx)(o.a,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(a.jsx)(c,{})}}t.a=Object(r.a)(l)},c50B:function(e,t,n){n.d(t,"o",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"q",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"s",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"r",(function(){return _})),n.d(t,"t",(function(){return x}));const i=e=>{const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},n=String(e).split("");return n.forEach((e,i)=>{const o=t[e];o&&(n[i]=o)}),n.join("")};function o(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(r)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function c(e){return function(t,n){const o=i(t.trim()),r=[];o&&""!==o&&o.length<2&&r.push(e.ageTooShortString);const a=Math.floor(parseInt(o,10));""===o||/^\d+$/.test(o)&&a>0&&a<300||r.push(e.invalidAgeString);const s={errors:r,warnings:[]};return n&&n(s),s}}function l(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],r=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||o.push(e.message);const a={errors:o,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const o=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(o)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const o=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(o)&&r.push(e.message));const a={errors:r,warnings:[]};return n&&n(a),a}}function p(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function h(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?i.push(e.minErrorString):e.max&&o>e.max&&i.push(e.maxErrorString);const r={errors:i,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function f(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function g(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function j(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){t=t&&t.trim();const i=[],o=new Date(t);t&&!o.getTime()&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function O(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function _(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function x(e,t){let n="";return t.some(t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)}),n}},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dKiF:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));const i=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),r=(e,t=o)=>n=>{const i=[];return function(...o){const r=this,a=i.find(e=>e.context===r&&t(e.args,o));if(a)return a.result;const s={context:r,args:o,result:n.apply(this,o)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},a=r(1),s=r()},dMCU:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("v/Q4"),r=n("aOj9"),a=n("nKUr");function s(e){const t=t=>{const n=Object(i.useDispatch)(),{isAuth:s,isLimitedLogin:c}=Object(o.a)(),l=Object(r.e)(),d=!s||c?e=>e=>{e&&e.stopPropagation(),l()}:e=>e;return Object(a.jsx)(e,{authAction:d,dispatch:n,isAuth:s,isLimitedLogin:c,...t})};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},dfU2:function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("gLeT"),r=n("I7CA"),a=n("Ye/N"),s=n("EC51"),c=n("eqXv"),l=n("DBaX"),d=n("U4JR"),u=n("n6mq"),p=n("nKUr");const h={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.b,filter:"blur(10px)",opacity:1}},b={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},m={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},f=["followed","related","search"],g=["pfy","pfyBoard"];function j({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:j=!1}){var y;const[O,v]=Object(i.useState)(!1),[_,x]=Object(i.useState)(!1);Object(i.useEffect)(()=>v(!0),[]);const S=()=>x(!0),{feedbackText:w,images:T,showFeedbackOverlay:I,undoAction:E,undoText:P}=n,C=T&&(null===(y=T["236x"])||void 0===y?void 0:y.url),{image:R,subTitle:A,title:D,unfollow:k}=null!=w?w:{},N=!f.includes(e),L=g.includes(e),B=()=>{Object(d.b)(101,{view:1,viewParameter:92,element:11347})};return Object(p.jsxs)(u.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(p.jsxs)(u.e,{dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[C&&Object(p.jsx)(r.a,{additionalStyles:{...h.base,...O?h.blurred:{},backgroundImage:`url("${C}")`}}),Object(p.jsx)(r.a,{additionalStyles:{...b.base,...b.blurred}})]}),Object(p.jsx)(u.e,{dangerouslySetInlineStyle:{__style:{...m.base,...!I&&O?m.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!j&&Object(p.jsx)(u.e,{height:"100%",children:Object(p.jsxs)(u.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(p.jsx)(u.e,{marginBottom:2,children:Object(p.jsx)(u.t,{color:"white",size:"sm",children:D})}),Object(p.jsxs)(u.e,{display:"flex",marginBottom:1,children:[R&&Object(p.jsx)(u.e,{marginEnd:3,children:Object(p.jsx)(u.B,{width:R.width,height:R.height,rounding:2,wash:!0,children:Object(p.jsx)(u.w,{alt:A||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:R.url||""})})}),Object(p.jsx)(u.Y,{color:"white",overflow:"normal",children:A})]}),t?Object(p.jsxs)(i.Fragment,{children:[E&&Object(p.jsx)(u.e,{children:Object(p.jsx)(u.X,{onTap:E,children:Object(p.jsx)(u.Y,{color:"white",weight:"bold",overflow:"normal",children:a.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(p.jsxs)(u.e,{marginTop:"auto",children:[!E&&!_&&k&&!L&&Object(p.jsx)(u.f,{color:"white",onClick:()=>Object(c.a)(k.action,k.actionOptions,S),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),N&&Object(p.jsx)(o.a,{href:"/edit",onClick:B,color:"white",text:a.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(u.e,{children:N&&Object(p.jsx)(s.a,{href:"/edit",onClick:B,children:Object(p.jsx)(u.Y,{color:"white",weight:"bold",overflow:"normal",children:a.a._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(p.jsxs)(u.e,{marginTop:"auto",children:[!E&&!_&&k&&!L&&Object(p.jsx)(u.f,{color:"white",onClick:()=>Object(c.a)(k.action,k.actionOptions,S),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),E&&Object(p.jsx)(u.f,{color:"white",onClick:E,text:P||a.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},dtqy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("5S2N"),a=n("Sp3T"),s=n("ANjH"),c=n("U4JR"),l=n("nKUr");t.a=Object(s.compose)(Object(o.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:i}=e&&t&&e[t]||{},{index:o}=i||{};return void 0!==n?{carouselSlotCurrentIndex:o||n||0}:{}}),(function(e){return function(t){const[n,o]=Object(i.useState)(!1),s=Object(a.a)(),{pinId:d,onDelete:u,onSubmit:p,carouselSlotCurrentIndex:h}=t;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(e,{...t,handlePinEditButtonClick:e=>s(()=>{e&&e.stopPropagation();const{component:n,onToggleModal:i}=t;i&&i(!0),Object(c.b)(101,{element:3,...n?{component:n}:{}}),o(!0)})}),n&&Object(l.jsx)(r.a,{carouselSlotCurrentIndex:h,onDelete:u,onHide:()=>{o(!1),t.onToggleModal&&t.onToggleModal(!1)},onSubmit:p,pinId:d})]})}}))},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},fOIk:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Ye/N"),o=n("n6mq"),r=n("nKUr");const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c({isDisabled:e,isFavorited:t,size:n,onTap:c}){return Object(r.jsx)(o.X,{disabled:e,onTap:c,children:Object(r.jsx)(o.u,{accessibilityLabel:i.a._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?s:a,size:n})})}},fZG9:function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j}));var i=n("bNC6"),o=n("HMdf"),r=n("+lzj"),a=n("SyXB"),s=n("nEAA");const c=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(s.d)(t(n))}),{}),l=(e,t)=>"number"==typeof t?e(t):null,d=e=>e.reduce((e,t)=>e+t,0),u=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),p=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const o=t||e;return{startTime:e,requestStart:o,responseStart:n||o,responseEnd:i}}),n=d(t.map(e=>e.requestStart-e.startTime)),i=d(t.map(e=>e.responseStart-e.requestStart)),o=d(t.map(e=>e.responseEnd-e.responseStart)),r=n+i+o,a=d(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(s.b)((c=a,Number(Number(c/1024).toFixed(3)))),"duration.all":Object(s.b)(r),"duration.requestStartToResponseStart":Object(s.b)(i),"duration.responseStartToResponseEnd":Object(s.b)(o),"duration.startToRequestStart":Object(s.b)(n)};var c},h=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...p(t),"count.completed":Object(s.b)(t.length)}:{},"count.all":Object(s.b)(e.length)}},b=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...u(`resource.${t}.`,h((n[t]||[]).map(e=>e.timing)))}),{})},m=(e,t)=>{const{devicePixelRatio:n,navigator:o,innerWidth:r,innerHeight:a}=window,{deviceMemory:c,hardwareConcurrency:l,platform:d,userAgent:u}=o,{appType:p,appVersion:h,browserName:b,browserVersion:m,deviceType:f,isAppShell:g,isAuthenticated:j,isBot:y,isSocialBot:O,locale:v,osName:_,stageName:x}=t,S="desktop"===f?p||5:p||6;let w;const{navigationType:T}=e;return w="initial_app_load"===T?1:4,{"app.type":Object(s.c)(S),"app.version":Object(s.d)(h),"browser.name":Object(s.d)(b),"browser.version":Object(s.d)(m),"cpu.speed":Object(s.c)(l),"device.memory":Object(s.c)(c),"device.type":Object(s.c)(0),"device.typeName":Object(s.d)(f),"device.version":Object(s.d)("unknown"),"pwt.cause":Object(s.c)(w),"pwt.result":Object(s.c)(1),"view.type":Object(s.b)(0),"viewport.height":Object(s.b)(a||0),"viewport.width":Object(s.b)(r||0),devicePixelRatio:Object(s.b)(n||0),isAppShell:Object(s.a)(g),isAuthenticated:Object(s.a)(j),isBot:Object(s.a)(y),isSocialBot:Object(s.a)(O),locale:Object(s.d)(v),osName:Object(s.d)(_),platform:Object(s.d)(d||null),profilerVersion:Object(s.d)("3"),pwtActionName:Object(s.c)(Object(i.a)(e)),stageName:Object(s.d)(x),userAgent:Object(s.d)(u)}},f=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:r=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":Object(s.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(s.b)(Object(o.b)(r,!1)),"cpu.threads":Object(s.c)(t),"memory.size":Object(s.b)(n)}}return{...c(e,n.getExperimentGroup),...m(t,n),...i,...a,stopwatchVersion:Object(s.c)(1)}},g=(e,t,n)=>{var i;const{navigator:c}=window,{connection:u,serviceWorker:p}=c,{surface:h,navigationType:b,isAuthenticated:m}=e,{cumulativeLayoutShiftScore:f,longTaskDurations:g}=Object(r.e)();return{...g.length?{"longTask.count":Object(s.b)(g.length),"longTask.maxDuration":Object(s.b)(Math.max(...g)),"longTask.totalDuration":Object(s.b)(d(g))}:{},cumulativeLayoutShiftScore:Object(s.b)(100*f),"masonry.paginationMarkCount":Object(s.b)(Object(a.e)(a.a,t)),"metricId.isAuthenticated":Object(s.a)(m),"metricId.navigationType":Object(s.d)(b),"metricId.surface":Object(s.d)(h),"net.effectiveType":Object(s.d)((null==u?void 0:u.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==u?void 0:u.rtt)),"net.speed":Object(s.b)(Object(o.b)(n)),resourceBufferClearedCount:Object(s.c)(Object(a.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(s.a)(Object(a.f)("scrollDuringLayout",t)),serviceWorker:Object(s.a)(p?!!p.controller:null),serviceWorkerState:Object(s.d)((null==p||null===(i=p.controller)||void 0===i?void 0:i.state)||null)}},j=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:o,pwtEndTime:r,pwtStaticContext:a})=>({...t,...b(o),...c(e,a.getExperimentGroup),...m(i,a),...g(i,r,n)})},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},o={type:"CLOSE_CONVERSATIONS_DROPDOWN"},r=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),a=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(o)})},"g/XF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("JW66"),o=n("zwad"),r=n("n6mq"),a=n("nKUr");function s({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,Object(a.jsx)(r.e,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:Object(a.jsxs)(r.e,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&Object(a.jsx)(r.e,{marginBottom:2,children:Object(a.jsx)(r.Y,{color:"white",size:"sm",children:o.a.parse(e).hostname||e})}),Object(a.jsx)(r.e,{maxHeight:144,children:Object(a.jsx)(r.Y,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},g5OB:function(e,t,n){n.d(t,"a",(function(){return Vt}));var i=n("q1tI"),o=n("1unC"),r=n("rYoy"),a=n("gD/Z"),s=n("sztL"),c=n("zwad");function l(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&c.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var d=n("Ye/N"),u=n("gqRH"),p=n("kVqD"),h=n("0nTG"),b=n("Y8Sn"),m=n("n6mq"),f=n("nKUr");const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function j({pin:e,sourceLinkStyle:t,surface:n,url:o}){const[r,c]=Object(i.useState)(!1),{id:j}=e,y=l(e),O=Object(h.f)(e)||{},{slotIndex:v}=Object(a.b)(),_=Object(p.a)(12,{grid_index:v,objectId:j,...Object(h.f)(e)||{}}),x=Object(p.a)(101,{element:162,objectId:j,...Object(h.f)(e)||{}}),S=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:v,objectId:j,...Object(h.f)(e)||{}}),w=()=>{_(),x(),Object(b.e)()&&S()},T=Object(u.b)({href:o,target:"blank",externalData:{auxData:O,pin:e,surface:n}});return"icon-only"===t?Object(f.jsx)(m.v,{accessibilityLabel:d.a._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,disableOnNavigation:t})=>{t(),w(),T({event:e})},role:"link",rel:"nofollow",size:"sm"}):Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{...g.container,...r?g.containerHovered:{},..."truncated-text"===t?g.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative",children:Object(f.jsx)(s.a,{hovered:r,pin:e,slotIndex:v,viewType:1,children:Object(f.jsx)(m.X,{fullWidth:!1,href:o,onTap:({event:e,disableOnNavigation:t})=>{t(),w(),T({event:e})},rel:"nofollow",role:"link",rounding:4,children:Object(f.jsxs)(m.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[Object(f.jsx)(m.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(f.jsx)(m.u,{accessibilityLabel:d.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(f.jsx)(m.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(f.jsx)(m.Y,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:y})})]})})})})}const y=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(170),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),O=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),v=Object(i.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var _=Object(i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:s,onToggleFlyout:c,pin:l,pinTitle:d,setForcePrimary:u,shouldUseLegoStyles:p,showEditButton:h,showOverflowMenu:b,showShareButton:g,sourceLinkStyle:_,surface:x}){var S;const w=Object(m.hb)(),{viewParameter:T,viewType:I}=Object(a.b)(),{carousel_data:E,id:P,savedInfo:C,tracked_link:R,link:A}=l,D=null!==(S=null!=R?R:A)&&void 0!==S?S:"",k=!!D,[N,L]=Object(i.useState)(h),[B,M]=Object(i.useState)(h),[U,F]=Object(i.useState)(h),H={marginRight:h&&b?-44:0,transition:"margin-right .2s ease-in-out"},V={opacity:U?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},G={marginLeft:B?4:0,transition:"margin-left .2s ease-in-out"};Object(i.useEffect)(()=>{let e;return h&&b?(M(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{L(!0),requestAnimationFrame(()=>{F(!0)})})},800)):(M(h),L(h),requestAnimationFrame(()=>{F(h)})),()=>{clearTimeout(e)}},[h,b]);const z=k&&Object(f.jsx)(o.b,{children:Object(f.jsx)(j,{pin:l,sourceLinkStyle:_,surface:x,url:D})}),Y=g&&Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"send-share-link",children:Object(f.jsx)(o.b,{children:Object(f.jsx)(v,{pin:l,setForcePrimary:u})})})}),q=Boolean(null==C?void 0:C.localPinId)&&p?null==C?void 0:C.localPinId:P,W=N&&Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"edit-button",dangerouslySetInlineStyle:p&&!w?{__style:V}:void 0,children:Object(f.jsx)(o.b,{children:Object(f.jsx)(y,{carouselSlotCurrentIndex:E&&E.index,component:0,onToggleModal:c,pinId:q,style:{size:"sm"},view:I,viewParameter:T,useLegoStyles:!0})})})});return"equally-spaced"===s?Object(f.jsxs)(m.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(f.jsx)("div",{style:{flexBasis:32},children:z}),e?W:Y,e?Y:W]}):Object(f.jsxs)(m.e,{alignItems:"center",display:"flex",padding:3,children:[Object(f.jsx)(m.e,{flex:"shrink",children:z}),Object(f.jsx)(m.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:p&&!w?{__style:H}:void 0,children:Object(f.jsxs)(m.r,{alignItems:"center",gap:2,justifyContent:"end",children:[e?W:Y,p&&(e?Y:W),b&&Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:p&&!w?{__style:G}:void 0,children:Object(f.jsx)(o.b,{children:Object(f.jsx)(O,{feedbackData:t,feedbackType:n,pin:l,pinTitle:d,setForcePrimary:u})})})}),!p&&(e?Y:W)]})})]})})),x=n("/MKj"),S=n("XSD5"),w=n("ZbwW"),T=n("U4JR");function I({direction:e,swipeHandler:t}){const n={left:d.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:d.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(f.jsx)(m.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(f.jsx)(m.X,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(f.jsx)(m.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(f.jsx)(m.u,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var E=Object(x.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(S.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=Object(a.b)(),s=Object(w.a)(e);if(!s)return null;const{id:c=""}=e,{carousel_slots:l=[],index:d=0,id:u}=s;function p(o){return()=>{const a="left"===o?d-1:d+1;t(c,a),((t=0,o)=>{Object(T.b)(108,{objectId:c,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...Object(h.f)(e)||{}})})(d,a)}}return Object(f.jsxs)(m.e,{height:"100%",position:"relative",width:"100%",children:[d>0&&Object(f.jsx)(o.b,{children:Object(f.jsx)(I,{direction:"left",swipeHandler:p("left")})}),d<l.length-1&&Object(f.jsx)(o.b,{children:Object(f.jsx)(I,{direction:"right",swipeHandler:p("right")})})]})}),P=n("h9/w"),C=n("clxp"),R=n("FDmi"),A=n("qD10");function D({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o}){const r=Object(f.jsx)(m.e,{"data-test-id":"attribution-avatar",height:32,width:32,children:Object(f.jsx)(R.a,{name:n,src:e,accessibilityLabel:o})});return t?Object(f.jsx)(A.a,{className:"underlineLink",to:t,onClick:i,children:r}):r}function k({attributionNameLink:e,name:t,onClick:n,regularWeight:i}){const o=Object(f.jsx)(m.Y,{size:"md",truncate:!0,weight:i?"normal":"bold",children:t});return Object(f.jsx)(m.e,{children:e?Object(f.jsx)(A.a,{className:"underlineLink",onClick:n,to:e,children:o}):o})}function N({link:e,onClick:t,title:n,weight:i}){if(!n)return null;const o=Object(f.jsx)(m.Y,{size:"md",truncate:!0,weight:i,children:n});return e?Object(f.jsx)(A.a,{className:"underlineLink",onClick:t,to:e,children:o}):o}var L=n("b9Z9"),B=n("ynlw"),M=n("Zxas"),U=n("vvax"),F=n("fc1g");var H=Object(x.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(F.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:i,pin:o,name:r,setMostRecentPin:s,sponsorUrl:c,url:l}){const{viewParameter:u,viewType:h}=Object(a.b)(),{id:b,pinner:g,sponsorship:j,story_pin_data_id:y}=o,{isPromoted:O}=Object(B.a)(o),v=g||o.promoter,{creator:{id:_}={},sponsor:{id:x}={}}=j||{},S=!!y,w=Object(p.a)(101,{view:3,element:O?283:27,objectId:b,component:S?230:void 0,..._?{creator_id:_,pin_id:b}:{}}),T=Object(p.a)(101,{view:3,element:27,pin_id:b,objectId:b,component:S?230:void 0,..._&&x?{creator_id:_,sponsor_id:x}:{}}),I=e=>{s(b),e?T():w()},E=l&&!e,P=Object(f.jsxs)(m.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(f.jsx)(m.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(f.jsx)(L.a,{avatarSize:32,isDarkPromoter:i,pinId:b,user:v,username:v&&v.username,viewParameter:u,viewType:h,children:Object(f.jsx)(D,{attributionNameLink:e,avatarUrl:n,name:r,onClick:()=>I(),accessibilityLabel:""})})}),Object(f.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(f.jsx)(k,{attributionNameLink:e,name:r,onClick:()=>I(),regularWeight:!t})}),c?Object(f.jsx)(m.Y,{size:"md",weight:"bold",children:Object(U.b)(d.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:Object(f.jsx)(N,{link:c,onClick:()=>I(!0),title:Object(M.a)(t,20),weight:"bold"},o.id+"-attribution_title")})}):Object(f.jsx)(N,{title:t})]})]});return E?Object(f.jsx)(A.a,{className:"underlineLink",onClick:()=>I(),to:l,children:P}):P})),V=n("gLeT"),G=n("rSLd"),z=n("8A+h"),Y=n("YGxj"),q=n("UAdG"),W=n("MhBu"),K=n("v/Q4"),X=n("tuD4"),$=n("HJ6M"),J=n("KFEb"),Z=n("zq6P");function Q({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=Object(x.useDispatch)(),{slotIndex:s}=Object(a.b)(),{currentFilter:c,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=Object(Z.b)(),h=Object(i.useRef)(null),b=Object(K.a)(),g=Object(z.a)(b,e),j=c===$.b&&(!t||1===t),y=Object(X.a)(l,$.b),O=e=>{Object(T.b)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.e,{ref:h,children:Object(f.jsx)(q.a,{favorited:n,favoriteCount:t,onFavorite:()=>{O(!0),y&&d(),p&&p(!0)},onUnfavorite:()=>{O(!1),e&&j&&r(Object(W.a)({feedId:u||e.id,feedType:u?J.a.SECTION_PINS:J.a.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!n&&!u&&0===s&&Object(f.jsx)(m.y,{children:Object(f.jsx)(Y.a,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ee=n("oRao"),te=n("T5j3"),ne=n("obIb"),ie=n.n(ne),oe=n("X/CP"),re=n.n(oe),ae=n("x/xQ"),se=n.n(ae),ce=n("jOPH"),le=n.n(ce),de=n("U5D8"),ue=n.n(de);const pe={goodIdea:ie.a,love:se.a,thanks:le.a,wow:ue.a,haha:re.a},he={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},be=["CreatorProfileStoryPinGrid"];var me=function({pinId:e,pinner:t,reactionCounts:n,surface:i}){const o=Object(K.a)(),r=n?Object(te.a)(n):null,a=n?Object(te.b)(n):0,s=Boolean(o.isAuth&&(null==t?void 0:t.id)===o.id),c=!!r&&r.length>0&&r.map((e,t)=>{const n=pe[he[e]];return Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(f.jsx)(m.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)}),l=!!c&&Object(f.jsx)(A.a,{to:`/pin/${e}/`,children:Object(f.jsxs)(m.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(f.jsx)(m.e,{display:"flex",direction:"row",children:c}),Object(f.jsx)(m.e,{paddingX:1,children:Object(f.jsx)(m.Y,{size:"md",children:Object(f.jsx)(ee.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),d=s&&be.includes(i)&&Object(f.jsx)(m.e,{height:24});return l||d},fe=n("4Utz"),ge=n("EC51"),je=n("Rfw2");function ye({feedbackType:e,pin:t}){const{pinner:n,source_interest:i}=t,{full_name:o,username:r}=n||{},{name:a}=i||{},s="topic"===e,c=!s&&"followed"===e,l=`/${r}/`,u=Object(je.e)(a),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,h=s?p:l,b={topic:d.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:d.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:d.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:d.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!b)return null;if(c||s){const e=0===b.indexOf("{"),t=s?a:o,n=e?b.slice(b.indexOf("}")+1):b.slice(0,b.indexOf("{"));return e?Object(f.jsxs)(m.e,{children:[Object(f.jsx)(ge.a,{inline:!0,href:h,children:Object(f.jsx)(m.Y,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(f.jsx)(m.Y,{inline:!0,size:"md",children:n})]}):Object(f.jsxs)(m.e,{children:[Object(f.jsx)(m.Y,{inline:!0,size:"md",children:n}),Object(f.jsx)(ge.a,{inline:!0,href:h,children:Object(f.jsx)(m.Y,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(f.jsx)(m.e,{children:Object(f.jsx)(fe.a,{pin:t,children:Object(f.jsx)(m.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:b})})})}var Oe=n("Te6n"),ve=n("ANjH"),_e=n("fJfT"),xe=n("EC67");function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class we extends i.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"spamCheckExperimentGroup",null),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pin:n,surface:i,to:o}=this.props;o&&(e||c.a.isOffsiteUrl(o))&&n&&Object(_e.f)({location:t,pin:n,surface:i})&&Object(_e.a)({isMounted:this.mounted,pin:n,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:o})}),Se(this,"handleClick",e=>{const{auxData:t,external:n,history:i,location:o,onClick:r,pin:a,pinId:s,to:l}=this.props,d=n||c.a.isOffsiteUrl(l);Object(_e.b)({isExternalLink:d,event:e})||(e.nativeEvent.preventDefault(),r&&r(e),l&&(d?Object(_e.c)({href:l,pinId:s,pin:a,location:o,auxData:t,spamCheck:this.state.spamCheck}):Object(_e.d)({event:e,onHistoryChange:void 0,href:l,history:i,target:null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,external:i,setAnchorRef:o,style:r,target:a,to:s}=this.props;return Object(f.jsx)("a",{"aria-label":e,className:n,href:s,onClick:this.handleClick,ref:o,rel:i?"nofollow":"",style:r,target:a?"_blank":null,children:t})}}var Te=Object(ve.compose)(Object(x.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),()=>({})),xe.l)(we),Ie=n("h4v/"),Ee=n("kmwA"),Pe=n("rkcQ");function Ce({children:e=null,pinId:t,onClick:n,style:i,url:o}){var r,a;const s=Object(x.useSelector)(({pins:e})=>e[t]),c={[Pe.g.IMPRESSION_DATA]:null!==(r=null==s?void 0:s.insertion_id)&&void 0!==r?r:"",[Pe.g.CONVERSION_DESTINATION]:o,[Pe.g.IMPRESSION_EXPIRY]:Pe.f,[Pe.g.REPORTING_ORIGIN]:Ee.a.settings.CANONICAL_MAIN_URL,[Pe.j.ATTRIBUTION_SOURCE_ID]:null!==(a=null==s?void 0:s.campaign_id)&&void 0!==a?a:"",[Pe.j.ATTRIBUTE_ON]:o};return Object(f.jsx)("a",{...c,href:o,onClick:n,style:i,target:"blank",rel:"noopener nofollow",children:e})}function Re(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Ae=n("4cpq"),De=n("QAzJ");function ke({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:s}){const c=Object(a.b)(),{carousel_data:l,id:d,is_promoted:u,link:p,tracked_link:h}=i,{anyEnabled:g,customActivate:j}=Object(De.c)("m10n_event_conversion_measurement");let y,O=h||p,v="one-tap-desktop";if(l){const{carousel_slots:e=[],id:t,index:n=0}=l;e[n]&&e[n].link&&(O=e[n].link),y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},v+="-carousel"}const _=()=>{const e=Ie.a.getInstance(),i=e.getViewFromContext();Object(T.b)(12,{...n,view:s||c.viewType,viewParameter:r||c.viewParameter,component:t||c.componentType,objectId:d,grid_index:c.slotIndex,pin_id:d,prefetch_percentage_complete:Re(p||"")}),Object(b.e)()&&Object(T.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:s||c.viewType,viewParameter:r||c.viewParameter,...n,component:t||c.componentType,objectId:d,grid_index:c.slotIndex,pin_id:d,prefetch_percentage_complete:Re(p||"")}),Object(T.b)(13,{closeup_navigation_type:"web_closeup",objectId:d,component:t||c.componentType,view:3,...c.contextLogData,...n}),e.addViewToContext(i)};return"AuthHomefeed"===o&&u&&j(),Object(f.jsx)(m.e,{"data-test-id":"otpp",children:Object(f.jsx)(Ae.a,{id:v,children:"AuthHomefeed"===o&&u&&g?Object(f.jsx)(Ce,{onClick:_,pinId:d,style:{cursor:"pointer",display:"block"},url:O||"",children:e}):Object(f.jsx)(Te,{auxData:y,external:!0,onClick:_,pinId:d,style:{cursor:"pointer",display:"block"},surface:o,to:O||"",children:e})})})}var Ne=n("gC5q");function Le(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r}=Object(B.a)(t),{anyEnabled:a,customActivate:s}=Object(De.c)("web_no_tap_tap");!i&&o&&r&&s();const c=i||o&&r&&a?ke:fe.a;return Object(f.jsx)(c,{surface:i?n:void 0,...Object(Ne.b)(e,["surface"])})}function Be({pin:e,pinNoteText:t,singleLineMaxLength:n}){const i=Object(M.a)(t,n);return Object(f.jsx)(Le,{pin:e,children:Object(f.jsx)(m.Y,{overflow:"normal",size:"md",children:i})})}var Me=n("EPem"),Ue=n("US8k");function Fe({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(Ue.a)(e):Object(f.jsx)(ee.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(f.jsx)(m.cb,{idealDirection:"up",text:d.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:""})}function He({pin:e}){const{isStoryPin:t,isVideo:n}=Object(B.a)(e),i=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(B.a)(e);return!n||!o&&i?i:n}(e),o=Object(Me.a)(n,t),r=n||t?null==i?void 0:i.all_time_realtime:null==i?void 0:i["30d_realtime"];return Object(f.jsx)(m.e,{display:"flex",children:o.map(({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:a})=>Object(f.jsxs)(m.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(f.jsx)(m.e,{display:"inlineBlock",marginEnd:1,children:Object(f.jsx)(m.u,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),Object(f.jsx)(m.Y,{inline:!0,size:"md",children:Object(f.jsx)(Fe,{value:null==r?void 0:r[n],valueFormat:a})})]},n))})}function Ve({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return Object(f.jsx)(Le,{pin:n,surface:i,children:Object(f.jsxs)(m.e,{display:"flex",direction:"row",children:[e&&Object(f.jsx)(m.Y,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(f.jsx)(m.Y,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Ge=n("N89m");function ze({pin:e,singleLineMaxLength:t,surface:n}){const i=Object(Ge.a)(e),o=Object(M.a)(i,t);return Object(f.jsx)(Le,{pin:e,surface:n,children:Object(f.jsx)(m.e,{display:"flex",direction:"row",children:Object(f.jsx)(m.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"normal",children:o})})})}function Ye({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:i,surface:o}){const r=e*i,a=Object(M.a)(n,r);return Object(f.jsx)(Le,{pin:t,surface:o,children:Object(f.jsx)(m.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:a})})}var qe=n("C2V2"),We=n("XLg/");const Ke=Object(i.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Xe={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${We.a}ms ease`},visible:{opacity:1}}};function $e({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:a,hasTitleOrSource:s,hoverTransitionState:c,isDarkPromoter:l,pin:u,pinNoteText:p,pinTitle:h,productCurrentPrice:b,productOriginalPrice:g,setForcePrimary:j,showBoardActivityReply:y,showCarouselEllipsis:O,showFavoriteButton:v,showGroupBoardAvatar:_,showNativeReactions:x,showOverflowMenu:S,showPinStats:w,showSource:T,showTextContent:I,singleLineMaxLength:E,surface:P,titleLines:C}){const{board_activity:R,favorited_by_me:A,favorite_user_count:k,id:N,pinner:L,reaction_counts:M,story_pin_data:U}=u,{has_affiliate_products:F}=U||{},{anyEnabled:V}=Object(De.d)("web_board_favorites",v),{anyEnabled:z}=Object(De.d)("web_deprecate_group_board_comments"),Y=function(e,t){var n,i,o,r,a;const{board:s,link_domain:c={},promoter:l,sponsorship:u,native_creator:p}=e,{isPromoted:h}=Object(B.a)(e),{official_user:b}=c||{},m=e.pinner||{};let f="",g="",j="",y="",O="",v="";if(h&&l)f=l.image_medium_url||l.image_small_url,j=l.full_name,y=d.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),v=`/${l.username}/`;else if(u&&null!==(n=u.creator)&&void 0!==n&&n.username){var _,x,S,w,T;const{creator:e,sponsor:t}=u;f=null!==(_=null!==(x=e.image_medium_url)&&void 0!==x?x:e.image_small_url)&&void 0!==_?_:"",g=`/${null!==(S=e.username)&&void 0!==S?S:""}/`,j=null==t?void 0:t.full_name,y=e.full_name,v=`/${null!==(w=e.username)&&void 0!==w?w:""}/`,O=`/${null!==(T=null==t?void 0:t.username)&&void 0!==T?T:""}/`}else if(p){var I,E;f=null!==(I=null!==(E=p.image_medium_url)&&void 0!==E?E:p.image_small_url)&&void 0!==I?I:"",y=p.full_name,v=`/${p.username}/`}else if("show-for-claimed-content"===t){var P,C;null!=b&&b.is_primary_website_verified&&(f=null!==(P=null!==(C=b.image_medium_url)&&void 0!==C?C:b.image_small_url)&&void 0!==P?P:"",y=b.full_name,v=`/${b.username}/`)}else{var R,A;f=null!==(R=null!==(A=m.image_medium_url)&&void 0!==A?A:m.image_small_url)&&void 0!==R?R:"",g=`/${m.username}/`,y=m.full_name,v=s?s.url:""}return{avatarUrl:null!==(i=f)&&void 0!==i?i:"",attributionNameLink:g,attributionTitle:null!==(o=j)&&void 0!==o?o:"",name:null!==(r=y)&&void 0!==r?r:"",sponsorUrl:O,url:null!==(a=v)&&void 0!==a?a:""}}(u,e),{avatarUrl:q,attributionNameLink:W,attributionTitle:K,name:X,sponsorUrl:$,url:J}=Y;return Object(f.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:Xe.container},children:[O&&Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:s||_||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(f.jsx)(G.default,{pinId:N})}),w&&Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(f.jsx)(He,{pin:u})}),Object(f.jsx)(m.e,{display:"flex",children:Object(f.jsxs)(m.e,{flex:"grow",children:[(I&&a||V)&&Object(f.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:"none"!==e||_?{marginBottom:"6px"}:{}},children:[(g||b)&&Object(f.jsx)(m.e,{marginBottom:1,children:Object(f.jsx)(Ve,{currentPrice:b,originalPrice:g,pin:u,surface:P})}),V?Object(f.jsxs)(m.r,{alignItems:"start",children:[Object(f.jsx)(m.r,{flex:"grow",children:Object(f.jsx)(Ye,{numberOfLines:C,pin:u,pinTitle:h,singleLineMaxLength:E,surface:P})}),Object(f.jsx)(m.e,{marginStart:3,children:Object(f.jsx)(Q,{board:t,favorited:!!A,favoriteCount:null!=t&&t.should_show_board_activity?null!=k?k:0:void 0,pinId:N})})]}):Object(f.jsx)(Ye,{numberOfLines:C,pin:u,pinTitle:h,singleLineMaxLength:E,surface:P}),T&&Object(f.jsx)(ze,{pin:u,singleLineMaxLength:E,surface:P})]}),F&&Object(f.jsx)(m.e,{marginBottom:2,children:Object(f.jsx)(m.Y,{size:"md",children:d.a._("Includes sponsored products","pinrep.footer.sponsoredProducts","Footer text to indicate the story pin has affiliate products tagged.")})}),Object(f.jsxs)(m.e,{alignItems:"center",display:"flex",children:[Object(f.jsx)(m.e,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:Xe.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:Object(f.jsx)(ye,{pin:u,feedbackType:o})});default:return Object.values(Y).some(e=>Boolean(e))?Object(f.jsx)(H,{attributionNameLink:W,attributionTitle:K,avatarUrl:q,isDarkPromoter:l||!1,name:X,pin:u,sponsorUrl:$,url:J}):null}})()}),S&&Object(f.jsx)(m.e,{flex:"none",children:Object(f.jsx)(Oe.default,{feedbackData:n,feedbackType:o,pin:u,pinTitle:h,setForcePrimary:j,transparentBackground:!0})})]}),x&&!!M&&Object(f.jsx)(m.e,{children:Object(f.jsx)(me,{pinId:N,pinner:L,reactionCounts:M,surface:P})}),p&&Object(f.jsx)(m.e,{marginBottom:1,children:Object(f.jsx)(Be,{pin:u,pinNoteText:p,singleLineMaxLength:E})}),_&&!(V&&z)&&Object(f.jsxs)(m.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:[!V&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(D,{attributionNameLink:W,avatarUrl:q,name:X}),Object(f.jsx)(m.e,{marginStart:2,flex:"grow",children:Object(f.jsx)(m.Y,{size:"md",children:X})})]}),Object(f.jsx)(m.e,{children:Object(f.jsx)(r.a,{children:Object(f.jsx)(Ke,{activityId:R&&R.id||N,board:t,hideComments:z,hideReactions:V,pinId:N,showReply:y})})})]})]})})]})}function Je({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:r,productOriginalPrice:a,productRating:s,productShipping:c,showSource:l,showVisitSiteButton:u,singleLineMaxLength:p,surface:h,titleLines:b}){var g;const j=Object(De.b)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:y,group:O}=j({dangerouslySkipActivation:!0}),v=null===(g=n.rich_summary)||void 0===g?void 0:g.url;return"shopping"!==e||O.includes("pwt")||j(),Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:Xe.productContainer},height:"100%",children:Object(f.jsx)(m.r,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.e,{children:[(a||r)&&Object(f.jsx)(m.e,{marginBottom:1,children:Object(f.jsx)(Ve,{currentPrice:r,originalPrice:a,pin:n,surface:h})}),Object(f.jsx)(m.e,{marginBottom:1,children:Object(f.jsx)(Ye,{numberOfLines:b,pin:n,pinTitle:o,singleLineMaxLength:p,surface:h})}),l&&Object(f.jsx)(ze,{pin:n,singleLineMaxLength:p,surface:h}),"shopping"===e&&y&&(s||Number.isFinite(null==c?void 0:c.free_shipping_value))&&Object(f.jsx)(qe.b,{count:null==s?void 0:s.count,countFormat:"number",ratingValue:null==s?void 0:s.rating,shippingInfo:c})]}),u&&v?Object(f.jsx)(m.e,{marginTop:2,children:Object(f.jsx)(V.a,{href:v,onClick:()=>{Object(T.b)(12,{view:1,viewParameter:3563})},target:"blank",text:d.a._("Visit site","Wishlist.Pin.CTA.Button.VisitSite.Text","Text on CTA button on Wishlist Pin to Visit Site")})}):null]})})})}var Ze=Object(i.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:i,feedbackType:r,hoverTransitionState:a,isDarkPromoter:s,pin:c,board:l,pinNoteText:d,pinTitle:u,productOriginalPrice:p,productCurrentPrice:h,productRating:b,productShipping:g,setForcePrimary:j,showBoardActivityReply:y,showCarouselEllipsis:O,showFavoriteButton:v,showGroupBoardAvatar:_,showOverflowMenu:x,showNativeReactions:S,showPinStats:w,showSource:T,showTextContent:I,showVisitSiteButton:E,singleLineMaxLength:P,surface:C,titleLines:R}){const A=u||T,D="shopping"===n?Object(f.jsx)(Je,{contentType:n,hasTextContent:!!A,pin:c,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:b,productShipping:g,showSource:T,showVisitSiteButton:E,singleLineMaxLength:P,surface:C,titleLines:R}):Object(f.jsx)($e,{attributionType:e,board:l,feedbackData:i,feedbackType:r,hasTextContent:!!A,hasTitleOrSource:!!A,hoverTransitionState:a,isDarkPromoter:s,pin:c,pinNoteText:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,setForcePrimary:j,showBoardActivityReply:y,showCarouselEllipsis:O,showFavoriteButton:v,showGroupBoardAvatar:_,showNativeReactions:S,showOverflowMenu:x,showPinStats:w,showSource:T,showTextContent:I,singleLineMaxLength:P,surface:C,titleLines:R});return t?Object(f.jsx)("div",{style:{pointerEvents:"none"},children:D}):Object(f.jsx)(m.r,{flex:"grow",children:Object(f.jsx)(o.b,{fullWidth:!0,children:D})})})),Qe=n("4+TC"),et=n("d90F"),tt=n("wm0H");const nt=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(170),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),it=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(170),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),ot=Object(i.lazy)(()=>Promise.all([n.e("446ce4f18f3cdcf95db7e441c51a3b5172ecfb24"),n.e("f06f654e5273bcad57d5351db3b657784f5be618"),n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),rt=Object(i.lazy)(()=>Promise.all([n.e("446ce4f18f3cdcf95db7e441c51a3b5172ecfb24"),n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(170),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),at=Object(i.lazy)(()=>Promise.all([n.e("075f16d4784935ff1af8dc9d880285eb28eeaeb7"),n.e("QuickSaveButtonCommon")]).then(n.bind(null,"iTUf"))),st=Object(i.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),ct=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function lt({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,showEnabledSaveBehavior:s,onToggleFlyout:c,onToggleModal:l,pin:d,showEditButton:u,showLikeButton:h,supportsReactionBar:b,shouldUseLegoStyles:g}){const[j,y]=Object(i.useState)(!1),{carousel_data:O,id:v,savedInfo:_}=d,S=Object(i.useRef)(!!_),w=Object(x.useSelector)(({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null}),{saveBehaviorType:T}=Object(tt.b)(s);void 0!==T&&["classic","controlled","inline"].includes(t.type)&&(t=T);const{anyEnabled:I}=Object(De.d)("web_board_favorites"),{viewParameter:E,viewType:P}=Object(a.b)(),R=Object(p.a)(101,{element:0,objectId:v});let A=null;const D={onToggleModal:c,view:P,viewParameter:E,useLegoStyles:!0};if(!j)if(!t.hidePinBetterSaveDropdown&&(w||s&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t;A=Object(f.jsx)(r.a,{children:Object(f.jsx)(o.b,{children:Object(f.jsx)(at,{experience:w||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:e,showEnabledSaveBehavior:s,viewParameter:E})})})}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;A=Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(f.jsx)(o.b,{children:Object(f.jsx)(ot,{onClickCallback:R,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!_&&Object(f.jsx)(o.b,{children:Object(f.jsx)(Qe.a,{isNewlySaved:!S.current,name:_.title,type:_.type,url:_.url})}),variant:"lego",viewParameter:E})})})})}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:s}=t;A=Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"better-save",children:Object(f.jsx)(o.b,{children:Object(f.jsx)(rt,{initialSelection:n,onSave:i,onToggleFlyout:c,onToggleModal:l,pin:e,renderPinSaveTooltip:a,shouldUseLegoStyles:g,renderSavedStatus:({savedInfo:e})=>e&&Object(f.jsx)(o.b,{children:Object(f.jsx)(Qe.a,{isNewlySaved:!S.current,name:e.title,shouldUseLegoStyles:g,type:e.type,url:e.url})}),useMasonryFlyout:!0,variant:"pin",viewParameter:E,hideDropdown:s})})})})}else"persistentOneClickSave"===t.type?A=Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"persistent-one-click-save",children:Object(f.jsx)(o.b,{children:Object(f.jsx)(it,{...D,saveOptions:t,shouldUseLegoStyles:g,pin:d})})})}):"promote"===t.type&&(A=Object(f.jsx)(m.e,{display:"flex",justifyContent:"end",children:Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"pin-promote-button",children:Object(f.jsx)(o.b,{children:Object(f.jsx)(ct,{pin:d})})})})}));let k=null;return u?k=Object(f.jsx)(r.a,{children:Object(f.jsx)(o.b,{children:Object(f.jsx)(m.e,{"data-test-id":"edit-button",display:"inlineBlock",children:Object(f.jsx)(nt,{...D,carouselSlotCurrentIndex:O&&O.index,component:0,pinId:v,style:{size:"sm"}})})})}):h&&!I&&(k=Object(f.jsx)(r.a,{children:Object(f.jsx)(m.e,{"data-test-id":"like-button",children:Object(f.jsx)(et.a,{name:"group_boards_reactions",activate:!1,children:({anyEnabled:t,customActivate:n})=>Object(f.jsx)(o.b,{children:Object(f.jsx)(st,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>y(!0),onHideReactionsBar:()=>y(!1),supportsReactionBar:b,useLegoStyles:!0})})})})})),Object(f.jsx)(C.a,{name:"PinRepPrimaryContent",children:Object(f.jsxs)(m.e,{display:"flex",margin:3,children:[k&&Object(f.jsx)(m.e,{flex:"grow",marginEnd:"auto",children:k}),A&&Object(f.jsx)(m.e,{marginStart:"auto",flex:"grow",children:A})]})})}var dt=n("7wXf"),ut=n("VJm5"),pt=n("3qdF"),ht=n("qhFy"),bt=n("HOY+");const mt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function ft({isSelected:e}){return Object(f.jsx)(m.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?mt:{},children:Object(f.jsx)(m.e,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(f.jsx)(m.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(f.jsx)(m.u,{accessibilityLabel:d.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var gt=n("JRj3"),jt=n("7w6Q"),yt=n("jZDM");const Ot="video",vt={},_t=(e,t)=>{if(jt.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void jt.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void jt.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void jt.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(yt.a)(e),i=document.createElement("link");var o;(i.rel="prefetch",i.href=e,i.as=t,jt.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{vt[e]&&(vt[e].loaded=!0),jt.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{jt.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},vt[e])||(null===(o=document.head)||void 0===o||o.appendChild(i),vt[e]={added:!0})};function xt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:c=!1,onError:l,onLoad:d,pin:u,pinImageCrop:p,resolution:h="default",rootMargin:b,selectionState:g,showCarousel:j,showPromotedVideos:y,surface:O}){const{contextLogData:v,slotIndex:_,viewParameter:x,viewType:S}=Object(a.b)(),{id:w="",aggregated_pin_data:T,image_signature:I,story_pin_data:E}=u,{pin_tags_chips:P}=T||{},{isOneTap:C,isVideo:R,isPromoted:A,isGif:D}=Object(B.a)(u),{cropHeight:k,cropWidth:N}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(p);let L=null;if(e||!R||!y&&A)if(j)L=Object(f.jsx)(m.e,{"data-test-id":"pinrep-carousel",children:Object(f.jsx)(ut.a,{cropHeight:k,cropWidth:N,onError:l,onLoad:d,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,pinId:w,showCarouselBadge:!1,pin:u})});else{const e="backend"===p?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:(n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0)+"px"}}return{}}(u):{};L=Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(f.jsx)(ht.b,{animateGif:D&&c,cropHeight:k,cropWidth:N,fallbackColor:n,imageFit:o,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,mediumResOnly:"medium-res"===h,onLoad:d,onError:l,pin:u})})}else L=Object(f.jsx)(m.e,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:k||void 0,justifyContent:"center",children:Object(f.jsx)(bt.a,{cropHeight:k,rootMargin:b,inAdsDesktopVideoExperiment:R&&y,pin:u,surface:O,onLoad:d,viewType:S,viewParameter:x,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,onError:l,isExperimentalPinRep:!0})});const M=Object(f.jsx)(m.B,{wash:!0,children:Object(f.jsx)(s.a,{hovered:r,pin:u,slotIndex:_,viewType:1,children:L})}),U=["selected-image-only","deselected-image-only"].includes(g),F="selected-image-only"===g,H=Object(i.useRef)(!0);if(Object(i.useEffect)(()=>{H.current||!r||C||t||!E||function(e){const{pages:t,pages_preview:n}=e;if(!n&&!t)return;const i=(n?n[0]:t[0]).blocks.find(e=>3===e.block_type);if(i&&i.video){const{hlsv3:e,mp4:t}=Object(gt.a)(i.video)||{},n=t||e;var o;n&&_t(null!==(o=n.url)&&void 0!==o?o:"",Ot)}}(E),H.current=!1},[t,r,C,E]),t)return Object(f.jsxs)(i.Fragment,{children:[M,U&&Object(f.jsx)(ft,{isSelected:F}),P&&Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(f.jsx)(pt.a,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:V}=v||{},G=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(O);return Object(f.jsxs)(Le,{contextLogData:{grid_index:_,image_signature:I,commerce_data:G?V:void 0},elementType:35,pin:u,surface:O,children:[M,P&&Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(f.jsx)(pt.a,{pin:u,enableCloseupLink:!1})})]})}var St=n("CgR/"),wt=n("Sp3T");var Tt=St.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e})=>{const t=Object(wt.a)();return Object(f.jsx)(m.f,{onClick:({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),t(()=>{e()})},text:d.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:d.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function It(e){return e<160?"header-only":"none"}function Et(e){const[t,n]=Object(i.useState)(e.current?It(e.current.clientHeight||0):"none");return function(e,t){const n=Object(i.useRef)();Object(i.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=It(e);i!==t&&n(i)}),t}var Pt=n("W5T3"),Ct=n("dfU2"),Rt=n("I7CA"),At=n("vcEN"),Dt=n("DBaX");const kt="#000000",Nt="#ffffff";function Lt({selected:e=!1}){return Object(f.jsx)(m.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?kt:Nt,borderRadius:Dt.b,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(f.jsx)(m.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(f.jsx)(m.u,{accessibilityLabel:d.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(f.jsx)(m.e,{position:"absolute",top:!0,right:!0,margin:3,children:Object(f.jsx)(m.u,{accessibilityLabel:d.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Bt={wrapper:{borderRadius:Dt.b,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Dt.a.VISUAL},savedOverlay:{backgroundColor:Dt.a.SAVED},legoWashOverlay:{backgroundColor:Dt.a.LEGO_WASH}};function Mt({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:i,primaryContentVisibility:o="none",secondaryContent:r,secondaryContentVisibility:a="none",accessoryContent:s,accessoryContentVisibility:c="none",actionBar:l,actionBarVisibility:d="none",footer:u,selectionState:p="no-selection",debugContent:h,signalDebuggerContent:b,signalDebuggerV2Content:g,signalDebuggerV2ContentVisibility:j="none",obscuredPinOverlay:y,showNoPinBorderRadius:O,showPromotedPinBorderTreatment:v,shouldUseLegoWash:_}){return Object(f.jsx)(m.e,{dangerouslySetInlineStyle:{__style:v?Bt.promotedPinBorderTreatment:{}},height:"100%",children:Object(f.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:O?{}:Bt.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(p)&&Object(f.jsx)(Lt,{selected:"selected"===p}),Object(f.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:O?{}:Bt.wrapper},overflow:"hidden",position:"relative",children:[e,Object(f.jsx)(At.a,{visibility:n,children:Object(f.jsx)(Rt.a,{additionalStyles:_?Bt.legoWashOverlay:Bt.visualOverlay})}),Object(f.jsx)(At.a,{visibility:t,children:Object(f.jsx)(Rt.a,{additionalStyles:_?Bt.legoWashOverlay:Bt.savedOverlay})}),s&&Object(f.jsx)(At.a,{visibility:c,children:Object(f.jsx)(Rt.a,{children:s})}),r&&Object(f.jsx)(At.a,{visibility:a,children:Object(f.jsx)(Rt.a,{children:r})}),i&&Object(f.jsx)(At.a,{visibility:o,children:Object(f.jsx)(Rt.a,{children:i})}),g&&Object(f.jsx)(At.a,{visibility:j,children:Object(f.jsx)(Rt.a,{children:Object(f.jsx)(m.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:g})})}),l&&Object(f.jsx)(At.a,{visibility:d,children:Object(f.jsx)(Rt.a,{children:Object(f.jsx)(m.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:l})})}),h&&Object(f.jsx)(Rt.a,{children:h}),b]}),u,y&&Object(f.jsx)(m.e,{children:y})]})})}var Ut=n("078/");function Ft(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Ht(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Vt=228;t.b=Object(i.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:o=!1,footerProps:r,forcePrimaryContentVisibility:s,impressionsDebuggerProps:c,onError:l,onLoad:d,obscuredPinOverlayProps:u,pin:p,pinVisualProps:h,presentationProps:b,primaryContentProps:g,selectionState:j,secondaryContentProps:y,showAccessoryContent:O,showActionBar:v,showFooter:x,showImpressionsDebugger:S,showSignalDebugger:w,showObscuredPinOverlay:T,showPrimaryAndSecondaryContent:I,surface:R}){const{savedInfo:A}=p,{viewType:D}=Object(a.b)(),k=Boolean(g.shouldUseLegoStyles),{showEnabledSaveBehavior:N}=Object(tt.c)(Ut.a.includes(R)||Ut.c.includes(R)),[L,B]=Object(i.useState)(!1),M=Object(We.b)(L);let{isHovering:U,hoverTransitionState:F,handleMouseOver:H,handleMouseLeave:V}=function(){const[e,t]=Object(i.useState)(!1);return{isHovering:e,hoverTransitionState:Object(We.b)(e,0,We.a),handleMouseOver:Object(i.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(i.useCallback)(()=>t(!1),[t])}}();o&&(U=!1,F="inactive");const G=Object(We.b)(!!A),z=Ft(G),Y=Ft(F),q=Ft(F),W=Ft(M),K=Ft(G),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(R),$=k&&"visible"===z&&!X?"none":z,J={primaryContentVisibility:Ht(q,W,k&&"visible"===K?"none":K),secondaryContentVisibility:(Z=Ht(q,W,K),"none"===Z?"visible":"visible"===Z?"none":"hidden"),actionBarVisibility:Ht(q,W),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var Z;const Q=e=>B(e),ee=e=>B(e),te=e=>{B(e),e||V()};let ne=null;s&&(J.primaryContentVisibility="visible"),"none"!==J.primaryContentVisibility&&I&&(ne=Object(f.jsx)(lt,{forcePrimaryContent:Q,showEnabledSaveBehavior:N,onToggleFlyout:ee,onToggleModal:te,pin:p,...g}));let ie=null;const oe=Object(i.useRef)(!0),re=oe.current;oe.current=!1;const ae=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,a]=Object(i.useState)(!n||t),s=Object(i.useRef)(o),c=Object(i.useRef)(null);if(n){const e=s.current;s.current=o,(o!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(i.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(p,re),se=Ft(Object(We.b)(ae));J.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(J.secondaryContentVisibility,se),ie=(y.allowShoppingPriceIndicator||y.shoppingLabelColor||"none"!==J.secondaryContentVisibility)&&I&&!n&&Object(f.jsx)(m.e,{margin:2,children:Object(f.jsx)(dt.a,{pin:p,...y})});let ce=null;O&&(ce=Object(f.jsx)(E,{pin:p}),J.accessoryContentVisibility=Ft(F)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const le=v?Object(f.jsx)(_,{onToggleFlyout:ee,pin:p,setForcePrimary:B,surface:R,...e}):null;let de=null;x&&(de=Object(f.jsx)(Ze,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?F:null,pin:p,setForcePrimary:B,surface:R,...r})),h.isSocialSeasonalBoard&&(de=Object(f.jsx)(m.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(f.jsx)(m.e,{margin:"auto",width:Vt,children:Object(f.jsx)(Tt,{isFlyoutOpen:L,onFlyoutDismiss:()=>ee(!L),onToggleFlyout:()=>ee(!L),pinId:p.id,sendType:"pin",shownWithinMasonry:!0,viewType:D})})}));const ue=S&&Object(f.jsx)(Pt.b,{...c}),pe=w&&p.debug_info_html&&Object(f.jsx)(m.e,{paddingY:1,children:Object(f.jsx)("pre",{children:p.debug_info_html})}),he=Object(f.jsx)(P.a,{pin:p}),be=Object(i.useRef)();"header-only"===Et(be)&&(J.actionBarVisibility="none",J.accessoryContentVisibility="none");const me=T?Object(f.jsx)(Ct.a,{pin:p,...u}):null;return Object(f.jsx)(C.a,{name:"PinRepContainer",children:Object(f.jsx)("div",{"data-test-id":"pin","data-test-pin-id":p.id,onFocus:H,onBlur:V,onMouseEnter:H,onMouseLeave:V,children:Object(f.jsx)(Mt,{visualOverlayVisibility:Y,savedOverlayVisibility:$,primaryContent:ne,primaryContentVisibility:J.primaryContentVisibility,secondaryContent:ie,secondaryContentVisibility:J.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:J.accessoryContentVisibility,actionBar:le,actionBarVisibility:J.actionBarVisibility,footer:de,selectionState:j,debugContent:ue,signalDebuggerV2Content:he,signalDebuggerV2ContentVisibility:J.signalDebuggerV2ContentVisibility,signalDebuggerContent:pe,obscuredPinOverlay:me,...b,children:Object(f.jsx)(m.e,{height:"100%",ref:be,children:Object(f.jsx)(xt,{blockClickEvents:t,isHovering:U,onError:l,onLoad:d,pin:p,surface:R,selectionState:j,...h})})})})})}))},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},gLeT:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,color:i,disabled:c,href:l,iconEnd:d,inline:u,onClick:p,size:h,tabIndex:b,target:m,text:f}=e,g=o.a.isOffsiteUrl(l);return Object(s.jsx)(r.a,{href:l,target:g?null:m,children:({handleClick:e})=>Object(s.jsx)(a.f,{accessibilityLabel:n,color:i,disabled:c,href:l,iconEnd:d,inline:u,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},ref:t,rel:g?"nofollow":void 0,role:"link",size:h,tabIndex:b,text:f})})});c.displayName="ButtonLink",t.a=c},gONw:function(e,t,n){var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;return i?Object(r.jsxs)(o.e,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(r.jsx)(o.e,{children:Object(r.jsx)(o.B,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(r.jsx)(o.w,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):Object(r.jsx)(o.e,{color:"lightGray",height:40,width:40})})}),Object(r.jsx)(o.e,{padding:2,children:Object(r.jsx)(o.t,{size:"sm",children:e})})]}):Object(r.jsxs)(o.e,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(r.jsx)(o.e,{children:Object(r.jsx)(o.u,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(r.jsx)(o.e,{marginStart:3,children:Object(r.jsx)(o.Y,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var c=n("Ye/N"),l=n("w70y"),d=n("U4JR"),u=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:a,minHeight:p,onBoardSelected:h})=>{const[b,m]=Object(i.useState)(-1),f=Object(u.c)(),{data:g=[],error:j,isLoaded:y}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),O=(v=g,Object(i.useMemo)(()=>v&&v.length?v.map(e=>e.title):[],[v]));var v;Object(i.useEffect)(()=>{y&&t&&f&&(j?f.error():f.stop())},[y]);const _=()=>{m(-1)},x=(t,n)=>{const i=b===n;return Object(r.jsx)("li",{children:Object(r.jsx)(o.X,{onMouseEnter:()=>(e=>{m(e)})(n),onMouseLeave:_,onTap:()=>(e=>{h(O[e],!1),Object(d.b)(101,{component:13025,element:23})})(n),children:Object(r.jsx)(s,{selected:i,name:t,inFlyoutExp:e,image:a})})},n)};return y?O&&O.length?e?Object(r.jsx)("div",{children:Object(r.jsx)("ul",{children:O.map(x)})}):t?Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.e,{marginTop:5,marginStart:6,marginBottom:3,children:Object(r.jsx)(o.Y,{children:c.a._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(r.jsx)("ul",{children:O.map(x)})]}):Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.e,{marginTop:2,paddingX:5,children:Object(r.jsx)(o.Y,{children:c.a._("Suggested board names")})}),Object(r.jsx)("ul",{children:O.map(x)})]}):null:Object(r.jsx)(o.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:p||"",children:Object(r.jsx)(o.R,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},gSZa:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("R6wO"),o=n("Ye/N"),r=n("eqXv"),a=n("vvax"),s=n("0bYG"),c=n("U4JR"),l=n("1Fta"),d=n("n6mq"),u=n("nKUr");function p({feedbackData:e,feedbackType:t,pinId:n,onHide:p,recommendationReason:h,viewParameter:b,viewType:m}){const f=Object(l.a)({i18n:o.a,interpolateNamedTemplate:a.b}),g=(i,o)=>{const a=h&&h.reason&&s.ReasonToChoose[h.reason],d=h&&Object(l.d)(h),u=h&&Object(l.e)(h),{action:g,actionOptions:j}=f.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,throughId:d,throughProperties:u,complaintReason:i});(e=>{Object(c.b)(101,{view:m,viewParameter:b,element:e,component:Object(l.c)(t)})})(o),Object(r.a)(g,j),p()},j="promoted"===t?[{text:o.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:o.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:o.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:o.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:o.a._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:o.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:o.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:o.a._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(u.jsxs)(d.e,{overflow:"hidden",rounding:2,width:"100%",children:[Object(u.jsx)(d.e,{paddingX:4,paddingY:4,children:Object(u.jsx)(d.Y,{color:"darkGray",size:"md",children:o.a._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(u.jsx)(d.o,{}),Object(u.jsx)(d.e,{paddingY:2,children:j.map(({text:e,reason:t,elementType:n})=>Object(u.jsx)(d.X,{fullWidth:!1,onTap:()=>g(t,n),children:Object(u.jsx)(i.a,{compact:!0,text:e})},e))})]})}},"gz6+":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("pody"),o=n("+lzj");const r=e=>({...Object(i.a)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(o.e)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),c=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},"h9/w":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("Ye/N"),r=n("M1Uz"),a=n("n6mq"),s=n("nKUr");function c(e){const{onHide:t}=e,n=Object(s.jsx)(a.Y,{children:o.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(s.jsx)(r.a,{onHide:t,text:n})}var l=n("eOdZ"),d=n("v/Q4"),u=n("ujsJ"),p=n("nGHF");var h=function({anchor:e,onDismiss:t,pinId:n,signals:r}){const[h,b]=Object(i.useState)(0),m=Object(d.a)(),{showOneToast:f}=Object(p.b)();if(!m.isEmployee)return null;const g=r.map(({signal_message:e})=>({href:"#",text:e})),{background_color:j,icon_url:y,signal_id:O,signal_message:v}=r[h];return Object(s.jsx)(a.y,{children:Object(s.jsx)(a.I,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(s.jsxs)(a.e,{padding:4,width:"100%",children:[r.length>1&&Object(s.jsx)(a.e,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(s.jsx)(u.a,{activeTabIndex:h,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),b(e)},size:"lg",tabs:g})}),Object(s.jsx)(a.e,{display:"flex",alignItems:"center",children:Object(s.jsx)(a.t,{size:"sm",children:o.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(s.jsx)(a.e,{paddingY:3,children:Object(s.jsxs)(a.r,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(s.jsx)(a.e,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?Object(s.jsx)(a.w,{alt:o.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:j}},height:40,width:40})}),Object(s.jsx)(a.Y,{size:"md",children:v})]})}),Object(s.jsx)(a.e,{marginBottom:3,children:Object(s.jsx)(a.Y,{size:"md",children:o.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(s.jsxs)(a.r,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(s.jsx)(a.f,{color:"red",size:"md",text:o.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:m.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),f(({onHide:e})=>Object(s.jsx)(c,{onHide:e}))}}),Object(s.jsx)(a.f,{color:"gray",size:"md",text:o.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},b=n("7pfs"),m=n("1unC"),f=n("rYoy");function g({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[c,l]=Object(i.useState)(!1),d=Object(i.useRef)();return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(f.a,{children:Object(s.jsx)(a.e,{"data-test-id":"debug-signals-feedback-button",children:Object(s.jsx)(m.b,{children:Object(s.jsx)(b.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(s.jsx)(a.X,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:Object(s.jsxs)(a.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(s.jsx)(a.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.e,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(s.jsx)(a.w,{alt:"",color:n,src:o,naturalHeight:1,naturalWidth:1})})}),Object(s.jsx)(a.Y,{color:"white",size:"md",weight:"bold",children:r})]})})})})})}),c&&d&&d.current&&Object(s.jsx)(h,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function j({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return n?Object(s.jsx)(g,{pinId:t,signals:n}):i?Object(s.jsx)(g,{pinId:t,signals:i}):o?Object(s.jsx)(g,{pinId:t,signals:o}):r?Object(s.jsx)(g,{pinId:t,signals:r}):a?Object(s.jsx)(g,{pinId:t,signals:a}):null}},hgQt:function(e,t,n){var i=n("Juji"),o=n("4sDh");e.exports=function(e,t){return null!=e&&o(e,t,i)}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return s}));var i=n("Ye/N"),o=n("dtqy"),r=n("n6mq"),a=n("nKUr");function s({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:o,wrappingIconStyle:s,shouldUseLegoStyles:c,onDelete:l}){const d=Object(a.jsx)(r.v,{accessibilityLabel:i.a._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return c?Object(a.jsx)(r.f,{size:"lg",color:"gray",text:i.a._("Saved","PinRepEditButton.SavedButton","saved button on pin"),onClick:l,accessibilityLabel:i.a._("Pin Saved Button","PinRepEditButton.SavedButtonLabel","saved button label on pin"),selected:!0}):n||o?Object(a.jsx)("div",{style:{...s||{}},children:d}):d}t.default=Object(o.a)(s)},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},jZXB:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("zir5");class o extends i.a{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},jgRP:function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},jmst:function(e,t,n){var i=n("q1tI"),o=n("i8i4"),r=n.n(o),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const d=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends i.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=r.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(d,i),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=this.props.trackFullVisible?e.intersectionRatio>=1:i,r=this.props.trackFullVisible?0===e.intersectionRatio:!o;!this.seen&&o?this.enter(e):this.seen&&r&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return Object(a.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},lm6u:function(e,t,n){n.d(t,"a",(function(){return R}));var i=n("q1tI"),o=n("/MKj"),r=n("1inl"),a=n("3z7j"),s=n("ajUs"),c=n("Ye/N");var l=n("x12c"),d=n("eOdZ"),u=n("G35+"),p=n("M1Uz"),h=n("Wrea"),b=n("ANjH"),m=n("Vzit"),f=n("xjIv"),g=n("WnNx"),j=n("n6mq"),y=n("U4JR"),O=n("NjDU"),v=n("6G9P"),_=n("B6Tf"),x=n("seP0"),S=n("nGHF"),w=n("oN2T"),T=n("EC67"),I=n("nKUr");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi;class C extends i.Component{constructor(...e){super(...e),E(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),E(this,"unmounted",!1),E(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),E(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),E(this,"close",()=>{const{onClose:e,boardPickerStopwatch:t}=this.props;e&&e(),t&&t.abort("boardPickerClose"),Object(y.b)(2502,{component:5,element:610})}),E(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),E(this,"getPinResource",(e,t,n)=>{var i,o;const{color:r,location:a,pin:c,method:l,guid:u,additionalCreateFields:p,advertiser_id:h,previousHistory:b}=this.props;let m;c.id&&(m=Object(s.a)(c,a,b)||(c.tracking_params||"")+"~0");const f=c.id?"RepinResource":"PinResource",g=!c.id&&c.image_url?Object(v.b)(c.image_url,c.link):(null===(i=c.images)||void 0===i||null===(o=i.orig)||void 0===o?void 0:o.url)||"",j={...p,board_id:t||"",color:r||"",clientTrackingParams:m,description:this.state.pinDescription,guid:u||"",link:c.link,image_base64:c.image_base64,image_url:g,is_buyable_pin:!1,is_removable:c.promoted_is_removable,media_upload_id:c.media_upload_id,method:l||"",pin_id:c.id||"",section:n,title:c.title||"",...h?{advertiser_id:h}:{}};if(!e){const{facebook:e,twitter:t}=this.state.sharing;j.share_facebook=e,j.share_twitter=t}return d.a.create(f,j)}),E(this,"triggerPubSubs",e=>{l.a.instance.publish("currentUser","pinCreated",e),l.a.instance.publish(e.board.id,"pinCreated",{pin:e})}),E(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e)),e.catch(e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}),E(this,"handleLogToastClick",()=>{Object(y.b)(101,{component:20,view:52})}),E(this,"showSuggestedBoardToast",(e,t,n,o)=>{const{toastManagerContext:r,shouldShowToast:a}=this.props;if(a&&e){const{name:t,url:n,image_thumbnail_url:o}=e;r.showOneToast(({onHide:e})=>Object(I.jsx)(p.a,{duration:_.a,onHide:e,text:Object(I.jsxs)(i.Fragment,{children:[Object(I.jsx)(j.Y,{children:c.a._("You might also like","Post repin suggested board","Post repin suggested board")}),Object(I.jsx)(j.Y,{weight:"bold",children:t})]}),href:n,imageUrl:o,onClick:this.handleLogToastClick}))}}),E(this,"showBoardSavedToast",(e,t)=>{const{toastManagerContext:n}=this.props;n.showToast(({onHide:n})=>{var i,o;return Object(I.jsx)(p.a,{duration:_.a,onHide:n,text:Object(v.a)(e.name,t),href:t?`${null!==(i=e.url)&&void 0!==i?i:""}${t.slug}`:e.url,imageUrl:null!==(o=e.image_cover_url)&&void 0!==o?o:"",onClick:this.handleLogToastClick})})}),E(this,"dismissModal",e=>{const{resolve:t,newPin:n}=this.state;t&&t(n)}),E(this,"fetchBoardRecommendation",e=>d.a.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(e=>Promise.resolve(e.resource_response.error?null:e.resource_response.data[0]))),E(this,"handleBoardSaveSuccess",(e,t,n,i)=>{var o,r;const{action:s,dispatch:l,hideSuccessAnimation:d,homeTakeoverExperience:u,pin:p,setCompletionPromise:b,shouldShowToast:j,viewerUserId:v}=this.props;l(Object(m.d)());const _=e.resource_response.data,x=this.makeCancelablePromise(new Promise((e,o)=>{this.triggerPubSubs(_);const r=this.state.pinDescription.match(P)||[];r.length>0&&Object(y.b)(2,{element:10273,hashtags:JSON.stringify(r),objectId:this.props.pin.id});const a=d?()=>{}:()=>{j&&this.showBoardSavedToast(t,n),this.safeSetState({displaySuccessAnimation:!0,modalTitle:c.a._("Board created","Modal title after creating a new board","Modal title after creating a new board"),newPin:_,resolve:e})};"repin"===s?(this.fetchBoardRecommendation(_).then(e=>{this.showSuggestedBoardToast(e,_,n,i)}),i?a():e(_)):("create"===s&&u&&500840===u.experience_id&&(l({type:"PIN_CREATED_VIA_CREATOR_CHECKLIST",payload:{pin_created_via_creator_checklist:!0}}),Object(y.b)(7510,{component:13233})),i?a():e(_))}));if(i||l(Object(g.d)(p.id)),b(x),l(Object(w.d)(t)),l(Object(h.d)({boardId:t.id,sectionId:n&&n.id,increment:1})),v&&(l(Object(O.c)({userId:v,increment:1})),l(Object(m.d)())),n||!t.image_cover_url){const{image_url:e,images:n}=p;t.image_cover_url=e||n&&n["236x"]&&n["236x"].url||"",l(Object(w.e)({},t))}n&&l(Object(a.a)(n.id)),l(Object(f.a)(p.id,t.id,null!==(o=t.name)&&void 0!==o?o:"",null!==(r=t.url)&&void 0!==r?r:"",_.id))}),E(this,"handleSaveToBoard",(e,t,n)=>{const{boardPickerStopwatch:i,onToggleModal:o,shouldShowToast:a}=this.props;i&&i.abort("boardPickerSubmit"),a&&!n&&(this.close(),this.showBoardSavedToast(e,t));const s="secret"===(e.privacy||""),c={board:t?t.id:e.id,state:_.b.LOADING};this.safeSetState({boardSavedTo:c},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(i=>{this.safeSetState({boardSavedTo:Object.assign(c,{state:_.b.SUCCESS})},()=>this.handleBoardSaveSuccess(i,e,t,n)),o&&!n&&o(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),r.a.showError(e.message_detail||e.message);const t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),o&&o(!1)})})}),E(this,"handleSocialConnectSet",(e,t)=>{const n=Object.assign({},this.state.sharing);e===u.a.FACEBOOK?n.facebook=t:e===u.a.TWITTER&&(n.twitter=t),this.safeSetState({sharing:n})}),E(this,"handleNewBoardAnimationCompletion",()=>{const{dispatch:e,pin:t}=this.props;e(Object(g.d)(t.id))})}getModalTitle(e,t){return e?t?c.a._("Create section","modal title for create section pane","modal title for create section pane"):c.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t?c.a._("Choose section","modal title for choose section","modal title for choose section"):c.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board")}componentDidUpdate(e){const{boardWithSection:t,showCreate:n,pin:i,description:o}=this.props,r={};i===e.pin&&o===e.description||(r.pinDescription=i.description||o||""),n===e.showCreate&&t===e.boardWithSection||(r.modalTitle=this.getModalTitle(n,t)),Object.keys(r).length>0&&this.safeSetState(r)}componentWillUnmount(){this.unmounted=!0}render(){const{close:e,dismissModal:t,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:o,setModalTitle:r,updateDescription:a}=this,{boardSavedTo:s,displaySuccessAnimation:c,modalTitle:l,newPin:d}=this.state,{color:u,pin:p}=this.props;return this.props.children({boardSavedTo:s,color:u,dismissModal:t,displaySuccessAnimation:c,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:o,modalTitle:l,newPin:d,pin:p,setModalTitle:r,updateDescription:a})}}const R=Object(b.compose)(Object(o.connect)(e=>{const{advertiser:t,viewer:n,history:i}=e,o=n.isAuth&&t&&t.owner_user_id!==n.id?t.id:null,r=e.experiences.eligibleExperiences[11],a=e.experiences.eligibleExperiences[33];return{homeTakeoverExperience:r,previousHistory:i.previous,repinTakeoverExperience:a,...o?{advertiser_id:o}:{},...n.isAuth?{viewerUserId:n.id}:{}}}),S.c,T.l)((function(e){const t=Object(x.c)();return Object(I.jsx)(C,{...e,boardPickerStopwatch:t})}))},mRg4:function(e,t,n){n.d(t,"a",(function(){return j}));let i=null;var o=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i),r=n("FZ8N"),a=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),l=n("o9su"),d=n("FylZ");const u=(e,t)=>Object.keys(e).reduce((n,i)=>{const o=e[i];return o&&(n[i]={timestamp:t+o}),n},{}),p=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce((e,t)=>{const i=n[t];if(!i)return e;const{value:o,type:r}=i;return null==o?e:e.concat({name:t,value:o,annotation_type:r})},[]))};var n},h=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:o,parentId:r,traceId:a})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:o,parentId:r,id:a}),b=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),m=(e,t)=>({...e,annotations:{...b(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:o})=>{let r=p({span:h(t,n),timeOrigin:i}),a=null;return o&&(r=m(r,o),a=((e,t,n)=>{const i=Object(l.a)();return(null==i?void 0:i.responseEnd)?m(p({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||Object(d.a)(),parentId:t},timeOrigin:n}),e):null})(o,e,i)),{trace_id:e,spans:[r,...a?[a]:[],...n.spans.map(e=>p({span:e,timeOrigin:i}))]}},g=Object(a.a)("reportResult");function j({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{ajax:a,serverData:l}=t,d=Object(s.b)(e),u=`${n.type}.${d}`,p=void 0!==i&&{tags:{isAuth:i}}||void 0;if(Object(c.c)(n.reason?u.concat("."+n.reason):u,p),"COMPLETE"!==n.type)return void g("Abort metric "+d,n);const h=null!==(b=window.performance)&&void 0!==b&&b.now?Date.now()-window.performance.now():"unknown";var b,m;if("unknown"===h)return g(`Unable to convert to absolute times for ${d} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+d,p);if(r.c&&(window.PWT_LAB_DATA=o(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!r.c){const i=e.navigationType&&"initial_app_load"===e.navigationType,o=n.traceId,s=f({traceId:o,actionName:d,result:n,timeOrigin:h,serverDataToJoin:i&&l||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((m=t,{debugTrace:r.a,locale:m.locale,stageName:m.stageName,userId:m.isAuthenticated?m.userId:null}))}}),g(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},"mVz+":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u}));const i=40,o=4,r=106,a=133,s=.1,c=10,l=246,d=197,u=236},mvLR:function(e,t,n){function i(e){let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e),e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return i}))},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},nEAA:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const i=e=>"number"==typeof e?Math.round(e):e,o=e=>({type:"I16",value:i(e)}),r=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},nrog:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("eOdZ");function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.a.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then(e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))})}},o9su:function(e,t,n){var i=n("XtwW");t.a=()=>{const[e]=i.a?i.a.getEntriesByType("navigation"):[];return e}},"oCl/":function(e,t,n){var i=n("CH3K"),o=n("LcsW"),r=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:a;e.exports=s},oRM1:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),o=n("zQfT");function r({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:r,resourceOptions:a,value:s}){const c=Object(o.a)({allowSearchOnMount:e,resourceName:r,resourceOptions:a,value:s});return Object(i.useEffect)(()=>{c.length&&n(c)},[c]),t||null}},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},"otv/":function(e,t,n){var i=n("nmnc"),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var i=n("q1tI"),o=n("DzJC"),r=n.n(o),a=n("1dBE"),s=n("nKUr");const{Provider:c,Consumer:l,useHook:d}=Object(a.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(i.useState)(!1),[o,a]=Object(i.useState)(!1),[l,d]=Object(i.useState)(0),[u,p]=Object(i.useState)(null),h=r()(()=>{t&&(a(window.scrollY>0),d(window.scrollY))},50);return Object(i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(i.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[t]),Object(s.jsx)(c,{value:{currentScrollPosition:l,isScrolled:o,setSubheaderShadow:p,subheaderShadow:u},children:e})}},pWkb:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("yaUg"),o=n("Ye/N");function r(e,t){const{isAbbreviated:n,skipSeconds:r}=t||{},a=36e5,s=864e5,c=new Date(e),l=(new Date).getTime()-c.getTime(),d=Math.floor(l/1e3),u=Math.floor(l/6e4),p=Math.floor(l/a),h=Math.floor(l/s),b=Math.floor(l/6048e5),m=Math.floor(l/31536e6);return m>0?n?Object(i.a)(o.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+m}):Object(i.a)(o.a.ngettext("{{ years }} year ago","{{ years }} years ago",m,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+m}):b>1?n?Object(i.a)(o.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+b}):Object(i.a)(o.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",b,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+b}):h>0?n?Object(i.a)(o.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+h}):Object(i.a)(o.a.ngettext("{{ days }} day ago","{{ days }} days ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+h}):p>0?n?Object(i.a)(o.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+p}):Object(i.a)(o.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+p}):u>0?n?Object(i.a)(o.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(i.a)(o.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):d>=0&&!r?n?Object(i.a)(o.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+d}):Object(i.a)(o.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",d,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+d}):o.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},qAg2:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("Ye/N"),o=n("qpbZ");function r(e){const{alt_text:t,auto_alt_text:n}=e;return t?Object(o.b)(i.a._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):n?Object(o.b)(i.a._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:n}).join(""):null}},qD10:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("zwad"),o=n("fJfT"),r=n("EC67"),a=n("nKUr");function s({external:e,onClick:t,to:n,children:s,className:c,style:l,target:d,to:u}){const p=Object(r.h)(),h=Object(r.i)();return Object(a.jsx)("a",{className:c,href:u,onClick:r=>{const a=e||i.a.isOffsiteUrl(n);Object(o.b)({isExternalLink:a,event:r})||(r.nativeEvent.preventDefault(),null==t||t(r),n&&(a?Object(o.c)({href:n,location:h}):Object(o.d)({event:r,href:n,history:p})))},rel:e?"nofollow":"",style:l,target:d?"_blank":null,children:s})}},qYux:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("1dBE"),r=n("nKUr");const{Provider:a,Consumer:s,useHook:c}=Object(o.c)("ContentHeader");function l({children:e}){const[t,n]=Object(i.useState)(!1);return Object(r.jsx)(a,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("VJm5"),o=n("TSYQ"),r=n.n(o),a=n("qAg2");var s={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1},c=n("n6mq"),l=n("nKUr");function d({onError:e,onLoad:t,pin:n}){const{title:i="",dominant_color:o,images:r={}}=n,a=r["474x"].width>r["474x"].height?r["736x"]:r["474x"];return Object(l.jsx)(c.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(l.jsx)(c.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.storyPinImage}},children:Object(l.jsx)(c.w,{alt:i,color:o,naturalHeight:a.height,naturalWidth:a.width,onError:e,onLoad:t,src:a.url,fit:"cover"})})})}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:o,imageFit:s,lowResOnly:p,mediumResOnly:h,onError:b,onLoad:m,pin:f,saved:g=!1,animateGif:j})=>{const{carousel_data:y,description:O="",dominant_color:v,id:_,images:x}=f,S=Object(a.a)(f)||O;if(y)return Object(l.jsx)(i.a,{onError:b,onLoad:m,highResOnly:o,lowResOnly:p,pinId:_});let w,T="",I=0,E=0;if(x){let e=x["236x"];o?e=x["736x"]||x.orig||x["474x"]||x["236x"]:h&&(e=x["474x"]||x.orig||x["236x"]),I=e.height,E=e.width,T=e.url,w=p||h||o?e.url+" 1x":[x["236x"].url+" 1x",x["474x"]&&x["474x"].url+" 2x",x["736x"]&&x["736x"].url+" 3x",x.orig&&x.orig.url+" 4x"].filter(Boolean).join(", ")}if(j){const e=Math.max(f.embed&&f.embed.width||0,236),t=Math.max(f.embed&&f.embed.height||0,236),n=f.embed?f.embed.src:"";n&&(I=t,E=e,T=n,w="")}return Object(l.jsx)(c.e,{minHeight:u,display:"flex",alignItems:"center",children:Object(l.jsx)(c.e,{flex:"grow",children:Object(l.jsx)("div",{className:r()({savedGradient:g}),children:f.story_pin_data_id?Object(l.jsx)(d,{pin:f,onError:b,onLoad:m}):Object(l.jsx)(c.e,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:Object(l.jsx)(c.w,{alt:S,color:"dominant"===n?v:n,fit:s,naturalHeight:I,naturalWidth:E,onError:b,onLoad:m,src:T,srcSet:w})})})})})}},qtKf:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const i=(e,t)=>`${e}:${t||""}`,o=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],r=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},qyR9:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),o=n("jdx6"),r=n("gONw"),a=n("Ye/N"),s=n("gdcG"),c=n("n6mq"),l=n("nKUr");var d=Object(s.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:o,hoverHandlers:r,name:s,onClick:d}=e,u=s||t||a.a._("Create board");return Object(l.jsx)(c.X,{onMouseEnter:r.onMouseOver,onMouseLeave:r.onMouseLeave,onTap:d,children:Object(l.jsxs)(c.e,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%",children:[Object(l.jsx)(c.e,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(l.jsx)(c.u,{accessibilityLabel:a.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),s?Object(l.jsx)(c.e,{margin:1,children:Object(l.jsxs)(c.Y,{inline:!0,overflow:"normal",children:[" ",a.a._("Create: ")," "]})}):null,Object(l.jsxs)(c.Y,{align:"center",inline:!0,truncate:!0,weight:"bold",children:[" ",u," "]})]})})})),u=n("9QW3"),p=n("NdQN"),h=n("IBrh"),b=n("seP0");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),m(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),m(this,"renderSectionHeader",(e,t)=>e.title?Object(l.jsxs)(c.e,{children:[t>0&&Object(l.jsx)(c.o,{}),Object(l.jsx)(c.e,{paddingX:3,paddingY:1,children:Object(l.jsx)(c.Y,{size:"md",children:e.title})})]}):null),m(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:r,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:c=!1}=n,d=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return Object(l.jsx)(o.a,{disabled:e.id===a&&c,isSection:u,isSelectMode:r,isWithinSectionPicker:c,item:e,saveState:d,searchQuery:s,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:o,onCreate:s,pinId:b}=this.props;if(o){const{searchQuery:o}=this.state,a=i(o);return this.indexManager=new u.a(a.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(l.jsxs)(c.e,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(l.jsxs)(c.e,{children:[Object(l.jsx)(c.e,{paddingX:3,marginBottom:4,marginTop:1,children:Object(l.jsx)(p.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})}),Object(l.jsx)(c.o,{})]}),Object(l.jsx)(h.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:a}),Object(l.jsx)(c.o,{}),s&&Object(l.jsx)(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>s(o)}),n&&s&&b&&Object(l.jsx)(r.a,{onBoardSelected:s,pinId:b})]})}return Object(l.jsx)(c.e,{paddingY:5,children:Object(l.jsx)(c.R,{accessibilityLabel:a.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function g(e){const t=Object(b.c)();return Object(l.jsx)(f,{...e,boardPickerStopwatch:t})}},rO08:function(e,t,n){n.r(t),n.d(t,"PinSaveButton",(function(){return x}));var i=n("q1tI"),o=n("/MKj"),r=n("Ye/N"),a=n("TgLd"),s=n("rYoy"),c=n("dMCU"),l=n("2qKt"),d=n("n6mq"),u=n("0nTG"),p=n("lm6u"),h=n("B6Tf"),b=n("y9Ij"),m=n("seP0"),f=n("ANjH"),g=n("xjIv"),j=n("EC67"),y=n("nKUr");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=Object(i.lazy)(()=>n.e("FirstPinCreateCommon").then(n.bind(null,"kj35"))),_=[500639,11022];class x extends i.Component{constructor(e){super(e),O(this,"componentWillUnmount",()=>{this._repinCompletionPromise&&this._repinCompletionPromise.cancel()}),O(this,"setCompletionPromise",e=>{this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(()=>{this.handleRepinHideAndToggle()})}),O(this,"_repinCompletionPromise",null),O(this,"handleRepinHideAndToggle",()=>{this.setState({isRepinModalOpen:!1});const{onToggleModal:e}=this.props;e&&e(!1)}),O(this,"handleSaveButtonClick",({shouldStopEventPropagation:e=!0}={shouldStopEventPropagation:!0})=>this.props.authAction(t=>{t&&(t.preventDefault(),e&&t.stopPropagation());const{onClickCallback:n,onToggleModal:i,oneTapSave:o,boardPickerStopwatch:r,pathname:a}=this.props;n&&n(),o?o.saved||"function"!=typeof o.save||o.save():(r&&(r.start(),Object(m.b)(r,a)),i&&i(!0),this.setState({isRepinModalOpen:this.props.isAuth}))})),O(this,"handleUnsaved",()=>{const{unsave:e,pin:t}=this.props;e(t.id)}),O(this,"handleBoardEdited",({boardId:e,title:t,url:n})=>{const{pin:i,save:o}=this.props;o(i.id,e,t,n)}),O(this,"handleSavedButtonClick",()=>{const{history:e,pin:t,pinSavedInfo:n,viewerId:i}=this.props;let o;t.pinner.id===i?o=t.board.url:n&&(o=n.url),o&&e.push(o)}),O(this,"saveButtonRef",Object(i.createRef)()),O(this,"renderPinToBoardRepin",()=>{const{isCloseupPin:e,onToggleModal:t,pin:n}=this.props,{isFPE:i,isRepinModalOpen:o}=this.state;return o&&i?this.renderFPE():i?null:Object(y.jsx)(p.a,{action:"repin",additionalCreateFields:{is_stl_pin:Object(u.i)(n)},onClose:this.handleRepinHideAndToggle,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,onToggleModal:t,pin:n,children:({dismissModal:t,displaySuccessAnimation:i,handleAbort:r,handleNewBoardAnimationCompletion:a,handleSocialConnectSet:s,handleSaveToBoard:c,newPin:l,updateDescription:d,modalTitle:u,setModalTitle:p})=>Object(y.jsx)(h.c,{dismissModal:t,displaySuccessAnimation:i,handleAbort:r,handleNewBoardAnimationCompletion:a,handleSaveToBoard:c,handleSocialConnectSet:s,isCloseupPin:e,isInModal:!0,modalTitle:u,newPin:l,pin:n,pwtAuxData:{pin_create_method:"repin"},setModalTitle:p,shouldRenderContent:o,updateDescription:d})})});const{experience:t,showRepinOnInitialRender:n}=e;this.state={isFPE:!!t&&_.includes(t.experience_id),isRepinModalOpen:n||!1}}componentDidMount(){const{onMount:e}=this.props;e&&e()}isFPERemoved(e){const{isFPE:t}=this.state,{experience:n}=e;return t&&(!n||!_.includes(n.experience_id))}renderFPE(){const{experience:e,pin:t}=this.props;return Object(y.jsx)(a.b,{accessibilityModalLabel:r.a._("Create board","Accessible create board education modal label","Accessible create board education modal label"),heading:r.a._("Create board","Create board education modal label","Create board education modal label"),onDismiss:this.handleRepinHideAndToggle,size:"lg",children:Object(y.jsx)(d.e,{dangerouslySetInlineStyle:{__style:{marginBottom:64}},children:Object(y.jsx)(s.a,{children:Object(y.jsx)(v,{anchorRef:this.saveButtonRef.current,experience:e,isInModal:!0,onClose:this.handleRepinHideAndToggle,pin:t,pwtAuxData:{pin_create_method:"repin"}})})})})}render(){const{iconOnly:e,isCloseupPin:t,oneTapSave:n,onToggleModal:o,pin:r,renderPinSaveTooltip:a,renderSavedStatus:s,size:c,variant:l,viewerId:u,viewParameter:p}=this.props,h=!!(r.pinner.id===u||r.saved||r.savedInfo||"controlled"===(null==n?void 0:n.type)&&n.saved),m="controlled"===(null==n?void 0:n.type)?"controlled":"classic";return Object(y.jsxs)(i.Fragment,{children:[Object(y.jsxs)(d.e,{ref:this.saveButtonRef,children:[t?Object(y.jsx)(b.a,{iconOnly:e,isCloseupPin:t,isPulsarDisplayed:!this.state.isRepinModalOpen,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!1}),onSavedClick:this.handleSavedButtonClick,saveButtonType:m,saved:h,size:c,variant:l}):Object(y.jsx)(b.b,{carouselData:r.carousel_data,iconOnly:e,isCloseupPin:t,onBoardUpdated:this.handleBoardEdited,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!0}),onSavedClick:this.handleSavedButtonClick,onToggleModal:o,onUnsaved:this.handleUnsaved,renderSavedStatus:s,saveButtonType:m,saved:h,savedInfo:r.savedInfo,size:c,variant:l,viewParameter:p}),this.renderPinToBoardRepin()]}),!!a&&this.saveButtonRef.current&&a(this.saveButtonRef.current)]})}}O(x,"defaultProps",{anchorString:""}),t.default=Object(f.compose)(Object(o.connect)((function({pins:e,viewer:t},{pin:n}){return{email:t.isAuth?t.email:void 0,isAuth:t.isAuth,pinSavedInfo:e[n.id]&&e[n.id].savedInfo,viewerId:t.isAuth?t.id:""}}),(function(e){return{save:(t,n,i,o)=>e(Object(g.a)(t,n,i,o)),unsave:t=>e(Object(g.b)(t))}})),c.a,Object(l.a)(33),j.l)((function(e){const t=Object(m.c)(),{pathname:n}=Object(j.i)();return Object(y.jsx)(x,{...e,boardPickerStopwatch:t,pathname:n})}))},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("/MKj"),o=n("XSD5"),r=n("ZbwW"),a=n("0nTG"),s=n("U4JR"),c=n("4cTg"),l=n("n6mq"),d=n("nKUr");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:h,isEditMode:b,pinId:m,viewParameter:f,viewType:g,variant:j}){const y=Object(i.useSelector)(({pins:e})=>e[m],i.shallowEqual),O=e||Object(r.a)(y),v=Object(i.useDispatch)();if(!O)return null;const _=(e,t,i)=>{b||void 0===o.a||(e.preventDefault(),e.stopPropagation(),v(Object(o.a)(String(m),i))),void 0!==p&&p(i),((e,t,n=0,i,o,r,c,l,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;Object(s.b)(108,{...d,objectId:t,component:l,view:c,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(a.f)(e)||{}})}})(y,m,t,i,O,f,g,n,u,b)},{carousel_slots:x=[],index:S}=O,w=void 0!==t?t:S,T="default"===j,I=T?"white":"#555",E=T?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(d.jsx)(c.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(d.jsx)(l.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:b?1:0,children:[...Array(x.length).keys()].map(e=>{var t;return Object(d.jsx)(l.e,{paddingX:1,children:Object(d.jsx)(l.X,{accessibilityLabel:null!==(t=x[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>_(t,w,e),rounding:"circle",children:Object(d.jsx)(l.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===w?I:E}},rounding:"circle"})})},m+e)})})})}},rVUJ:function(e,t,n){var i,o,r,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),l=n("n6mq"),d=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,zIndex:n}=this.props;return Object(d.jsx)(c.a,{anchor:e,onTouch:t,zIndex:n})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:r,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=r&&i&&a&&o;return Object(d.jsx)(l.I,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(d.jsxs)(l.e,{maxWidth:284,padding:3,width:"max-content",children:[Object(d.jsx)(l.Y,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(d.jsxs)(l.e,{marginTop:2,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.e,{column:6,marginEnd:1,children:Object(d.jsx)(l.f,{color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(r)})}),Object(d.jsx)(l.e,{column:6,children:Object(d.jsx)(l.f,{color:"white",size:"md",text:String(a),onClick:o})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}r={overflow:"breakWord"},(o="defaultProps")in(i=u)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r;var p=n("NdXn"),h=n("AAEI"),b=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:o,isHidden:r,onCompleteClick:c,overflow:m,zIndex:f})=>{var g;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:o}),y=Object(h.a)(null==j?void 0:j.placement_id),O=(null==j||null===(g=j.display_data)||void 0===g?void 0:g.delay)||0,[v,_]=Object(a.useState)(!!O);if(Object(a.useEffect)(()=>{if(O>0&&v){const e=setTimeout(()=>{_(!1)});return()=>clearTimeout(e)}return()=>{}},[O,v]),Object(a.useEffect)(()=>{!v&&j&&y.viewExperience(j.placement_id,j.experience_id)},[v,j]),!j||v||r)return a.Children.only(n);const x=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(b.a)(p.a,!0)(t)})(j);return Object(d.jsxs)(l.e,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(d.jsx)(l.X,{onMouseEnter:()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&y.completeExperience(j.placement_id,j.experience_id)},onTap:()=>{c&&c(),x.skipComplete||y.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(d.jsx)(u,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),y.dismissExperience(j.placement_id,j.experience_id)},overflow:m,pulserOnly:!!x.pulserOnly,tooltip:x.tooltip,tooltipOnly:!!x.tooltipOnly,zIndex:f})]})}},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return _}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",l="Weebly",d="Tealium",u="Magento",p="Squarespace",h="Ecwid",b="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[a]:m.SHOPIFY,[c]:m.WOO_COMMERCE,[s]:m.WORDPRESS,[p]:m.SQUARESPACE,[l]:m.WEEBLY,[d]:m.TEALIUM,[u]:m.MAGENTO,[h]:m.ECWID,[b]:m.BIG_COMMERCE},g={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},O={IMPRESSION_DATA:"impressiondata",CONVERSION_DESTINATION:"conversiondestination",IMPRESSION_EXPIRY:"impressionexpiry",REPORTING_ORIGIN:"reportingorigin"},v=2592e6,_={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_ON:"attributeon"}},rsy7:function(e,t,n){function i(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}n.d(t,"a",(function(){return i}))},sErn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("La7j");function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.a(t,n,o)}}},"sH+O":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e.match(n)||!t.match(n))return null;const i=e.split("."),o=t.split("."),r=Math.max(i.length,o.length);for(let a=0;a<r;a+=1){const e=a<i.length?parseInt(i[a],10):0,t=a<o.length?parseInt(o[a],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class r{constructor(e,t,n){i(this,"start",Date.now()),i(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval(()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("FZ8N"),o=n("F4HH");const{Provider:r,useHook:a}=Object(o.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.b?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=r,l=a},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("Nle8"),r=n("eOdZ"),a=n("0nTG"),s=n("U4JR"),c=n("Y8Sn"),l=n("7jH2"),d=n("nKUr");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:h}){const[b,m]=Object(i.useState)(),[f,g]=Object(i.useState)(),{id:j,tracked_link:y,link:O}=n,v=y||O||"",_=()=>{m(!0)},x=Object(l.d)(Object(l.q)({pin:n})),S=Object(i.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(o.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...u||{},...Object(a.f)(e)||{}})};return r.a.create("OffsiteLinkResource",i)})(n,v,!1).callGet({showError:!1}).then(e=>{e&&(Object(s.b)(12,{clickthrough_type:"rightClick",objectId:j,view:h,viewParameter:x,...u||{},...Object(a.f)(n)||{}}),Object(c.e)()&&Object(s.b)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&Object(c.l)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:h,objectId:j,viewParameter:x,...u||{},...Object(a.f)(n)||{}}))})}),w=e=>{b&&(/^\/pin/.test(e.target.activeElement.attributes.href.value)||(S(),m(!1)),window.removeEventListener(f,w,!1))};return Object(i.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(i.useEffect)(()=>(b&&window&&window.addEventListener(f,w,!1),()=>window.removeEventListener(f,w)),[b,f]),Object(i.useEffect)(()=>(t&&window.addEventListener("contextmenu",_),()=>{window.removeEventListener("contextmenu",_)}),[t]),Object(d.jsx)(i.Fragment,{children:e})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function o({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{x:e/o,y:t/r,w:n/o,h:i/r}}function r({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*r)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:r,entrySource:a,trafficSource:s}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push("x="+e,"y="+t,"w="+n,"h="+i),o&&c.push("cropSource="+o),a&&c.push("entrySource="+a),r&&c.push("q="+r),s&&"unknown"!==s&&c.push("rs="+s);return c.length?"?"+c.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,pinId:o,searchQuery:r,trafficSource:s,view:c}){return`/pin/${o}/${i?"related-products":"visual-search"}/${i||"products"!==c?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:s,searchQuery:r})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},ujsJ:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("n6mq"),o=n("QAzJ"),r=n("pLLR"),a=n("nKUr");function s(e){const t=Object(o.b)("web_auth_gestalt_tabs_v2"),n=Object(o.b)("web_unauth_gestalt_tabs_v2"),{isAuthenticated:s}=Object(r.d)();let c;return c=s?t().anyEnabled:n().anyEnabled,Object(a.jsx)(i.V,{_dangerouslyUseV2:c,...e})}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("jHGc"),o=n("n6mq"),r=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:l,variant:d,viewParameter:u,shouldUseLegoStyles:p}=e,h="pin"===d?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(r.jsxs)(o.e,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===d?-1:void 0,marginEnd:"pin"===d?-1:void 0,paddingX:"closeup"!==d||p?void 0:2,width:"closeup"===d?"100%":void 0,children:[t&&Object(r.jsx)(o.e,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(r.jsx)(o.e,{paddingX:1,flex:"none",marginStart:"auto",children:Object(r.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:h,shouldUseLegoStyles:p,useLegoStyles:"pin"===d})})]})}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),o=n("Ye/N"),r=n("w70y"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function l({pin:e}){const{data:t}=Object(r.a)({name:"PinSaveStatusResource",options:{id:e.id},allowStale:!1});return t&&t.pinned_to_board?Object(c.jsxs)(s.e,{children:[Object(c.jsx)(s.e,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:Object(c.jsx)(s.Y,{align:"center",color:"white",size:"md",weight:"bold",children:Object(a.b)(o.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" ")})}),Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",marginTop:-3,children:Object(c.jsx)(s.u,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var d=n("P6kd"),u=n("g/XF"),p=n("U4JR");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,m=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class f extends i.Component{constructor(...e){super(...e),h(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),h(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(b,"g");let i="";if(t<e.length){let o=n.exec(e),r=n.lastIndex<t;for(;o&&r;)o=n.exec(e),r=n.lastIndex<t;const a=!!o&&b.test(e.slice(o.index,t));r=!!o&&o.index<t,o&&a&&r&&(i=o[0])}else{const t=m.exec(e);i=t?t[0]:""}this.updateDescription(e);const o=b.test(i),r=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:r,description:e,hashtagQuery:i,isHashtagFlyoutOpen:o,flyoutOpened:this.state.flyoutOpened||o})}),h(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),h(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),h(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),h(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),h(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(p.b)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,i=Number(n+this.state.hashtagQuery.length),o=this.state.description.slice(0,n)+e+" "+this.state.description.slice(i);this.updateDescription(o),this.setState({description:o,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),h(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:o,editing:r,flyoutOpened:a,hashtagQuery:p,isHashtagFlyoutOpen:h}=this.state,{images:b,link:m}=n,f=b&&b["236x"],g=f&&f.url||n.image_base64;return Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:a&&r?{transform:"translateY(-75px)"}:{}},children:[Object(c.jsxs)(s.e,{display:"flex",direction:"column",alignItems:"center",children:[n&&n.id&&Object(c.jsx)(l,{pin:n}),Object(c.jsx)(s.e,{paddingY:t?9:0,width:240,children:Object(c.jsx)(s.e,{ref:i,maxHeight:a&&r?220:335,rounding:4,overflow:"hidden",children:g?Object(c.jsx)(s.w,{alt:o,src:g,naturalHeight:(null==f?void 0:f.height)||1,naturalWidth:(null==f?void 0:f.width)||1}):!!m&&Object(c.jsx)(u.a,{color:e||"",description:o,url:m})})})]}),this.anchor&&h?Object(c.jsx)(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:r,query:p}):null]})}}},vZlu:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function c(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("n6mq"),o=n("XLg/"),r=n("nKUr");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.a,visibility:s}){return"none"!==s&&e?Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vh5K:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mwIZ"),o=n.n(i);function r(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function s(e){return o()(e,["display_data","anchor"])}function c(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function l(e,t){t&&8===t.type&&(e[s(t)]=t)}},vpxy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("9WJf"),a=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:c,title:l}=t,{isOwnPin:d,isPromoted:u}=Object(a.a)(t);if(o){const{carousel_slots:e=[],index:t=0}=o;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(s.a.includes(n))return r||"";if(d&&!e&&!o&&"UserProfilePinGrid"!==n)return"";const t=c&&"mobile application"!==c.type_name&&c.display_name,a=i&&i.title;return l||t||a||r||""}return r||""}const l=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n("JW66"),u=n("jgRP"),p=n("QLqj"),h=n("XPo3"),b=n("mVz+");const m=["ShoppingCatalogsProductsMetadata"];var f=n("8A+h"),g=n("clxp");const j={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var y=n("Xuu2"),O=n("63p3");var v=n("Zygf");var _=n("rYoy"),x=n("v/Q4"),S=n("gC5q"),w=n("T5j3"),T=n("Y8Sn"),I=n("ENhS"),E=n("gD/Z"),P=n("N89m"),C=n("EPem");const R=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function A({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:o,feedbackType:r,hasCarouselData:s,isGroupBoard:l,isOwnBoard:d,pin:u,showImageOnly:p,showNativeReactions:h,showPromotedShoppingPrice:b,surface:m,viewer:f}){var g;const{isPromoted:j,isSponsored:y}=Object(a.a)(u),{promoter:O,pin_note:v}=u,_=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(R.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:l,pin:u,showImageOnly:p,surface:m}),x=p?"":c({isGroupBoard:l,pin:u,surface:m}),S=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!j&&!p&&Boolean(Object(P.a)(u)),w="ShoppingWishlist"===m,T="BaseBoardPinGrid"===m&&v?null===(g=v.text)||void 0===g?void 0:g.trim():null,I=j,E="shopping"===i,A=/ShoppingSquareGridRelatedProducts/.test(m);let D=2;j?D=3:(S||"none"!==_)&&(D=E||A?2:1);let k,N,L,B;if(E||(j&&A||b)){var M,U;const e=null===(M=u.rich_summary)||void 0===M||null===(U=M.products)||void 0===U?void 0:U[0],{offer_summary:t}=e||{};k=t?t.standard_price:void 0,N=t?t.price||t.max_price:void 0}if(E&&!j){var F,H,V,G;const{rating_count:e,rating_value:t,review_count:n}=(null===(F=u.rich_summary)||void 0===F?void 0:F.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(L={count:e||n,rating:t}),B=null===(H=u.rich_metadata)||void 0===H||null===(V=H.products)||void 0===V||null===(G=V[0])||void 0===G?void 0:G.shipping_info}const z=E||["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(m)?20:30;let Y;Y=l?25:"CloseupRelatedProducts"===m?23:z;const q=Object(C.e)(u,f),W="CreatorProfileStoryPinGrid"!==m&&"CreatorProfileActivityPinGrid"!==m,K=l&&!y;return{attributionType:_,board:t,contentType:i,feedbackData:o,feedbackType:r,isDarkPromoter:!j&&!!O,pinNoteText:T,pinTitle:x,productCurrentPrice:N,productOriginalPrice:k,productRating:L,productShipping:B,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:s,showFavoriteButton:"BaseBoardPinGrid"===m&&d||Boolean(null==t?void 0:t.should_show_board_activity),showGroupBoardAvatar:K,showNativeReactions:h,showOverflowMenu:I,showPinStats:q,showSource:S,showTextContent:W,showVisitSiteButton:w,singleLineMaxLength:Y,titleLines:D}}var D=n("g5OB"),k=n("W5T3"),N=n("QAzJ"),L=n("0S8y"),B=n("nKUr");const M=Object(i.lazy)(()=>Promise.all([n.e("446ce4f18f3cdcf95db7e441c51a3b5172ecfb24"),n.e("075f16d4784935ff1af8dc9d880285eb28eeaeb7"),n.e("ChangeBoardModalCommon")]).then(n.bind(null,"2tul"))),U=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],F=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],H=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];t.a=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[""+a]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:P,debugImpressionState:C,feedbackOptions:R,imageOnlyOption:V="default",isSocialSeasonalBoard:G,pinImageCrop:z,pinImageFit:Y,reduxPin:q,resolution:W="default",saveButtonOptions:K,surface:X,trackingParameters:$,...J}){const{collaborated_by_me:Z,collaborator_count:Q,is_collaborative:ee}=n||{},{pinner:te,showFeedback:ne,sponsorship:ie}=q,oe=Object(v.a)(q),re=Object(x.a)(),{slotIndex:ae,viewParameter:se}=$,{anyEnabled:ce}=Object(N.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(X)),le=Object(o.useSelector)(({ui:e})=>e.views),de=Object(o.useSelector)(({ui:e})=>e),ue=de.app?de.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},pe=Object(T.k)(q.id,ue),he=Object(o.useSelector)(({changeBoardFromToast:e})=>e),be=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(q),me=Object(O.a)(q)||be,fe=re.isAuth&&re.isEmployee,ge=re.isAuth&&(Object(L.c)({user:re})||Object(L.d)({user:re}))&&!re.isPartner;let je=ge;"TodayArticleFeed"===X&&(je=!1),"default"!==V&&(je="image-only"===V),function(e){return s.c.includes(e)}(X)&&(je=!1),"ShoppingSquareGridDomainNoMetadata"===X&&(je=!0);let ye=t;ge&&!ye&&(ye="image-only");const Oe=Object(y.a)({feedbackOptions:R,pin:q,viewParameter:se}),{data:ve}=R||{},_e="number"==typeof Q&&Q>0||ee,xe=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=j[t];return!!n&&"dense"===e[n]}(le,X),Se=Boolean(_e&&"BaseBoardPinGrid"===X),we=Object(f.a)(re,n),Te=Boolean(re.isAuth&&te&&te.id===re.id),Ie=Boolean(Z||_e&&we),Ee=re.isAuth&&re.isPartner,Pe=q.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==X,Ce=Object(N.b)("web_lego_save_flow")().anyEnabled,Re=Object(i.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isOwnPin:a,isQuickPromotable:c,isRemovable:l,saveButtonOptions:d,surface:u,viewer:p,viewerIsCollaborator:h,shouldUseLegoStyles:b}){const f=p.isAuth?p.boardCount:void 0;let g=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(f);c?g={type:"promote"}:(h||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&"BoardlessPins"!==u&&(g={type:"classic"}),i&&(g={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(l||m.includes(u))&&(g={type:"none"});const j=o&&!n,y=e&&Object(r.a)({action:4,board:e})||a;return{board:e,derivedSaveButtonOptions:g,showEditButton:!b&&Boolean(j||"UserProfilePinGrid"===u&&y),showLikeButton:h&&n&&s.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:b}}({board:n,isInlineBetterSave:ce,isDenseView:xe,isGroupBoard:Se,isOwnBoard:we,isOwnPin:Te,isQuickPromotable:Pe,isRemovable:oe,saveButtonOptions:K,shouldUseLegoStyles:Ce,surface:X,viewer:re,viewerIsCollaborator:Ie}),[n,ce,xe,Se,we,Te,Pe,oe,K,Ce,X,re,Ie]),{isPromoted:Ae}=Object(a.a)(q),{group:De}=Object(N.d)("web_shopping_grid_labels"),{anyEnabled:ke}=Object(N.d)("web_shopping_grid_metadata_ratings_shipping"),Ne=["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingWishlist","ShoppingWishlistCategories"];let Le;[...Ne,"ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(X)&&!Ae&&(ke&&Ne.includes(X)?Le="white":["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(De)?Le="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(De)&&(Le="white"));const Be=Object(i.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:be,shoppingLabelColor:Le,surface:X}),[be,Le,X]),Me=me,Ue=Object(i.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:s,pin:d,surface:u,shouldUseLegoStyles:p}){const{isOwnPin:h,isPromoted:b}=Object(a.a)(d),m=c({isGroupBoard:o,pin:d,surface:u}),f=e&&Object(r.a)({action:4,board:e})||h,g=d.savedInfo&&d.savedInfo.localPinId,j=Boolean(p&&(s&&!o||"UserProfilePinGrid"===u&&f||g)),y=o&&f||j,O=Boolean((null==e?void 0:e.is_collaborative)||j),v=!(b||s||o||l.includes(u)),_="CloseupRelatedProducts"!==u;let x=o&&i?"equally-spaced":"default",S="default";return i&&(S=o?"icon-only":"truncated-text"),i&&p&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(S="icon-only",x="equally-spaced"),{actionBarEditBeforeShare:O,feedbackData:t,feedbackType:n,layout:x,pinTitle:m,shouldUseLegoStyles:p,showEditButton:y,showOverflowMenu:v,showShareButton:_,sourceLinkStyle:S}}({board:n,feedbackData:ve,feedbackType:Oe,isDenseView:xe,isGroupBoard:Se,isOwnBoard:we,pin:q,surface:X,shouldUseLegoStyles:Ce}),[n,ve,Oe,xe,Se,we,q,X,Ce]),Fe=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(X),He=!Ae&&Fe?"shopping":"standard",Ve=Object(w.c)(q),Ge=Object(i.useMemo)(()=>A({attributionOption:ye,board:n,boardActivityOptions:P,contentType:He,feedbackData:ve,feedbackType:Oe,hasCarouselData:me,isGroupBoard:Se,isOwnBoard:we,pin:q,showImageOnly:je,showNativeReactions:Ve,showPromotedShoppingPrice:ke&&Ae&&Fe,surface:X,viewer:re}),[ye,n,P,He,ve,Oe,me,Se,we,Ae,Fe,q,ke,je,Ve,X,re]);let ze=Boolean(Ge.pinTitle)||Ge.contentType||Ge.userNote||Ge.showSource||"none"!==Ge.attributionType||Ge.showNativeReactions||Ge.productCurrentPrice||Ge.productOriginalPrice||Ge.showPinStats||Se;"BaseBoardPinGrid"===X&&we&&Ee||ie?ze=!0:U.includes(X)||xe&&(we||Z)||G?ze=!1:Te||"CreatorProfileStoryPinGrid"!==X&&"CreatorProfileActivityPinGrid"!==X||(ze=!1);const Ye=Boolean(ne),{anyEnabled:qe,customActivate:We}=Object(N.c)("web_others_board_feed_ads_border");let Ke=!1;"BaseBoardPinGrid"===X&&Ae&&(Ke=qe,We());const Xe={showNoPinBorderRadius:"TopicBestPinNarrow"===X||"TopicBestPinWide"===X,showPromotedPinBorderTreatment:Ke,shouldUseLegoWash:!!Ce},{anyEnabled:$e}=Object(N.a)("hfp_homefeed_control_cta_variants"),Je={feedbackType:Oe,isHomefeedTunerVariantExp:$e},{anyEnabled:Ze}=Object(N.d)("ads_desktop_video_ads"),Qe=Object(i.useMemo)(()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:b.a,width:b.b}:"TopicBestPinWide"===c?l={height:h.h,width:h.i}:"TopicBestPinNarrow"===c?l={height:h.b,width:h.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(c)?l={height:b.i,width:b.i}:o&&(l=o);const m=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(c);let f="none";"string"!=typeof l&&(f="cover",(m||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r||"ShoppingSquareGridDomainNoMetadata"===c)&&(f="contain"));const g=m||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",j=Object(u.a)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===p.c.getItem(d.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:g,imageFit:f,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:j,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}({hasCarouselData:me,isDenseView:xe,isPromoted:Ae,isSocialSeasonalBoard:G,pinImageCrop:z,pinImageFit:Y,resolution:W,showPromotedVideos:Ze,surface:X}),[me,xe,Ae,G,z,Y,W,Ze,X]),et=fe&&Object(k.a)(),tt=Object(i.useMemo)(()=>({debugImpressionState:C,slotIndex:ae}),[C,ae]);return Object(B.jsx)(g.a,{name:"PinRepConfiguration",children:Object(B.jsx)(E.a,{value:$,children:Object(B.jsxs)(I.a,{value:{surface:X},children:[Object(B.jsx)(D.b,{actionBarProps:Ue,blockClickEvents:e,currentlyPlayingVideo:pe,footerProps:Ge,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(X)||Ce&&"BoardMoreIdeasTabContent"===X,impressionsDebuggerProps:tt,obscuredPinOverlayProps:Je,pin:q,pinVisualProps:Qe,presentationProps:Xe,primaryContentProps:Re,secondaryContentProps:Be,showAccessoryContent:Me,showActionBar:!H.includes(X),showFooter:ze,showImpressionsDebugger:et,showObscuredPinOverlay:Ye,showPrimaryAndSecondaryContent:!F.includes(X),showSignalDebugger:fe,surface:X,...Object(S.b)(J,["pinId"])}),he.shouldOpenModal&&he.newPin&&he.originalPin&&he.originalPin.id===q.id&&Object(B.jsx)(_.a,{children:Object(B.jsx)(M,{experience:he.experience,newPin:he.newPin})})]})})})}))},"w/wX":function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),o=n("7w6Q"),r=n("eOdZ"),a=n("U4JR"),s=n("n6mq"),c=n("nKUr");function l(e){const{identifier:t,onUndoHide:n,isGroupChat:l}=e,d=async()=>{const i=r.a.create("ShareSuggestionsHideResource",{user_identifier:t});await i.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(a.b)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(c.jsxs)(s.e,{display:"flex",children:[Object(c.jsx)(s.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(c.jsx)(s.Y,{inline:!0,color:"gray",children:l?i.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):i.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(c.jsx)(s.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(c.jsx)(s.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:i.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})})]})}},wm0H:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("/MKj"),o=n("w70y"),r=n("v/Q4"),a=n("nrog"),s=n("QAzJ");const c=0,l=1;function d(){const e=Object(r.a)(),t=!(!e.isAuth||!e.has_quicksave_board),n=Object(s.b)("web_curation_save_behavior");return{showEnabledSaveBehavior:t&&n().anyEnabled}}function u(e){var t;const n=Object(i.useDispatch)(),c=Object(r.a)(),l=c.isAuth&&!!c.boardCount&&c.boardCount<5,d=Object(s.b)("web_curation_save_behavior"),u=l&&e&&d().anyEnabled,p=Object(o.a)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:c.isAuth&&c.id},dangerouslyDisableFetch:!u||!e});return c.isAuth&&void 0===c.save_behavior&&p&&null!==(t=p.data)&&void 0!==t&&t.id&&n(Object(a.b)(p.data.save_behavior)),{showEnabledSaveBehavior:u}}function p(e){const t=Object(r.a)();let n;return e&&(t.save_behavior===c?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},wrZu:function(e,t,n){var i=n("+K+b"),o=n("XYm9"),r=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return r(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},xfna:function(e,t,n){n.d(t,"a",(function(){return le})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return ue}));var i=n("q1tI"),o=n("EHyI");var r,a,s,c,l=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`},d=n("7w6Q"),u=n("LrH5"),p=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},h=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},b=!1,m=function(e,t){b||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),b=!0),addEventListener("visibilitychange",(function n(i){"hidden"===document.visibilityState&&(e(i),t&&removeEventListener("visibilitychange",n,!0))}),!0)},f=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},g=new WeakSet,j=function(e,t,n){var i;return function(){t.value>=0&&(n||g.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},y=-1,O=function(){return"hidden"===document.visibilityState?0:1/0},v=function(){m((function(e){var t=e.timeStamp;y=t}),!0)},_=function(){return y<0&&(y=O(),v(),f((function(){setTimeout((function(){y=O(),v()}),0)}))),{get timeStamp(){return y}}},x={passive:!0,capture:!0},S=new Date,w=function(e,t){r||(r=t,a=e,s=new Date,E(removeEventListener),T())},T=function(){if(a>=0&&a<s-S){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+a};c.map((function(t){t(e)})),c=[]}},I=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){w(e,t),o()},i=function(){o()},o=function(){removeEventListener("pointerup",n,x),removeEventListener("pointercancel",i,x)};addEventListener("pointerup",n,x),addEventListener("pointercancel",i,x)}(t,e):w(t,e)}},E=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,I,x)}))};const P=Object(u.a)("LayoutShiftDebugger"),C=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&C(e.parentNode)||null;var R=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i=[];const o=l(e)+".CLS";let r=0;const a=()=>{var e;r=null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():0};window.addEventListener("scroll",a),window.addEventListener("beforeunload",()=>window.removeEventListener("scroll",a)),function(e,t){var n,i=p("CLS",0),o=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),n())},r=h("layout-shift",o);r&&(n=j(e,i,t),m((function(){r.takeRecords().map(o),n()})),f((function(){i=p("CLS",0),n=j(e,i,t)})))}(({entries:e})=>{const o=t(),a=n(),s=e.slice(i.length);i=i.concat(s.map(e=>({shift:e,route:o,hadRecentNavigation:a>0&&a+500>e.startTime,hadRecentScroll:r>0&&r+500>e.startTime})))},!0);let s=0;const c=setInterval(()=>{if(i.length===s)return;const e=i.slice(s);s=i.length;let t=Object.freeze({});e.forEach(({shift:{value:e,sources:n},route:i,hadRecentNavigation:o,hadRecentScroll:r})=>{if(!n||!n.length)return;const a=e/n.length;n.forEach(({node:e})=>{const n=e?C(e)||"ROOT":"NODE_REMOVED",s={route:i,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:r},c=JSON.stringify(s);t={...t,[c]:{score:((t[c]||{}).score||0)+a,tags:s}}})}),Object.keys(t).forEach(e=>{const{score:n,tags:i}=t[e];d.a.count(o+".shifts",(e=>Math.round(1e3*e))(n),1,{...i})});const n=e.reduce((e,{shift:{value:t}})=>e+t,0);P("Debug CLS boundaries",n,t,e)},1e3);window.addEventListener("beforeunload",()=>clearInterval(c))};var A=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}},D=n("gg0E"),k=n("SyXB"),N=n("FZ8N"),L=n("3/Bf"),B=n("+lzj"),M=n("HMdf"),U=n("o9su");var F=()=>Object(B.c)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[t+"_loadTime"]?e[t+"_dupe_loadTime"]?{...e,[t+"_dupe_loadTime"]:n,[t+"_dupe_renderTime"]:i}:e:{...e,[t+"_loadTime"]:n,[t+"_renderTime"]:i},Object.freeze({})),H=n("pody"),V=n("gz6+"),G=n("Og0o");var z=e=>{switch(e){case"pin_closeup":{const e=Object(G.b)();return(e=>{const t=Object(M.d)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...Object(V.a)(`${n}${i?"_dupe1":""}_`,Object(H.a)(t))}),e),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}},Y=n("B/lV"),q=n("vzKb"),W=n("FylZ"),K=n("mRg4"),X=n("LvPn"),$=n("fZG9");var J=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:o})=>{const r=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=Object(q.a)({entryTypes:["resource"]},t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))})}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let a=!0;return Object(L.c)("TIMING."+i,{tags:{isAuth:o.isAuthenticated}}),{stop:s=>{if(!a)return;a=!1,r.disconnect();const c={type:"stopwatch",name:i,navigationType:"initial_app_load"},l=Object(W.a)(),d=Object(U.a)(),u=r.get(),p={type:"COMPLETE",traceId:Object(W.a)(),startTime:0,endTime:s,spans:[{name:"network_resources",id:l,startTime:0,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...u.map(e=>Object(X.a)(Object(Y.a)(e,[]),l)).filter(Boolean)],annotationMap:{...Object(V.a)("resource_",n?z(n):{}),...Object(V.a)("element_",F()),...Object(V.a)("mark_",t&&t.length?Object(V.d)(Object(k.d)(),t):{}),...Object(V.a)("browser_",d?Object(V.b)(d):{})},binaryAnnotationMap:Object($.a)({annotateExperiments:e,metricId:c,pwtStaticContext:o,performanceResourceTimings:u})};Object(K.a)({metricId:c,pwtStaticContext:o,result:p,isAuth:o.isAuthenticated})}}};const Z=()=>({current:0,entries:[],firstTs:Number.NEGATIVE_INFINITY,id:`v1-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,max:0,prevTs:Number.NEGATIVE_INFINITY});var Q=e=>{let t,n=Z();const i=()=>{"hidden"===document.visibilityState&&(void 0===t||n.max>t)&&(t=n.max,e({name:"CLS",value:n.max,delta:0,id:n.id,entries:n.entries}))},o=e=>{e.hadRecentInput||((e.startTime-n.firstTs>5e3||e.startTime-n.prevTs>1e3)&&(n.firstTs=e.startTime,n.current=0),n.prevTs=e.startTime,n.current+=e.value,n.max=Math.max(n.max,n.current),n.entries.push(e),i())},r=((e,t)=>{try{if(window.PerformanceObserver.supportedEntryTypes.includes(e)){const n=new window.PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(a){}return null})("layout-shift",o);var s;r&&((e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e()};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)})(()=>{r.takeRecords().map(o),i()}),s=()=>{n=Z(),t=void 0},window.addEventListener("pageshow",e=>{e.persisted&&s()},!0))};const ee=Object(u.a)("Vitals"),te={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},ne=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_unauth_preload_main_pin_image","mweb_srcset_original_image","mweb_pin_page_appshell_unauth"];case"board":return["mweb_unauth_ssr_board_page"];default:return[]}},ie=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=J({annotateExperiments:ne({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:te[t].LCP,pwtStaticContext:e}),i=J({name:te[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,i={},o=(o,r)=>{if(!i[o]){i[o]=!0;const a=l(e);d.a.timing(`${a}.${t}.${o}`,r,1),n&&n(o,r)}};!function(e,t){var n,i=_(),o=p("FID"),s=function(e){e.startTime<i.timeStamp&&(o.value=e.processingStart-e.startTime,o.entries.push(e),g.add(o),n())},l=h("first-input",s);n=j(e,o,t),l&&m((function(){l.takeRecords().map(s),l.disconnect()}),!0),l&&f((function(){var i;o=p("FID"),n=j(e,o,t),c=[],a=-1,r=null,E(addEventListener),i=s,c.push(i),T()}))}(({value:e})=>o("FID",(e=>Number(e.toFixed(2)))(e))),function(e,t){var n,i=_(),o=p("LCP"),r=function(e){var t=e.startTime;t<i.timeStamp&&(o.value=t,o.entries.push(e)),n()},a=h("largest-contentful-paint",r);if(a){n=j(e,o,t);var s=function(){g.has(o)||(a.takeRecords().map(r),a.disconnect(),g.add(o),n())};["keydown","click"].map((function(e){addEventListener(e,s,{once:!0,capture:!0})})),m(s,!0),f((function(i){o=p("LCP"),n=j(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,g.add(o),n()}))}))}))}}(({value:e})=>{o("LCPCount",Object(B.d)()),o("LCP",(e=>10*Math.round(e/10))(e))}),function(e,t){var n,i=_(),o=p("FCP"),r=h("paint",(function(e){"first-contentful-paint"===e.name&&(r&&r.disconnect(),e.startTime<i.timeStamp&&(o.value=e.startTime,o.entries.push(e),g.add(o),n()))}));r&&(n=j(e,o,t),f((function(i){o=p("FCP"),n=j(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,g.add(o),n()}))}))})))}(({value:e})=>o("FCP",e))},oe=e=>{const{isAuthenticated:t}=e,n=l(e)+".CLS";let i=null;Q(({id:e,value:o})=>{const r=(a=o)<=.1?"good":a<=.25?"adequate":"poor";var a,s;i&&e===i.id?o>i.value&&(i.invalidation||(i={...i,invalidation:"score"},d.a.increment(n+".firstReportScoreWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),ee("First record score was invalid")),"scoreAndBucket"!==!i.invalidation&&r!==i.bucket&&(i={...i,invalidation:"scoreAndBucket"},d.a.increment(n+".firstReportBucketWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),ee("First record bucket was invalid"))):(i={id:e,value:o,bucket:r},d.a.timing(n+".firstRecordScore",(s=o,Math.ceil(100*s)),1),d.a.increment(n+".firstRecord",1,{bucket:r,isAuthenticated:t}),ee("CLS report",o))})};var re=n("EC67"),ae=n("nKUr");const se=Object(i.createContext)(null),ce=Object(i.createContext)(null);function le({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:r,staticContext:a}){const s=Object(i.useRef)(null),c=Object(i.useRef)(null),l=Object(i.useRef)(t),d=Object(i.useRef)(!0),{path:u}=Object(re.k)(),p=Object(i.useRef)(u),h=Object(o.a)(a.deviceType);if(Object(i.useEffect)(()=>{p.current=u},[u]),Object(i.useEffect)(()=>{if(Object(M.f)({size:n||1e3}),Object(B.f)(),Object(L.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(L.c)("not_supported.window.performance."+e)}):Object(L.c)("not_supported.window.performance"),window.PerformanceObserver||Object(L.c)("not_supported.window.PerformanceObserer"),Object(D.a)()||Object(L.c)("not_supported.grid_profiler"),d.current=!1,h&&"Chrome"===a.browserName&&!N.c){oe(a),R({staticContext:a,getCurrentRoute:()=>p.current,getLastNavigationTime:()=>c.current||0});const e=A(u);e&&ie({pwtStaticContext:a,surface:e})}},[]),l.current!==t){l.current=t,c.current=null!==(b=window.performance)&&void 0!==b&&b.now?window.performance.now():null;const{current:e}=c;if(!d.current){const t=!s.current;Object(L.c)("routeStart",{tags:{action:r}}),Object(M.a)(t),Object(B.a)(t),Object(B.b)(),Object(k.b)();const{customBufferSize:n,defaultBufferSize:i}=Object(M.e)();e&&(Object(L.c)("routeStart.customBufferSize",{count:n}),Object(L.c)("routeStart.defaultBufferSize",{count:i}),s.current={time:e,action:r})}}var b;return Object(ae.jsx)(se.Provider,{value:h?a:null,children:Object(ae.jsx)(ce.Provider,{value:s.current,children:e})})}const de=()=>Object(i.useContext)(ce),ue=()=>Object(i.useContext)(se)},xjIv:function(e,t,n){function i(e,t,n,i,o){return{type:"PIN_SAVE",payload:{pinId:e,boardId:t,title:n,url:i,localPinId:o}}}function o(e){return{type:"PIN_UNSAVE",payload:{pinId:e}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},"xs/l":function(e,t,n){var i=n("TYy9"),o=n("Ioao"),r=n("wclG");e.exports=function(e){return r(o(e,void 0,i),e+"")}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("q1tI"),o=(n("PNKV"),n("TSYQ")),r=n.n(o),a=n("rVUJ"),s=n("Ye/N"),c=n("uyxo"),l=n("n6mq"),d=n("nKUr");const u={sm:32,md:40,lg:48},p=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:o,onClick:a,onSavedClick:p,onToggleModal:h,onUnsaved:b,renderSavedStatus:m,saveButtonType:f="classic",saved:g,savedInfo:j,size:y="md",variant:O="classic",viewParameter:v},_)=>g&&"controlled"===f?Object(d.jsx)(l.f,{disabled:!0,text:s.a._("Saved"),size:"sm"}):!i&&j&&m&&b&&o&&"classic"===f?Object(d.jsx)(c.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:b,onEditSubmit:o,onToggleModal:h,pinId:j.localPinId,variant:"pin",viewParameter:v,children:m()}):g&&"classic"===f&&i?Object(d.jsx)(l.f,{accessibilityLabel:s.a._("Saved button","saveButton.saved.label","Saved state label on save button"),text:s.a._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:p}):n?Object(d.jsx)("div",{ref:_,"data-test-id":"SaveButton",children:Object(d.jsx)(l.v,{accessibilityLabel:s.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})}):Object(d.jsx)(l.e,{display:i?void 0:"flex",justifyContent:"end",children:Object(d.jsx)("div",{ref:_,className:r()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===O}),"data-test-id":"SaveButton",onClick:t?void 0:a,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),a(e))},role:"button",tabIndex:"0",children:Object(d.jsx)("div",{className:r()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===O}),children:Object(d.jsx)(l.e,{alignItems:"center",minHeight:u[y],dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(d.jsx)(l.Y,{color:t?"gray":"white",size:"lego"===O?"sm":"md",weight:"bold",children:Object(d.jsx)("span",{className:r()("SaveButton__label",{"SaveButton__label--lego":"lego"===O}),children:s.a._("Save","Pin save button label","Pin save button label")})})})})})}))),h=({isPulsarDisplayed:e,...t})=>{const[n,o]=Object(i.useState)(null),r=Object(i.useCallback)(e=>{o(e)},[n]);return Object(d.jsx)(a.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(d.jsx)(p,{ref:r,...t})})};t.b=p},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),o=n("US8k"),r=n("n6mq"),a=n("nKUr");function s({duration:e}){return Object(a.jsxs)(r.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(r.u,{accessibilityLabel:i.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(r.e,{marginStart:1,children:Object(a.jsx)(r.Y,{color:"white",size:"sm",truncate:!0,children:Object(o.a)(e)})})]})}},yjg8:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return f}));const i=236,o=2*i/3,r=24,a=2,s=125,c=16,l=14,d=16,u=e=>e||d,p=900,h=16,b=24,m=(e=!1,t=!1)=>e?t?h:12:b,f=(e,t,n,i,o=l)=>{const r=e+o;return`\n@media (min-width: ${t*r}px) and (max-width: ${(n+1)*r-1}px) {\n  ${i}\n}\n`}},ynlw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("63p3"),o=n("Y8Sn");function r(e){const{access:t,attribution:n,buyable_product:r,embed:a,is_eligible_for_web_closeup:s,rich_summary:c,sponsorship:l,story_pin_data_id:d,videos:u}=e,p={isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};Object(i.a)(e)&&(p.isCarousel=!0),s&&(p.isOneTap=!0),Object(o.j)(u)&&(p.isVideo=!0);const h=a||n&&n.embed||null;return h&&"gif"===h.type&&(p.isGif=!0),(r||c&&"product"===c.type_name)&&(p.isProduct=!0),c&&"recipe"===c.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),d&&(p.isStoryPin=!0),l&&(p.isSponsored=!0),p}},zEVN:function(e,t,n){var i=n("Gi0A"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isMap,s=a?o(a):i;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI");const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=r,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.a.create(e,n),o=new a,r=()=>{i.abort()};return async function(e){const t=o.get(e);if(t){const n=t.items;if(n&&n.length){r();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{if(i.isCalling()){var t;if(e===(null===(t=i.options)||void 0===t?void 0:t.term))return;r()}const{bookmarks:n,...a}=i.options||{};i.options={...a,term:e};const s=(await i.callGet({showError:!1})).resource_response.data,c=s.items,l=s.hint||{},d={hint:l,items:c};return o.set(e,d),{term:e,items:c,hint:l}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const r=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,l]=Object(i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=o&&(e||r.current))if(o in a.current)l(a.current[o]);else try{const e=await d(o);if(e){const{items:t}=e;a.current[o]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}r.current||(r.current=!0)})()},[o]),s}},zXAL:function(e,t,n){var i=n("/MKj"),o=n("peh1"),r=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(o.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(i.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:r.a,dismissExperience:r.b,fetchAllExperiences:r.d,fetchAllExperiencesMulti:r.f,fetchExperienceForPlacement:r.c,triggerExperimentsForPlacement:r.k,viewExperience:r.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zoYe:function(e,t,n){var i=n("nmnc"),o=n("eUgh"),r=n("Z0cm"),a=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}},0,["446ce4f18f3cdcf95db7e441c51a3b5172ecfb24","aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6","cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c",170,"PinBetterSaveCommon","f06f654e5273bcad57d5351db3b657784f5be618","PinSaveButtonCommon","PinRepEditButtonCommon","075f16d4784935ff1af8dc9d880285eb28eeaeb7","ChangeBoardModalCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinSaveButtonCommon-11c117cdec0a987d676a.mjs.map